/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/login";
exports.ids = ["pages/login"];
exports.modules = {

/***/ "(pages-dir-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Flogin&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Clogin.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Flogin&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Clogin.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getServerSideProps: () => (/* binding */ getServerSideProps),\n/* harmony export */   getStaticPaths: () => (/* binding */ getStaticPaths),\n/* harmony export */   getStaticProps: () => (/* binding */ getStaticProps),\n/* harmony export */   reportWebVitals: () => (/* binding */ reportWebVitals),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   unstable_getServerProps: () => (/* binding */ unstable_getServerProps),\n/* harmony export */   unstable_getServerSideProps: () => (/* binding */ unstable_getServerSideProps),\n/* harmony export */   unstable_getStaticParams: () => (/* binding */ unstable_getStaticParams),\n/* harmony export */   unstable_getStaticPaths: () => (/* binding */ unstable_getStaticPaths),\n/* harmony export */   unstable_getStaticProps: () => (/* binding */ unstable_getStaticProps)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages/module.compiled */ \"(pages-dir-node)/./node_modules/next/dist/server/route-modules/pages/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(pages-dir-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(pages-dir-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! private-next-pages/_document */ \"(pages-dir-node)/./node_modules/next/dist/pages/_document.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-pages/_app */ \"(pages-dir-node)/./src/pages/_app.tsx\");\n/* harmony import */ var _src_pages_login_tsx__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./src\\pages\\login.tsx */ \"(pages-dir-node)/./src/pages/login.tsx\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__, _src_pages_login_tsx__WEBPACK_IMPORTED_MODULE_5__]);\n([private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__, _src_pages_login_tsx__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n// Import the app and document modules.\n\n\n// Import the userland code.\n\n// Re-export the component (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_login_tsx__WEBPACK_IMPORTED_MODULE_5__, 'default'));\n// Re-export methods.\nconst getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_login_tsx__WEBPACK_IMPORTED_MODULE_5__, 'getStaticProps');\nconst getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_login_tsx__WEBPACK_IMPORTED_MODULE_5__, 'getStaticPaths');\nconst getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_login_tsx__WEBPACK_IMPORTED_MODULE_5__, 'getServerSideProps');\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_login_tsx__WEBPACK_IMPORTED_MODULE_5__, 'config');\nconst reportWebVitals = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_login_tsx__WEBPACK_IMPORTED_MODULE_5__, 'reportWebVitals');\n// Re-export legacy methods.\nconst unstable_getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_login_tsx__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getStaticProps');\nconst unstable_getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_login_tsx__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getStaticPaths');\nconst unstable_getStaticParams = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_login_tsx__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getStaticParams');\nconst unstable_getServerProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_login_tsx__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getServerProps');\nconst unstable_getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_login_tsx__WEBPACK_IMPORTED_MODULE_5__, 'unstable_getServerSideProps');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES,\n        page: \"/login\",\n        pathname: \"/login\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    components: {\n        // default export might not exist when optimized for data only\n        App: private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        Document: (private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default())\n    },\n    userland: _src_pages_login_tsx__WEBPACK_IMPORTED_MODULE_5__\n});\n\n//# sourceMappingURL=pages.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVMmcGFnZT0lMkZsb2dpbiZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnNyYyU1Q3BhZ2VzJTVDbG9naW4udHN4JmFic29sdXRlQXBwUGF0aD1wcml2YXRlLW5leHQtcGFnZXMlMkZfYXBwJmFic29sdXRlRG9jdW1lbnRQYXRoPXByaXZhdGUtbmV4dC1wYWdlcyUyRl9kb2N1bWVudCZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBd0Y7QUFDaEM7QUFDRTtBQUMxRDtBQUN5RDtBQUNWO0FBQy9DO0FBQ29EO0FBQ3BEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxpREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyx1QkFBdUIsd0VBQUssQ0FBQyxpREFBUTtBQUNyQyx1QkFBdUIsd0VBQUssQ0FBQyxpREFBUTtBQUNyQywyQkFBMkIsd0VBQUssQ0FBQyxpREFBUTtBQUN6QyxlQUFlLHdFQUFLLENBQUMsaURBQVE7QUFDN0Isd0JBQXdCLHdFQUFLLENBQUMsaURBQVE7QUFDN0M7QUFDTyxnQ0FBZ0Msd0VBQUssQ0FBQyxpREFBUTtBQUM5QyxnQ0FBZ0Msd0VBQUssQ0FBQyxpREFBUTtBQUM5QyxpQ0FBaUMsd0VBQUssQ0FBQyxpREFBUTtBQUMvQyxnQ0FBZ0Msd0VBQUssQ0FBQyxpREFBUTtBQUM5QyxvQ0FBb0Msd0VBQUssQ0FBQyxpREFBUTtBQUN6RDtBQUNPLHdCQUF3QixrR0FBZ0I7QUFDL0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLGFBQWEsOERBQVc7QUFDeEIsa0JBQWtCLG9FQUFnQjtBQUNsQyxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQsaUMiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc1JvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9wYWdlcy9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSBhcHAgYW5kIGRvY3VtZW50IG1vZHVsZXMuXG5pbXBvcnQgKiBhcyBkb2N1bWVudCBmcm9tIFwicHJpdmF0ZS1uZXh0LXBhZ2VzL19kb2N1bWVudFwiO1xuaW1wb3J0ICogYXMgYXBwIGZyb20gXCJwcml2YXRlLW5leHQtcGFnZXMvX2FwcFwiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vc3JjXFxcXHBhZ2VzXFxcXGxvZ2luLnRzeFwiO1xuLy8gUmUtZXhwb3J0IHRoZSBjb21wb25lbnQgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsICdkZWZhdWx0Jyk7XG4vLyBSZS1leHBvcnQgbWV0aG9kcy5cbmV4cG9ydCBjb25zdCBnZXRTdGF0aWNQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCAnZ2V0U3RhdGljUHJvcHMnKTtcbmV4cG9ydCBjb25zdCBnZXRTdGF0aWNQYXRocyA9IGhvaXN0KHVzZXJsYW5kLCAnZ2V0U3RhdGljUGF0aHMnKTtcbmV4cG9ydCBjb25zdCBnZXRTZXJ2ZXJTaWRlUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgJ2dldFNlcnZlclNpZGVQcm9wcycpO1xuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCAnY29uZmlnJyk7XG5leHBvcnQgY29uc3QgcmVwb3J0V2ViVml0YWxzID0gaG9pc3QodXNlcmxhbmQsICdyZXBvcnRXZWJWaXRhbHMnKTtcbi8vIFJlLWV4cG9ydCBsZWdhY3kgbWV0aG9kcy5cbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTdGF0aWNQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCAndW5zdGFibGVfZ2V0U3RhdGljUHJvcHMnKTtcbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTdGF0aWNQYXRocyA9IGhvaXN0KHVzZXJsYW5kLCAndW5zdGFibGVfZ2V0U3RhdGljUGF0aHMnKTtcbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTdGF0aWNQYXJhbXMgPSBob2lzdCh1c2VybGFuZCwgJ3Vuc3RhYmxlX2dldFN0YXRpY1BhcmFtcycpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFNlcnZlclByb3BzID0gaG9pc3QodXNlcmxhbmQsICd1bnN0YWJsZV9nZXRTZXJ2ZXJQcm9wcycpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFNlcnZlclNpZGVQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCAndW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzJyk7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc1JvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFUyxcbiAgICAgICAgcGFnZTogXCIvbG9naW5cIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2xvZ2luXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogJycsXG4gICAgICAgIGZpbGVuYW1lOiAnJ1xuICAgIH0sXG4gICAgY29tcG9uZW50czoge1xuICAgICAgICAvLyBkZWZhdWx0IGV4cG9ydCBtaWdodCBub3QgZXhpc3Qgd2hlbiBvcHRpbWl6ZWQgZm9yIGRhdGEgb25seVxuICAgICAgICBBcHA6IGFwcC5kZWZhdWx0LFxuICAgICAgICBEb2N1bWVudDogZG9jdW1lbnQuZGVmYXVsdFxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Flogin&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Clogin.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(pages-dir-node)/./src/lib/api.ts":
/*!************************!*\
  !*** ./src/lib/api.ts ***!
  \************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createQuery: () => (/* binding */ createQuery),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./logger */ \"(pages-dir-node)/./src/lib/logger.ts\");\n/* harmony import */ var react_hot_toast__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-hot-toast */ \"react-hot-toast\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_0__, react_hot_toast__WEBPACK_IMPORTED_MODULE_2__]);\n([axios__WEBPACK_IMPORTED_MODULE_0__, react_hot_toast__WEBPACK_IMPORTED_MODULE_2__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n// Determine API base URL with support for reverse proxies (HTTP→HTTPS).\n// Priority:\n//   1. Explicit NEXT_PUBLIC_API_URL if provided\n//   2. If that URL points to the same host but with a different scheme than the\n//      current page, prefer the current page's origin to avoid mixed‑content\n//      errors when running behind an HTTPS reverse proxy.\n//   3. Fallback to the current browser origin (if available), otherwise a\n//      sensible local default.\nlet resolvedBase = \"http://localhost:8005\" || 0;\nif (false) {}\nif (!resolvedBase) {\n    if (false) {} else {\n        // Server‑side fallback for local development\n        resolvedBase = \"http://localhost:8000\";\n    }\n}\nconst API_BASE_URL = resolvedBase;\nclass ApiClient {\n    /**\n   * Helper to unwrap our standard APIResponse envelope and return the contained\n   * `data` field. Falls back gracefully when the backend returns the raw data\n   * instead of the envelope (e.g. legacy endpoints).\n   */ extractData(response) {\n        const payload = response.data;\n        if (payload && typeof payload === \"object\" && \"data\" in payload) {\n            return payload.data;\n        }\n        return payload;\n    }\n    constructor(){\n        this.tabId = null;\n        this.refreshTimer = null;\n        this.isRefreshing = false;\n        this.client = axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\n            baseURL: API_BASE_URL,\n            timeout: 30000,\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"X-Requested-With\": \"XMLHttpRequest\"\n            }\n        });\n        // Auto-refresh timer based on JWT exp\n        this.setupTokenRefresh();\n        // Track open tabs and clear auth on last tab close\n        this.setupCrossTabSession();\n        // Cross-tab logout sync: if another tab removes the token, redirect here too\n        if (false) {}\n        this.client.interceptors.request.use((config)=>{\n            const token = this.getToken();\n            const requestId = `req_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n            // Add timing information\n            config.metadata = {\n                startTime: Date.now(),\n                requestId\n            };\n            // Log API request to file\n            _logger__WEBPACK_IMPORTED_MODULE_1__.logger.apiRequest(config.method || 'GET', config.url || '', {\n                requestId,\n                hasAuth: !!token,\n                timeout: config.timeout\n            });\n            if (token) {\n                config.headers.Authorization = `Bearer ${token}`;\n            }\n            config.headers[\"X-Request-ID\"] = requestId;\n            config.headers[\"X-Client-Version\"] = \"1.0.0\";\n            // Add timestamp for request freshness validation\n            config.headers[\"X-Timestamp\"] = new Date().toISOString();\n            return config;\n        }, (error)=>{\n            _logger__WEBPACK_IMPORTED_MODULE_1__.logger.error(\"Request interceptor error\", {\n                message: error.message,\n                stack: error.stack,\n                config: error.config ? {\n                    method: error.config.method,\n                    url: error.config.url\n                } : undefined\n            });\n            return Promise.reject(error);\n        });\n        // Response interceptor for error handling\n        this.client.interceptors.response.use((response)=>{\n            const duration = response.config.metadata?.startTime ? Date.now() - response.config.metadata.startTime : undefined;\n            const requestId = response.config.metadata?.requestId;\n            // Log API response to file\n            _logger__WEBPACK_IMPORTED_MODULE_1__.logger.apiResponse(response.config.method || 'GET', response.config.url || '', response.status, duration, {\n                requestId,\n                responseSize: JSON.stringify(response.data).length,\n                contentType: response.headers['content-type']\n            });\n            return response;\n        }, (error)=>{\n            const duration = error.config?.metadata?.startTime ? Date.now() - error.config.metadata.startTime : undefined;\n            const requestId = error.config?.metadata?.requestId;\n            // Log API error to file\n            _logger__WEBPACK_IMPORTED_MODULE_1__.logger.error(`API Error: ${error.config?.method?.toUpperCase()} ${error.config?.url}`, {\n                requestId,\n                status: error.response?.status,\n                statusText: error.response?.statusText,\n                duration,\n                responseData: error.response?.data,\n                errorMessage: error.message,\n                isNetworkError: !error.response,\n                isTimeoutError: error.code === 'ECONNABORTED'\n            });\n            if (true) {\n                console.debug(\"API Client interceptor - Full error:\", error);\n                console.debug(\"API Client interceptor - Response data:\", error.response?.data);\n                console.debug(\"API Client interceptor - Status:\", error.response?.status);\n            }\n            if (error.response?.status === 401) {\n                _logger__WEBPACK_IMPORTED_MODULE_1__.logger.warn(\"401 unauthorised – handling per-endpoint policy\");\n                const originalUrl = error.config?.url || \"\";\n                if (originalUrl.includes(\"/auth/login\") || originalUrl.includes(\"/auth/change-password\")) {\n                    return Promise.reject(error);\n                }\n                // For other endpoints, clear auth and redirect to login\n                this.removeToken();\n                if (false) {}\n                // Propagate error so callers can handle/cleanup\n                return Promise.reject(error);\n            } else if (error.response?.status >= 500) {\n                _logger__WEBPACK_IMPORTED_MODULE_1__.logger.error(\"Server error\", error.response?.status);\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_2__.toast.error(\"Server error. Please try again later.\", {\n                    duration: 5000\n                });\n            } else if (error.response?.status >= 400 && error.response?.status < 500) {\n                if (error.response?.data?.error && !error.response?.data?.detail) {\n                    const errorMsg = typeof error.response.data.error === \"string\" ? error.response.data.error : \"An error occurred\";\n                    react_hot_toast__WEBPACK_IMPORTED_MODULE_2__.toast.error(errorMsg, {\n                        duration: 5000\n                    });\n                }\n            // Else: silently pass it to caller\n            } else if (error.response?.data?.error) {\n                // Ensure we only pass strings to toast.error()\n                const errorMsg = typeof error.response.data.error === \"string\" ? error.response.data.error : \"An error occurred\";\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_2__.toast.error(errorMsg, {\n                    duration: 5000\n                });\n            } else if (error.message) {\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_2__.toast.error(error.message, {\n                    duration: 5000\n                });\n            }\n            return Promise.reject(error);\n        });\n    }\n    // Token management\n    getToken() {\n        if (true) {\n            return null; // SSR safeguard\n        }\n        // Single source of truth: localStorage (shared across tabs)\n        const token = localStorage.getItem(\"auth_token\");\n        return token || null;\n    }\n    setToken(token) {\n        if (true) return; // SSR safeguard\n        // Store in localStorage so tabs share auth within the same browser session\n        localStorage.setItem(\"auth_token\", token);\n    }\n    removeToken() {\n        if (true) return; // SSR safeguard\n        // Remove stored auth artifacts we own\n        // Clear both storages for safety (handles older versions)\n        try {\n            sessionStorage.removeItem(\"auth_token\");\n        } catch  {}\n        try {\n            sessionStorage.removeItem(\"user\");\n        } catch  {}\n        try {\n            localStorage.removeItem(\"auth_token\");\n        } catch  {}\n        try {\n            localStorage.removeItem(\"user\");\n        } catch  {}\n        this.clearRefreshTimer();\n    }\n    setupTokenRefresh() {\n        if (true) return; // SSR safeguard\n        // Clear any existing timer first\n        this.clearRefreshTimer();\n        const token = this.getToken();\n        if (!token) return;\n        const expiryMs = this.getTokenExpiryMs(token);\n        if (!expiryMs) return;\n        const now = Date.now();\n        const leewayMs = 90000; // refresh ~90s before expiry\n        const delay = Math.max(0, expiryMs - now - leewayMs);\n        this.refreshTimer = setTimeout(()=>{\n            this.refreshToken();\n        }, delay);\n    }\n    getTokenExpiryMs(token) {\n        try {\n            const [, payload] = token.split(\".\");\n            if (!payload) return null;\n            const decoded = JSON.parse(atob(payload));\n            if (typeof decoded.exp === \"number\") {\n                return decoded.exp * 1000; // seconds -> ms\n            }\n            return null;\n        } catch  {\n            return null;\n        }\n    }\n    clearRefreshTimer() {\n        if (this.refreshTimer) {\n            clearTimeout(this.refreshTimer);\n            this.refreshTimer = null;\n        }\n    }\n    async refreshToken() {\n        if (this.isRefreshing) {\n            _logger__WEBPACK_IMPORTED_MODULE_1__.logger.debug(\"Token refresh already in progress, skipping\");\n            return;\n        }\n        this.isRefreshing = true;\n        try {\n            _logger__WEBPACK_IMPORTED_MODULE_1__.logger.info(\"Refreshing token automatically\");\n            const response = await this.client.post(\"/auth/refresh\");\n            const { access_token, user } = response.data;\n            this.setToken(access_token);\n            this.setUser(user);\n            // Set up next refresh\n            this.setupTokenRefresh();\n            _logger__WEBPACK_IMPORTED_MODULE_1__.logger.info(\"Token refreshed successfully\");\n        } catch (error) {\n            _logger__WEBPACK_IMPORTED_MODULE_1__.logger.warn(\"Token refresh failed, redirecting to login\", {\n                error\n            });\n            this.removeToken();\n            if (false) {}\n        } finally{\n            this.isRefreshing = false;\n        }\n    }\n    // User management\n    setUser(user) {\n        if (false) {}\n    }\n    getUser() {\n        if (true) return null; // SSR safeguard\n        const userStr = localStorage.getItem(\"user\");\n        if (userStr) {\n            try {\n                return JSON.parse(userStr);\n            } catch  {\n                return null;\n            }\n        }\n        return null;\n    }\n    setupCrossTabSession() {\n        if (true) return;\n        try {\n            this.tabId = `tab_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n            const OPEN_TABS_KEY = \"open_tabs\";\n            const LAST_CLOSE_KEY = \"last_close_at\";\n            const getTabs = ()=>{\n                try {\n                    const raw = localStorage.getItem(OPEN_TABS_KEY);\n                    const arr = raw ? JSON.parse(raw) : [];\n                    return Array.isArray(arr) ? arr : [];\n                } catch  {\n                    return [];\n                }\n            };\n            const setTabs = (tabs)=>{\n                try {\n                    localStorage.setItem(OPEN_TABS_KEY, JSON.stringify(tabs));\n                } catch  {}\n            };\n            // If the previous session indicated a last-tab close, and sufficient time\n            // has passed (not a quick reload), clear auth now.\n            try {\n                const lastCloseStr = localStorage.getItem(LAST_CLOSE_KEY);\n                if (lastCloseStr) {\n                    const lastCloseAt = parseInt(lastCloseStr, 10) || 0;\n                    if (Date.now() - lastCloseAt > 5000) {\n                        this.removeToken();\n                    }\n                    localStorage.removeItem(LAST_CLOSE_KEY);\n                }\n            } catch  {}\n            // Register this tab\n            const tabs = getTabs();\n            if (this.tabId && !tabs.includes(this.tabId)) {\n                setTabs([\n                    ...tabs,\n                    this.tabId\n                ]);\n            }\n            // On tab close, remove this tab; if no tabs remain, clear auth\n            window.addEventListener(\"beforeunload\", ()=>{\n                const current = getTabs();\n                const remaining = this.tabId ? current.filter((t)=>t !== this.tabId) : current;\n                if (remaining.length === 0) {\n                    // Mark time of last-tab close; token will be cleared on next load\n                    try {\n                        localStorage.setItem(LAST_CLOSE_KEY, String(Date.now()));\n                    } catch  {}\n                }\n                setTabs(remaining);\n            });\n        } catch  {}\n    }\n    async login(credentials) {\n        try {\n            _logger__WEBPACK_IMPORTED_MODULE_1__.logger.info(\"Attempting login\", {\n                username: credentials.username\n            });\n            const response = await this.client.post(\"/auth/login\", credentials, {\n                timeout: 15000\n            });\n            const { access_token, user } = response.data;\n            this.setToken(access_token);\n            this.setUser(user);\n            _logger__WEBPACK_IMPORTED_MODULE_1__.logger.info(\"Login successful\", {\n                username: user.username,\n                role: user.role\n            });\n            // Set up token refresh\n            this.setupTokenRefresh();\n            // If user must change password, redirect immediately\n            if (user.must_change_password) {\n                if (false) {}\n            }\n            return response.data;\n        } catch (error) {\n            _logger__WEBPACK_IMPORTED_MODULE_1__.logger.error(\"Login failed\", {\n                error,\n                username: credentials.username,\n                errorMessage: error instanceof Error ? error.message : String(error)\n            });\n            throw error;\n        }\n    }\n    async getCurrentUser() {\n        try {\n            const response = await this.client.get(\"/auth/me\");\n            this.setUser(response.data);\n            return response.data;\n        } catch (error) {\n            throw error;\n        }\n    }\n    async getAuthMode() {\n        try {\n            const response = await this.client.get(\"/auth/mode\");\n            return response.data.data?.auth_mode || \"form\";\n        } catch  {\n            return \"form\";\n        }\n    }\n    logout() {\n        this.removeToken();\n        window.location.href = \"/login\";\n    }\n    async changePassword(currentPassword, newPassword) {\n        try {\n            _logger__WEBPACK_IMPORTED_MODULE_1__.logger.info(\"Attempting password change\");\n            const user = this.getUser();\n            if (!user) {\n                throw new Error(\"User not authenticated\");\n            }\n            const response = await this.client.post(\"/auth/change-password\", {\n                username: user.username,\n                password: currentPassword,\n                new_password: newPassword\n            });\n            _logger__WEBPACK_IMPORTED_MODULE_1__.logger.info(\"Password changed successfully\");\n            return response.data;\n        } catch (error) {\n            _logger__WEBPACK_IMPORTED_MODULE_1__.logger.error(\"Password change failed\", {\n                error\n            });\n            throw error;\n        }\n    }\n    // Health check\n    async healthCheck() {\n        try {\n            const response = await this.client.get(\"/health\");\n            return response.data;\n        } catch (error) {\n            throw error;\n        }\n    }\n    // Menu methods\n    async getMenuItems() {\n        try {\n            const response = await this.client.get(\"/api/menu\");\n            return response.data;\n        } catch (error) {\n            throw error;\n        }\n    }\n    // Dashboard methods\n    async getDashboardLayout(menuId) {\n        try {\n            const params = menuId ? {\n                menu_id: menuId\n            } : {};\n            const response = await this.client.get(\"/api/dashboard\", {\n                params\n            });\n            return response.data;\n        } catch (error) {\n            throw error;\n        }\n    }\n    async getWidgetData(widgetId) {\n        try {\n            const response = await this.client.post(`/api/dashboard/widget/${widgetId}/data`);\n            return response.data;\n        } catch (error) {\n            throw error;\n        }\n    }\n    async getKpis() {\n        try {\n            const response = await this.client.get(\"/api/kpis\");\n            return response.data;\n        } catch (error) {\n            throw error;\n        }\n    }\n    // Update widget layout (position/size)\n    async updateWidget(widgetId, data) {\n        try {\n            const response = await this.client.put(`/api/admin/dashboard/widget/${widgetId}`, data);\n            return response.data;\n        } catch (error) {\n            throw error;\n        }\n    }\n    // Query methods\n    async executeQuery(request) {\n        try {\n            const response = await this.client.post(\"/api/query/execute\", request);\n            return response.data;\n        } catch (error) {\n            throw error;\n        }\n    }\n    async executeFilteredQuery(request) {\n        try {\n            const response = await this.client.post(\"/api/query/filtered\", request);\n            return response.data;\n        } catch (error) {\n            throw error;\n        }\n    }\n    // Export methods\n    async exportData(request, timeout = 0) {\n        try {\n            const response = await this.client.post(\"/api/export\", request, {\n                responseType: \"blob\",\n                timeout: timeout\n            });\n            return response.data;\n        } catch (error) {\n            throw error;\n        }\n    }\n    // Reports methods\n    async getReportsByMenu(menuItemId) {\n        try {\n            const response = await this.client.get(`/api/reports/menu/${menuItemId}`);\n            return response.data;\n        } catch (error) {\n            throw error;\n        }\n    }\n    // Query detail\n    async getQueryDetail(queryId) {\n        try {\n            const response = await this.client.get(`/api/query/${queryId}`);\n            return response.data;\n        } catch (error) {\n            throw error;\n        }\n    }\n    // Generic methods for custom requests\n    async get(url, config) {\n        try {\n            const response = await this.client.get(url, config);\n            return response.data;\n        } catch (error) {\n            throw error;\n        }\n    }\n    async post(url, data, config) {\n        try {\n            const response = await this.client.post(url, data, config);\n            return response.data;\n        } catch (error) {\n            throw error;\n        }\n    }\n    async put(url, data, config) {\n        try {\n            const response = await this.client.put(url, data, config);\n            return response.data;\n        } catch (error) {\n            throw error;\n        }\n    }\n    async delete(url, config) {\n        try {\n            const response = await this.client.delete(url, config);\n            return response.data;\n        } catch (error) {\n            throw error;\n        }\n    }\n    // Utility methods\n    isAuthenticated() {\n        return !!this.getToken();\n    }\n    // Manual activity update method (simplified)\n    updateActivity() {\n        _logger__WEBPACK_IMPORTED_MODULE_1__.logger.debug(\"Activity updated manually\");\n    }\n    async downloadFile(url, filename) {\n        try {\n            const response = await this.client.get(url, {\n                responseType: \"blob\"\n            });\n            const blob = new Blob([\n                response.data\n            ]);\n            const downloadUrl = window.URL.createObjectURL(blob);\n            const link = document.createElement(\"a\");\n            link.href = downloadUrl;\n            link.setAttribute(\"download\", filename);\n            document.body.appendChild(link);\n            link.click();\n            link.remove();\n            window.URL.revokeObjectURL(downloadUrl);\n        } catch (error) {\n            throw error;\n        }\n    }\n    // --------------------------------------------\n    // Bulk import API (Scenario-2)\n    // --------------------------------------------\n    /**\n   * Upload a CSV/TXT or single-sheet Excel file to import data into a table.\n   * @param tableName Target table name in the database\n   * @param file      File object (csv, txt, xlsx, xls)\n   * @param mode      Behaviour on validation error: 'skip_failed' | 'abort_on_error'\n   */ async importTableData(tableName, file, mode = \"abort_on_error\") {\n        const form = new FormData();\n        form.append(\"mode\", mode);\n        form.append(\"file\", file);\n        try {\n            const response = await this.client.post(`/api/report/${tableName}/import`, form, {\n                headers: {\n                    \"Content-Type\": \"multipart/form-data\"\n                }\n            });\n            return response; // Caller handles structure\n        } catch (error) {\n            throw error;\n        }\n    }\n    // User admin methods\n    async updateUser(userId, data) {\n        try {\n            const response = await this.client.put(`/api/admin/user/${userId}`, data);\n            return response.data;\n        } catch (error) {\n            throw error;\n        }\n    }\n    async deleteUser(userId) {\n        try {\n            const response = await this.client.delete(`/api/admin/user/${userId}`);\n            return response.data;\n        } catch (error) {\n            throw error;\n        }\n    }\n    async deleteQuery(queryId) {\n        try {\n            const response = await this.client.delete(`/api/admin/query/${queryId}`);\n            return {\n                success: true,\n                data: response.data\n            };\n        } catch (error) {\n            if (axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].isAxiosError(error) && error.response) {\n                const errorMessage = error.response.data?.detail || error.response.data?.message || 'Failed to delete query';\n                return {\n                    success: false,\n                    error: errorMessage\n                };\n            }\n            return {\n                success: false,\n                error: 'An unknown error occurred while deleting the query.'\n            };\n        }\n    }\n    // -----------------------------\n    // Roles (dynamic)\n    // -----------------------------\n    async listRoles() {\n        const response = await this.client.get(\"/api/roles\");\n        return this.extractData(response);\n    }\n    async createRole(roleName) {\n        const response = await this.client.post(\"/api/roles\", {\n            role_name: roleName\n        });\n        return this.extractData(response);\n    }\n    /**\n   * Delete a role. If `newRole` is provided users are reassigned automatically.\n   * Returns the full backend response so the caller can check success / ROLE_IN_USE\n   */ async deleteRole(roleName, newRole) {\n        const config = {};\n        if (newRole) {\n            config.data = {\n                new_role: newRole\n            };\n        // axios delete with body needs `data` prop\n        }\n        const response = await this.client.delete(`/api/roles/${roleName}`, config);\n        return response.data;\n    }\n    // -----------------------------\n    // Processes (Scenario 3)\n    // -----------------------------\n    async listProcesses() {\n        const response = await this.client.get(\"/api/processes\");\n        return this.extractData(response);\n    }\n    async createProcess(data) {\n        const response = await this.client.post(\"/api/process\", data);\n        return response;\n    }\n    async updateProcess(processId, data) {\n        const response = await this.client.put(`/api/process/${processId}`, data);\n        return response;\n    }\n    async deleteProcess(processId) {\n        const response = await this.client.delete(`/api/process/${processId}`);\n        return response;\n    }\n    async runProcess(processId, params = {}) {\n        const response = await this.client.post(`/api/process/${processId}/run`, params);\n        return response;\n    }\n    async listAvailableScripts() {\n        const response = await this.client.get(\"/api/scripts\");\n        return this.extractData(response);\n    }\n}\n// Create and export a singleton instance\nconst apiClient = new ApiClient();\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (apiClient);\n// Prefer using the default export `apiClient` to avoid losing `this` context\nasync function createQuery(data) {\n    const response = await apiClient.post(\"/api/admin/query\", {\n        ...data,\n        role: data.role || [\n            \"user\"\n        ]\n    });\n    if (response.success && response.data) {\n        return response.data;\n    }\n    throw new Error(response.message || \"Failed to create query\");\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMsRUFBRXhEO1FBQ3pFLE9BQU9wSTtJQUNUO0lBRUEsTUFBTStMLHVCQUF1QjtRQUMzQixNQUFNL0wsV0FBVyxNQUFNLElBQUksQ0FBQ08sTUFBTSxDQUFDZ0gsR0FBRyxDQUFrRTtRQUN4RyxPQUFPLElBQUksQ0FBQ3hILFdBQVcsQ0FBa0NDO0lBQzNEO0FBQ0Y7QUFFQSx5Q0FBeUM7QUFDekMsTUFBTWdNLFlBQVksSUFBSWxNO0FBQ3RCLGlFQUFla00sU0FBU0EsRUFBQztBQUV6Qiw2RUFBNkU7QUFFdEUsZUFBZUMsWUFBWS9MLElBQXlDO0lBQ3pFLE1BQU1GLFdBQVcsTUFBTWdNLFVBQVV2RyxJQUFJLENBQ25DLG9CQUNBO1FBQUUsR0FBR3ZGLElBQUk7UUFBRWlILE1BQU1qSCxLQUFLaUgsSUFBSSxJQUFJO1lBQUM7U0FBTztJQUFDO0lBRXpDLElBQUluSCxTQUFTZ0wsT0FBTyxJQUFJaEwsU0FBU0UsSUFBSSxFQUFFO1FBQ3JDLE9BQU9GLFNBQVNFLElBQUk7SUFDdEI7SUFDQSxNQUFNLElBQUltSCxNQUFNckgsU0FBU3dDLE9BQU8sSUFBSTtBQUN0QyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxNYWxpayBBbWVlciBIYW16YVxcRG93bmxvYWRzXFxDb21wbGV0ZUNvZGUtRXJyb3JGaXhlZFxcY29tcGxldGVjb2RlXFxmcm9udGVuZFxcc3JjXFxsaWJcXGFwaS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MsIHsgQXhpb3NJbnN0YW5jZSwgQXhpb3NSZXF1ZXN0Q29uZmlnLCBBeGlvc1Jlc3BvbnNlIH0gZnJvbSBcImF4aW9zXCI7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tIFwiLi9sb2dnZXJcIjtcbmltcG9ydCB7IHRvYXN0IH0gZnJvbSBcInJlYWN0LWhvdC10b2FzdFwiO1xuaW1wb3J0IHtcbiAgVXNlcixcbiAgTG9naW5SZXF1ZXN0LFxuICBBdXRoVG9rZW4sXG4gIE1lbnVJdGVtLFxuICBEYXNoYm9hcmRXaWRnZXQsXG4gIFF1ZXJ5RXhlY3V0ZVJlcXVlc3QsXG4gIFF1ZXJ5UmVzdWx0LFxuICBGaWx0ZXJlZFF1ZXJ5UmVxdWVzdCxcbiAgRXhwb3J0UmVxdWVzdCxcbiAgQVBJUmVzcG9uc2UsXG4gIFF1ZXJ5LFxuICBRdWVyeUZvcm1EYXRhLFxuICBLUEksXG59IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgUm9sZSB9IGZyb20gXCIuLi90eXBlc1wiO1xuXG4vLyBEZXRlcm1pbmUgQVBJIGJhc2UgVVJMIHdpdGggc3VwcG9ydCBmb3IgcmV2ZXJzZSBwcm94aWVzIChIVFRQ4oaSSFRUUFMpLlxuLy8gUHJpb3JpdHk6XG4vLyAgIDEuIEV4cGxpY2l0IE5FWFRfUFVCTElDX0FQSV9VUkwgaWYgcHJvdmlkZWRcbi8vICAgMi4gSWYgdGhhdCBVUkwgcG9pbnRzIHRvIHRoZSBzYW1lIGhvc3QgYnV0IHdpdGggYSBkaWZmZXJlbnQgc2NoZW1lIHRoYW4gdGhlXG4vLyAgICAgIGN1cnJlbnQgcGFnZSwgcHJlZmVyIHRoZSBjdXJyZW50IHBhZ2UncyBvcmlnaW4gdG8gYXZvaWQgbWl4ZWTigJFjb250ZW50XG4vLyAgICAgIGVycm9ycyB3aGVuIHJ1bm5pbmcgYmVoaW5kIGFuIEhUVFBTIHJldmVyc2UgcHJveHkuXG4vLyAgIDMuIEZhbGxiYWNrIHRvIHRoZSBjdXJyZW50IGJyb3dzZXIgb3JpZ2luIChpZiBhdmFpbGFibGUpLCBvdGhlcndpc2UgYVxuLy8gICAgICBzZW5zaWJsZSBsb2NhbCBkZWZhdWx0LlxubGV0IHJlc29sdmVkQmFzZSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwgfHwgXCJcIjtcblxuaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIgJiYgcmVzb2x2ZWRCYXNlKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgZW52VXJsID0gbmV3IFVSTChyZXNvbHZlZEJhc2UsIHdpbmRvdy5sb2NhdGlvbi5ocmVmKTtcbiAgICBjb25zdCBwYWdlVXJsID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG5cbiAgICBjb25zdCBzYW1lSG9zdCA9XG4gICAgICBlbnZVcmwuaG9zdG5hbWUgPT09IHBhZ2VVcmwuaG9zdG5hbWUgJiZcbiAgICAgIChlbnZVcmwucG9ydCB8fCBcIlwiKSA9PT0gKHBhZ2VVcmwucG9ydCB8fCBcIlwiKTtcblxuICAgIGNvbnN0IHNjaGVtZU1pc21hdGNoID0gZW52VXJsLnByb3RvY29sICE9PSBwYWdlVXJsLnByb3RvY29sO1xuXG4gICAgaWYgKHNhbWVIb3N0ICYmIHNjaGVtZU1pc21hdGNoKSB7XG4gICAgICAvLyBVc2UgdGhlIHBhZ2UncyBvcmlnaW4gKGUuZy4gaHR0cHM6Ly9sb2NhbGhvc3QpIHNvIEFQSSBjYWxscyBnb1xuICAgICAgLy8gdGhyb3VnaCB0aGUgc2FtZSByZXZlcnNlIHByb3h5IGFuZCBhdm9pZCBtaXhlZOKAkWNvbnRlbnQgaXNzdWVzLlxuICAgICAgcmVzb2x2ZWRCYXNlID0gcGFnZVVybC5vcmlnaW47XG4gICAgfVxuICB9IGNhdGNoIHtcbiAgICAvLyBJZiBVUkwgcGFyc2luZyBmYWlscywgZmFsbCBiYWNrIHRvIHVzaW5nIHRoZSByYXcgZW52IHZhbHVlLlxuICB9XG59XG5cbmlmICghcmVzb2x2ZWRCYXNlKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmVzb2x2ZWRCYXNlID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbjtcbiAgfSBlbHNlIHtcbiAgICAvLyBTZXJ2ZXLigJFzaWRlIGZhbGxiYWNrIGZvciBsb2NhbCBkZXZlbG9wbWVudFxuICAgIHJlc29sdmVkQmFzZSA9IFwiaHR0cDovL2xvY2FsaG9zdDo4MDAwXCI7XG4gIH1cbn1cblxuY29uc3QgQVBJX0JBU0VfVVJMID0gcmVzb2x2ZWRCYXNlO1xuXG5jbGFzcyBBcGlDbGllbnQge1xuICBwcml2YXRlIGNsaWVudDogQXhpb3NJbnN0YW5jZTtcbiAgcHJpdmF0ZSB0YWJJZDogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG4gIHByaXZhdGUgcmVmcmVzaFRpbWVyOiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsO1xuICBwcml2YXRlIGlzUmVmcmVzaGluZzogYm9vbGVhbiA9IGZhbHNlO1xuICAvKipcbiAgICogSGVscGVyIHRvIHVud3JhcCBvdXIgc3RhbmRhcmQgQVBJUmVzcG9uc2UgZW52ZWxvcGUgYW5kIHJldHVybiB0aGUgY29udGFpbmVkXG4gICAqIGBkYXRhYCBmaWVsZC4gRmFsbHMgYmFjayBncmFjZWZ1bGx5IHdoZW4gdGhlIGJhY2tlbmQgcmV0dXJucyB0aGUgcmF3IGRhdGFcbiAgICogaW5zdGVhZCBvZiB0aGUgZW52ZWxvcGUgKGUuZy4gbGVnYWN5IGVuZHBvaW50cykuXG4gICAqL1xuICBwcml2YXRlIGV4dHJhY3REYXRhPFQ+KHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlPGltcG9ydChcIi4uL3R5cGVzXCIpLkFQSVJlc3BvbnNlPFQ+Pik6IFQge1xuICAgIGNvbnN0IHBheWxvYWQ6IGFueSA9IHJlc3BvbnNlLmRhdGE7XG4gICAgaWYgKHBheWxvYWQgJiYgdHlwZW9mIHBheWxvYWQgPT09IFwib2JqZWN0XCIgJiYgXCJkYXRhXCIgaW4gcGF5bG9hZCkge1xuICAgICAgcmV0dXJuIHBheWxvYWQuZGF0YSBhcyBUO1xuICAgIH1cbiAgICByZXR1cm4gcGF5bG9hZCBhcyBUO1xuICB9XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5jbGllbnQgPSBheGlvcy5jcmVhdGUoe1xuICAgICAgYmFzZVVSTDogQVBJX0JBU0VfVVJMLFxuICAgICAgdGltZW91dDogMzAwMDAsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICBcIlgtUmVxdWVzdGVkLVdpdGhcIjogXCJYTUxIdHRwUmVxdWVzdFwiLFxuICAgICAgfSxcbiAgICB9KTtcblxuICAgIC8vIEF1dG8tcmVmcmVzaCB0aW1lciBiYXNlZCBvbiBKV1QgZXhwXG4gICAgdGhpcy5zZXR1cFRva2VuUmVmcmVzaCgpO1xuICAgIC8vIFRyYWNrIG9wZW4gdGFicyBhbmQgY2xlYXIgYXV0aCBvbiBsYXN0IHRhYiBjbG9zZVxuICAgIHRoaXMuc2V0dXBDcm9zc1RhYlNlc3Npb24oKTtcblxuICAgIC8vIENyb3NzLXRhYiBsb2dvdXQgc3luYzogaWYgYW5vdGhlciB0YWIgcmVtb3ZlcyB0aGUgdG9rZW4sIHJlZGlyZWN0IGhlcmUgdG9vXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic3RvcmFnZVwiLCAoZSkgPT4ge1xuICAgICAgICBpZiAoZS5rZXkgPT09IFwiYXV0aF90b2tlblwiICYmIGUubmV3VmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL2xvZ2luXCI7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuY2xpZW50LmludGVyY2VwdG9ycy5yZXF1ZXN0LnVzZShcbiAgICAgIChjb25maWcpID0+IHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSB0aGlzLmdldFRva2VuKCk7XG4gICAgICAgIGNvbnN0IHJlcXVlc3RJZCA9IGByZXFfJHtEYXRlLm5vdygpfV8ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cigyLCA5KX1gO1xuXG4gICAgICAgIC8vIEFkZCB0aW1pbmcgaW5mb3JtYXRpb25cbiAgICAgICAgKGNvbmZpZyBhcyBhbnkpLm1ldGFkYXRhID0geyBzdGFydFRpbWU6IERhdGUubm93KCksIHJlcXVlc3RJZCB9O1xuXG5cbiAgICAgICAgLy8gTG9nIEFQSSByZXF1ZXN0IHRvIGZpbGVcbiAgICAgICAgbG9nZ2VyLmFwaVJlcXVlc3QoY29uZmlnLm1ldGhvZCB8fCAnR0VUJywgY29uZmlnLnVybCB8fCAnJywge1xuICAgICAgICAgIHJlcXVlc3RJZCxcbiAgICAgICAgICBoYXNBdXRoOiAhIXRva2VuLFxuICAgICAgICAgIHRpbWVvdXQ6IGNvbmZpZy50aW1lb3V0XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgIGNvbmZpZy5oZWFkZXJzLkF1dGhvcml6YXRpb24gPSBgQmVhcmVyICR7dG9rZW59YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbmZpZy5oZWFkZXJzW1wiWC1SZXF1ZXN0LUlEXCJdID0gcmVxdWVzdElkO1xuICAgICAgICBjb25maWcuaGVhZGVyc1tcIlgtQ2xpZW50LVZlcnNpb25cIl0gPSBcIjEuMC4wXCI7XG5cbiAgICAgICAgLy8gQWRkIHRpbWVzdGFtcCBmb3IgcmVxdWVzdCBmcmVzaG5lc3MgdmFsaWRhdGlvblxuICAgICAgICBjb25maWcuaGVhZGVyc1tcIlgtVGltZXN0YW1wXCJdID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuXG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgICB9LFxuICAgICAgKGVycm9yKSA9PiB7XG4gICAgICAgIGxvZ2dlci5lcnJvcihcIlJlcXVlc3QgaW50ZXJjZXB0b3IgZXJyb3JcIiwge1xuICAgICAgICAgIG1lc3NhZ2U6IGVycm9yLm1lc3NhZ2UsXG4gICAgICAgICAgc3RhY2s6IGVycm9yLnN0YWNrLFxuICAgICAgICAgIGNvbmZpZzogZXJyb3IuY29uZmlnID8ge1xuICAgICAgICAgICAgbWV0aG9kOiBlcnJvci5jb25maWcubWV0aG9kLFxuICAgICAgICAgICAgdXJsOiBlcnJvci5jb25maWcudXJsXG4gICAgICAgICAgfSA6IHVuZGVmaW5lZFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgIH0sXG4gICAgKTtcblxuICAgIC8vIFJlc3BvbnNlIGludGVyY2VwdG9yIGZvciBlcnJvciBoYW5kbGluZ1xuICAgIHRoaXMuY2xpZW50LmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoXG4gICAgICAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgY29uc3QgZHVyYXRpb24gPSAocmVzcG9uc2UuY29uZmlnIGFzIGFueSkubWV0YWRhdGE/LnN0YXJ0VGltZVxuICAgICAgICAgID8gRGF0ZS5ub3coKSAtIChyZXNwb25zZS5jb25maWcgYXMgYW55KS5tZXRhZGF0YS5zdGFydFRpbWVcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgcmVxdWVzdElkID0gKHJlc3BvbnNlLmNvbmZpZyBhcyBhbnkpLm1ldGFkYXRhPy5yZXF1ZXN0SWQ7XG5cbiAgICAgICAgLy8gTG9nIEFQSSByZXNwb25zZSB0byBmaWxlXG4gICAgICAgIGxvZ2dlci5hcGlSZXNwb25zZShcbiAgICAgICAgICByZXNwb25zZS5jb25maWcubWV0aG9kIHx8ICdHRVQnLFxuICAgICAgICAgIHJlc3BvbnNlLmNvbmZpZy51cmwgfHwgJycsXG4gICAgICAgICAgcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgIGR1cmF0aW9uLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHJlcXVlc3RJZCxcbiAgICAgICAgICAgIHJlc3BvbnNlU2l6ZTogSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YSkubGVuZ3RoLFxuICAgICAgICAgICAgY29udGVudFR5cGU6IHJlc3BvbnNlLmhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddXG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICB9LFxuICAgICAgKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnN0IGR1cmF0aW9uID0gKGVycm9yLmNvbmZpZyBhcyBhbnkpPy5tZXRhZGF0YT8uc3RhcnRUaW1lXG4gICAgICAgICAgPyBEYXRlLm5vdygpIC0gKGVycm9yLmNvbmZpZyBhcyBhbnkpLm1ldGFkYXRhLnN0YXJ0VGltZVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCByZXF1ZXN0SWQgPSAoZXJyb3IuY29uZmlnIGFzIGFueSk/Lm1ldGFkYXRhPy5yZXF1ZXN0SWQ7XG5cbiAgICAgICAgLy8gTG9nIEFQSSBlcnJvciB0byBmaWxlXG4gICAgICAgIGxvZ2dlci5lcnJvcihgQVBJIEVycm9yOiAke2Vycm9yLmNvbmZpZz8ubWV0aG9kPy50b1VwcGVyQ2FzZSgpfSAke2Vycm9yLmNvbmZpZz8udXJsfWAsIHtcbiAgICAgICAgICByZXF1ZXN0SWQsXG4gICAgICAgICAgc3RhdHVzOiBlcnJvci5yZXNwb25zZT8uc3RhdHVzLFxuICAgICAgICAgIHN0YXR1c1RleHQ6IGVycm9yLnJlc3BvbnNlPy5zdGF0dXNUZXh0LFxuICAgICAgICAgIGR1cmF0aW9uLFxuICAgICAgICAgIHJlc3BvbnNlRGF0YTogZXJyb3IucmVzcG9uc2U/LmRhdGEsXG4gICAgICAgICAgZXJyb3JNZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgICAgIGlzTmV0d29ya0Vycm9yOiAhZXJyb3IucmVzcG9uc2UsXG4gICAgICAgICAgaXNUaW1lb3V0RXJyb3I6IGVycm9yLmNvZGUgPT09ICdFQ09OTkFCT1JURUQnXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgICAgICAgICBjb25zb2xlLmRlYnVnKFwiQVBJIENsaWVudCBpbnRlcmNlcHRvciAtIEZ1bGwgZXJyb3I6XCIsIGVycm9yKTtcbiAgICAgICAgICBjb25zb2xlLmRlYnVnKFxuICAgICAgICAgICAgXCJBUEkgQ2xpZW50IGludGVyY2VwdG9yIC0gUmVzcG9uc2UgZGF0YTpcIixcbiAgICAgICAgICAgIGVycm9yLnJlc3BvbnNlPy5kYXRhLFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc29sZS5kZWJ1ZyhcbiAgICAgICAgICAgIFwiQVBJIENsaWVudCBpbnRlcmNlcHRvciAtIFN0YXR1czpcIixcbiAgICAgICAgICAgIGVycm9yLnJlc3BvbnNlPy5zdGF0dXMsXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlcnJvci5yZXNwb25zZT8uc3RhdHVzID09PSA0MDEpIHtcbiAgICAgICAgICBsb2dnZXIud2FybihcIjQwMSB1bmF1dGhvcmlzZWQg4oCTIGhhbmRsaW5nIHBlci1lbmRwb2ludCBwb2xpY3lcIik7XG4gICAgICAgICAgY29uc3Qgb3JpZ2luYWxVcmwgPSBlcnJvci5jb25maWc/LnVybCB8fCBcIlwiO1xuICAgICAgICAgIGlmIChvcmlnaW5hbFVybC5pbmNsdWRlcyhcIi9hdXRoL2xvZ2luXCIpIHx8IG9yaWdpbmFsVXJsLmluY2x1ZGVzKFwiL2F1dGgvY2hhbmdlLXBhc3N3b3JkXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBGb3Igb3RoZXIgZW5kcG9pbnRzLCBjbGVhciBhdXRoIGFuZCByZWRpcmVjdCB0byBsb2dpblxuICAgICAgICAgIHRoaXMucmVtb3ZlVG9rZW4oKTtcbiAgICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBcIi9sb2dpblwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBQcm9wYWdhdGUgZXJyb3Igc28gY2FsbGVycyBjYW4gaGFuZGxlL2NsZWFudXBcbiAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgICAgICB9IGVsc2UgaWYgKGVycm9yLnJlc3BvbnNlPy5zdGF0dXMgPj0gNTAwKSB7XG4gICAgICAgICAgbG9nZ2VyLmVycm9yKFwiU2VydmVyIGVycm9yXCIsIGVycm9yLnJlc3BvbnNlPy5zdGF0dXMpO1xuICAgICAgICAgIHRvYXN0LmVycm9yKFwiU2VydmVyIGVycm9yLiBQbGVhc2UgdHJ5IGFnYWluIGxhdGVyLlwiLCB7XG4gICAgICAgICAgICBkdXJhdGlvbjogNTAwMCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICBlcnJvci5yZXNwb25zZT8uc3RhdHVzID49IDQwMCAmJlxuICAgICAgICAgIGVycm9yLnJlc3BvbnNlPy5zdGF0dXMgPCA1MDBcbiAgICAgICAgKSB7XG4gICAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlPy5kYXRhPy5lcnJvciAmJiAhZXJyb3IucmVzcG9uc2U/LmRhdGE/LmRldGFpbCkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3JNc2cgPVxuICAgICAgICAgICAgICB0eXBlb2YgZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvciA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgID8gZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvclxuICAgICAgICAgICAgICAgIDogXCJBbiBlcnJvciBvY2N1cnJlZFwiO1xuICAgICAgICAgICAgdG9hc3QuZXJyb3IoZXJyb3JNc2csIHsgZHVyYXRpb246IDUwMDAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIEVsc2U6IHNpbGVudGx5IHBhc3MgaXQgdG8gY2FsbGVyXG4gICAgICAgIH0gZWxzZSBpZiAoZXJyb3IucmVzcG9uc2U/LmRhdGE/LmVycm9yKSB7XG4gICAgICAgICAgLy8gRW5zdXJlIHdlIG9ubHkgcGFzcyBzdHJpbmdzIHRvIHRvYXN0LmVycm9yKClcbiAgICAgICAgICBjb25zdCBlcnJvck1zZyA9XG4gICAgICAgICAgICB0eXBlb2YgZXJyb3IucmVzcG9uc2UuZGF0YS5lcnJvciA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAgICAgICA/IGVycm9yLnJlc3BvbnNlLmRhdGEuZXJyb3JcbiAgICAgICAgICAgICAgOiBcIkFuIGVycm9yIG9jY3VycmVkXCI7XG4gICAgICAgICAgdG9hc3QuZXJyb3IoZXJyb3JNc2csIHsgZHVyYXRpb246IDUwMDAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZSkge1xuICAgICAgICAgIHRvYXN0LmVycm9yKGVycm9yLm1lc3NhZ2UsIHsgZHVyYXRpb246IDUwMDAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgIH0sXG4gICAgKTtcbiAgfVxuXG4gIC8vIFRva2VuIG1hbmFnZW1lbnRcbiAgcHJpdmF0ZSBnZXRUb2tlbigpOiBzdHJpbmcgfCBudWxsIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgcmV0dXJuIG51bGw7IC8vIFNTUiBzYWZlZ3VhcmRcbiAgICB9XG4gICAgLy8gU2luZ2xlIHNvdXJjZSBvZiB0cnV0aDogbG9jYWxTdG9yYWdlIChzaGFyZWQgYWNyb3NzIHRhYnMpXG4gICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImF1dGhfdG9rZW5cIik7XG4gICAgcmV0dXJuIHRva2VuIHx8IG51bGw7XG4gIH1cblxuICBwcml2YXRlIHNldFRva2VuKHRva2VuOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuOyAvLyBTU1Igc2FmZWd1YXJkXG4gICAgLy8gU3RvcmUgaW4gbG9jYWxTdG9yYWdlIHNvIHRhYnMgc2hhcmUgYXV0aCB3aXRoaW4gdGhlIHNhbWUgYnJvd3NlciBzZXNzaW9uXG4gICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJhdXRoX3Rva2VuXCIsIHRva2VuKTtcbiAgfVxuXG4gIHByaXZhdGUgcmVtb3ZlVG9rZW4oKTogdm9pZCB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybjsgLy8gU1NSIHNhZmVndWFyZFxuICAgIC8vIFJlbW92ZSBzdG9yZWQgYXV0aCBhcnRpZmFjdHMgd2Ugb3duXG4gICAgLy8gQ2xlYXIgYm90aCBzdG9yYWdlcyBmb3Igc2FmZXR5IChoYW5kbGVzIG9sZGVyIHZlcnNpb25zKVxuICAgIHRyeSB7IHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oXCJhdXRoX3Rva2VuXCIpOyB9IGNhdGNoIHsgfVxuICAgIHRyeSB7IHNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oXCJ1c2VyXCIpOyB9IGNhdGNoIHsgfVxuICAgIHRyeSB7IGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwiYXV0aF90b2tlblwiKTsgfSBjYXRjaCB7IH1cbiAgICB0cnkgeyBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcInVzZXJcIik7IH0gY2F0Y2ggeyB9XG5cbiAgICB0aGlzLmNsZWFyUmVmcmVzaFRpbWVyKCk7XG4gIH1cblxuICBwcml2YXRlIHNldHVwVG9rZW5SZWZyZXNoKCk6IHZvaWQge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm47IC8vIFNTUiBzYWZlZ3VhcmRcblxuICAgIC8vIENsZWFyIGFueSBleGlzdGluZyB0aW1lciBmaXJzdFxuICAgIHRoaXMuY2xlYXJSZWZyZXNoVGltZXIoKTtcblxuICAgIGNvbnN0IHRva2VuID0gdGhpcy5nZXRUb2tlbigpO1xuICAgIGlmICghdG9rZW4pIHJldHVybjtcblxuICAgIGNvbnN0IGV4cGlyeU1zID0gdGhpcy5nZXRUb2tlbkV4cGlyeU1zKHRva2VuKTtcbiAgICBpZiAoIWV4cGlyeU1zKSByZXR1cm47XG5cbiAgICBjb25zdCBub3cgPSBEYXRlLm5vdygpO1xuICAgIGNvbnN0IGxlZXdheU1zID0gOTBfMDAwOyAvLyByZWZyZXNoIH45MHMgYmVmb3JlIGV4cGlyeVxuICAgIGNvbnN0IGRlbGF5ID0gTWF0aC5tYXgoMCwgZXhwaXJ5TXMgLSBub3cgLSBsZWV3YXlNcyk7XG5cbiAgICB0aGlzLnJlZnJlc2hUaW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5yZWZyZXNoVG9rZW4oKTtcbiAgICB9LCBkZWxheSk7XG4gIH1cblxuICBwcml2YXRlIGdldFRva2VuRXhwaXJ5TXModG9rZW46IHN0cmluZyk6IG51bWJlciB8IG51bGwge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBbLCBwYXlsb2FkXSA9IHRva2VuLnNwbGl0KFwiLlwiKTtcbiAgICAgIGlmICghcGF5bG9hZCkgcmV0dXJuIG51bGw7XG4gICAgICBjb25zdCBkZWNvZGVkID0gSlNPTi5wYXJzZShhdG9iKHBheWxvYWQpKTtcbiAgICAgIGlmICh0eXBlb2YgZGVjb2RlZC5leHAgPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgcmV0dXJuIGRlY29kZWQuZXhwICogMTAwMDsgLy8gc2Vjb25kcyAtPiBtc1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBjYXRjaCB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNsZWFyUmVmcmVzaFRpbWVyKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnJlZnJlc2hUaW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucmVmcmVzaFRpbWVyKTtcbiAgICAgIHRoaXMucmVmcmVzaFRpbWVyID0gbnVsbDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIHJlZnJlc2hUb2tlbigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICBpZiAodGhpcy5pc1JlZnJlc2hpbmcpIHtcbiAgICAgIGxvZ2dlci5kZWJ1ZyhcIlRva2VuIHJlZnJlc2ggYWxyZWFkeSBpbiBwcm9ncmVzcywgc2tpcHBpbmdcIik7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5pc1JlZnJlc2hpbmcgPSB0cnVlO1xuXG4gICAgdHJ5IHtcbiAgICAgIGxvZ2dlci5pbmZvKFwiUmVmcmVzaGluZyB0b2tlbiBhdXRvbWF0aWNhbGx5XCIpO1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNsaWVudC5wb3N0PEF1dGhUb2tlbj4oXCIvYXV0aC9yZWZyZXNoXCIpO1xuICAgICAgY29uc3QgeyBhY2Nlc3NfdG9rZW4sIHVzZXIgfSA9IHJlc3BvbnNlLmRhdGE7XG5cbiAgICAgIHRoaXMuc2V0VG9rZW4oYWNjZXNzX3Rva2VuKTtcbiAgICAgIHRoaXMuc2V0VXNlcih1c2VyKTtcblxuICAgICAgLy8gU2V0IHVwIG5leHQgcmVmcmVzaFxuICAgICAgdGhpcy5zZXR1cFRva2VuUmVmcmVzaCgpO1xuXG4gICAgICBsb2dnZXIuaW5mbyhcIlRva2VuIHJlZnJlc2hlZCBzdWNjZXNzZnVsbHlcIik7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci53YXJuKFwiVG9rZW4gcmVmcmVzaCBmYWlsZWQsIHJlZGlyZWN0aW5nIHRvIGxvZ2luXCIsIHsgZXJyb3IgfSk7XG4gICAgICB0aGlzLnJlbW92ZVRva2VuKCk7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IFwiL2xvZ2luXCI7XG4gICAgICB9XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHRoaXMuaXNSZWZyZXNoaW5nID0gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLy8gVXNlciBtYW5hZ2VtZW50XG4gIHByaXZhdGUgc2V0VXNlcih1c2VyOiBVc2VyKTogdm9pZCB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwidXNlclwiLCBKU09OLnN0cmluZ2lmeSh1c2VyKSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGdldFVzZXIoKTogVXNlciB8IG51bGwge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm4gbnVsbDsgLy8gU1NSIHNhZmVndWFyZFxuXG4gICAgY29uc3QgdXNlclN0ciA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwidXNlclwiKTtcbiAgICBpZiAodXNlclN0cikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UodXNlclN0cik7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcHJpdmF0ZSBzZXR1cENyb3NzVGFiU2Vzc2lvbigpOiB2b2lkIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuO1xuICAgIHRyeSB7XG4gICAgICB0aGlzLnRhYklkID0gYHRhYl8ke0RhdGUubm93KCl9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XG4gICAgICBjb25zdCBPUEVOX1RBQlNfS0VZID0gXCJvcGVuX3RhYnNcIjtcbiAgICAgIGNvbnN0IExBU1RfQ0xPU0VfS0VZID0gXCJsYXN0X2Nsb3NlX2F0XCI7XG4gICAgICBjb25zdCBnZXRUYWJzID0gKCk6IHN0cmluZ1tdID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCByYXcgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShPUEVOX1RBQlNfS0VZKTtcbiAgICAgICAgICBjb25zdCBhcnIgPSByYXcgPyBKU09OLnBhcnNlKHJhdykgOiBbXTtcbiAgICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShhcnIpID8gYXJyIDogW107XG4gICAgICAgIH0gY2F0Y2gge1xuICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGNvbnN0IHNldFRhYnMgPSAodGFiczogc3RyaW5nW10pID0+IHtcbiAgICAgICAgdHJ5IHsgbG9jYWxTdG9yYWdlLnNldEl0ZW0oT1BFTl9UQUJTX0tFWSwgSlNPTi5zdHJpbmdpZnkodGFicykpOyB9IGNhdGNoIHsgfVxuICAgICAgfTtcblxuICAgICAgLy8gSWYgdGhlIHByZXZpb3VzIHNlc3Npb24gaW5kaWNhdGVkIGEgbGFzdC10YWIgY2xvc2UsIGFuZCBzdWZmaWNpZW50IHRpbWVcbiAgICAgIC8vIGhhcyBwYXNzZWQgKG5vdCBhIHF1aWNrIHJlbG9hZCksIGNsZWFyIGF1dGggbm93LlxuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgbGFzdENsb3NlU3RyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oTEFTVF9DTE9TRV9LRVkpO1xuICAgICAgICBpZiAobGFzdENsb3NlU3RyKSB7XG4gICAgICAgICAgY29uc3QgbGFzdENsb3NlQXQgPSBwYXJzZUludChsYXN0Q2xvc2VTdHIsIDEwKSB8fCAwO1xuICAgICAgICAgIGlmIChEYXRlLm5vdygpIC0gbGFzdENsb3NlQXQgPiA1MDAwKSB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZVRva2VuKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKExBU1RfQ0xPU0VfS0VZKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCB7IH1cblxuICAgICAgLy8gUmVnaXN0ZXIgdGhpcyB0YWJcbiAgICAgIGNvbnN0IHRhYnMgPSBnZXRUYWJzKCk7XG4gICAgICBpZiAodGhpcy50YWJJZCAmJiAhdGFicy5pbmNsdWRlcyh0aGlzLnRhYklkKSkge1xuICAgICAgICBzZXRUYWJzKFsuLi50YWJzLCB0aGlzLnRhYklkXSk7XG4gICAgICB9XG5cbiAgICAgIC8vIE9uIHRhYiBjbG9zZSwgcmVtb3ZlIHRoaXMgdGFiOyBpZiBubyB0YWJzIHJlbWFpbiwgY2xlYXIgYXV0aFxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gZ2V0VGFicygpO1xuICAgICAgICBjb25zdCByZW1haW5pbmcgPSB0aGlzLnRhYklkID8gY3VycmVudC5maWx0ZXIoKHQpID0+IHQgIT09IHRoaXMudGFiSWQpIDogY3VycmVudDtcbiAgICAgICAgaWYgKHJlbWFpbmluZy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAvLyBNYXJrIHRpbWUgb2YgbGFzdC10YWIgY2xvc2U7IHRva2VuIHdpbGwgYmUgY2xlYXJlZCBvbiBuZXh0IGxvYWRcbiAgICAgICAgICB0cnkgeyBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShMQVNUX0NMT1NFX0tFWSwgU3RyaW5nKERhdGUubm93KCkpKTsgfSBjYXRjaCB7IH1cbiAgICAgICAgfVxuICAgICAgICBzZXRUYWJzKHJlbWFpbmluZyk7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIHsgfVxuICB9XG5cbiAgYXN5bmMgbG9naW4oY3JlZGVudGlhbHM6IExvZ2luUmVxdWVzdCk6IFByb21pc2U8QXV0aFRva2VuPiB7XG4gICAgdHJ5IHtcbiAgICAgIGxvZ2dlci5pbmZvKFwiQXR0ZW1wdGluZyBsb2dpblwiLCB7IHVzZXJuYW1lOiBjcmVkZW50aWFscy51c2VybmFtZSB9KTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlPEF1dGhUb2tlbj4gPSBhd2FpdCB0aGlzLmNsaWVudC5wb3N0KFxuICAgICAgICBcIi9hdXRoL2xvZ2luXCIsXG4gICAgICAgIGNyZWRlbnRpYWxzLFxuICAgICAgICB7IHRpbWVvdXQ6IDE1MDAwIH1cbiAgICAgICk7XG5cbiAgICAgIGNvbnN0IHsgYWNjZXNzX3Rva2VuLCB1c2VyIH0gPSByZXNwb25zZS5kYXRhO1xuXG4gICAgICB0aGlzLnNldFRva2VuKGFjY2Vzc190b2tlbik7XG4gICAgICB0aGlzLnNldFVzZXIodXNlcik7XG5cbiAgICAgIGxvZ2dlci5pbmZvKFwiTG9naW4gc3VjY2Vzc2Z1bFwiLCB7IHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLCByb2xlOiB1c2VyLnJvbGUgfSk7XG5cbiAgICAgIC8vIFNldCB1cCB0b2tlbiByZWZyZXNoXG4gICAgICB0aGlzLnNldHVwVG9rZW5SZWZyZXNoKCk7XG5cbiAgICAgIC8vIElmIHVzZXIgbXVzdCBjaGFuZ2UgcGFzc3dvcmQsIHJlZGlyZWN0IGltbWVkaWF0ZWx5XG4gICAgICBpZiAodXNlci5tdXN0X2NoYW5nZV9wYXNzd29yZCkge1xuICAgICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvY2hhbmdlLXBhc3N3b3JkXCI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICAgIGxvZ2dlci5lcnJvcihcIkxvZ2luIGZhaWxlZFwiLCB7XG4gICAgICAgIGVycm9yLFxuICAgICAgICB1c2VybmFtZTogY3JlZGVudGlhbHMudXNlcm5hbWUsXG4gICAgICAgIGVycm9yTWVzc2FnZTogZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpXG4gICAgICB9KTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldEN1cnJlbnRVc2VyKCk6IFByb21pc2U8VXNlcj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZTogQXhpb3NSZXNwb25zZTxVc2VyPiA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChcIi9hdXRoL21lXCIpO1xuICAgICAgdGhpcy5zZXRVc2VyKHJlc3BvbnNlLmRhdGEpO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldEF1dGhNb2RlKCk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlPEFQSVJlc3BvbnNlPHsgYXV0aF9tb2RlOiBzdHJpbmcgfT4+ID1cbiAgICAgICAgYXdhaXQgdGhpcy5jbGllbnQuZ2V0KFwiL2F1dGgvbW9kZVwiKTtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLmRhdGE/LmF1dGhfbW9kZSB8fCBcImZvcm1cIjtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBcImZvcm1cIjtcbiAgICB9XG4gIH1cblxuICBsb2dvdXQoKTogdm9pZCB7XG4gICAgdGhpcy5yZW1vdmVUb2tlbigpO1xuICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gXCIvbG9naW5cIjtcbiAgfVxuXG4gIGFzeW5jIGNoYW5nZVBhc3N3b3JkKGN1cnJlbnRQYXNzd29yZDogc3RyaW5nLCBuZXdQYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTxBUElSZXNwb25zZT4ge1xuICAgIHRyeSB7XG4gICAgICBsb2dnZXIuaW5mbyhcIkF0dGVtcHRpbmcgcGFzc3dvcmQgY2hhbmdlXCIpO1xuXG4gICAgICBjb25zdCB1c2VyID0gdGhpcy5nZXRVc2VyKCk7XG4gICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVXNlciBub3QgYXV0aGVudGljYXRlZFwiKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcmVzcG9uc2U6IEF4aW9zUmVzcG9uc2U8QVBJUmVzcG9uc2U+ID0gYXdhaXQgdGhpcy5jbGllbnQucG9zdChcbiAgICAgICAgXCIvYXV0aC9jaGFuZ2UtcGFzc3dvcmRcIixcbiAgICAgICAge1xuICAgICAgICAgIHVzZXJuYW1lOiB1c2VyLnVzZXJuYW1lLFxuICAgICAgICAgIHBhc3N3b3JkOiBjdXJyZW50UGFzc3dvcmQsXG4gICAgICAgICAgbmV3X3Bhc3N3b3JkOiBuZXdQYXNzd29yZCxcbiAgICAgICAgfVxuICAgICAgKTtcblxuICAgICAgbG9nZ2VyLmluZm8oXCJQYXNzd29yZCBjaGFuZ2VkIHN1Y2Nlc3NmdWxseVwiKTtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgICBsb2dnZXIuZXJyb3IoXCJQYXNzd29yZCBjaGFuZ2UgZmFpbGVkXCIsIHsgZXJyb3IgfSk7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvLyBIZWFsdGggY2hlY2tcbiAgYXN5bmMgaGVhbHRoQ2hlY2soKTogUHJvbWlzZTxBUElSZXNwb25zZT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZTogQXhpb3NSZXNwb25zZTxBUElSZXNwb25zZT4gPVxuICAgICAgICBhd2FpdCB0aGlzLmNsaWVudC5nZXQoXCIvaGVhbHRoXCIpO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8vIE1lbnUgbWV0aG9kc1xuICBhc3luYyBnZXRNZW51SXRlbXMoKTogUHJvbWlzZTxNZW51SXRlbVtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlPE1lbnVJdGVtW10+ID1cbiAgICAgICAgYXdhaXQgdGhpcy5jbGllbnQuZ2V0KFwiL2FwaS9tZW51XCIpO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8vIERhc2hib2FyZCBtZXRob2RzXG4gIGFzeW5jIGdldERhc2hib2FyZExheW91dChtZW51SWQ/OiBudW1iZXIpOiBQcm9taXNlPERhc2hib2FyZFdpZGdldFtdPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHBhcmFtcyA9IG1lbnVJZCA/IHsgbWVudV9pZDogbWVudUlkIH0gOiB7fTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlPERhc2hib2FyZFdpZGdldFtdPiA9IGF3YWl0IHRoaXMuY2xpZW50LmdldChcbiAgICAgICAgXCIvYXBpL2Rhc2hib2FyZFwiLFxuICAgICAgICB7IHBhcmFtcyB9LFxuICAgICAgKTtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBhc3luYyBnZXRXaWRnZXREYXRhKHdpZGdldElkOiBudW1iZXIpOiBQcm9taXNlPFF1ZXJ5UmVzdWx0PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlPFF1ZXJ5UmVzdWx0PiA9IGF3YWl0IHRoaXMuY2xpZW50LnBvc3QoXG4gICAgICAgIGAvYXBpL2Rhc2hib2FyZC93aWRnZXQvJHt3aWRnZXRJZH0vZGF0YWAsXG4gICAgICApO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGdldEtwaXMoKTogUHJvbWlzZTxLUElbXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZTogQXhpb3NSZXNwb25zZTxLUElbXT4gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoXCIvYXBpL2twaXNcIik7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLy8gVXBkYXRlIHdpZGdldCBsYXlvdXQgKHBvc2l0aW9uL3NpemUpXG4gIGFzeW5jIHVwZGF0ZVdpZGdldChcbiAgICB3aWRnZXRJZDogbnVtYmVyLFxuICAgIGRhdGE6IFBhcnRpYWw8e1xuICAgICAgcG9zaXRpb25feDogbnVtYmVyO1xuICAgICAgcG9zaXRpb25feTogbnVtYmVyO1xuICAgICAgd2lkdGg6IG51bWJlcjtcbiAgICAgIGhlaWdodDogbnVtYmVyO1xuICAgICAgdGl0bGU6IHN0cmluZztcbiAgICB9PixcbiAgKTogUHJvbWlzZTxBUElSZXNwb25zZT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZTogQXhpb3NSZXNwb25zZTxBUElSZXNwb25zZT4gPSBhd2FpdCB0aGlzLmNsaWVudC5wdXQoXG4gICAgICAgIGAvYXBpL2FkbWluL2Rhc2hib2FyZC93aWRnZXQvJHt3aWRnZXRJZH1gLFxuICAgICAgICBkYXRhLFxuICAgICAgKTtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvLyBRdWVyeSBtZXRob2RzXG4gIGFzeW5jIGV4ZWN1dGVRdWVyeShyZXF1ZXN0OiBRdWVyeUV4ZWN1dGVSZXF1ZXN0KTogUHJvbWlzZTxRdWVyeVJlc3VsdD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZTogQXhpb3NSZXNwb25zZTxRdWVyeVJlc3VsdD4gPSBhd2FpdCB0aGlzLmNsaWVudC5wb3N0KFxuICAgICAgICBcIi9hcGkvcXVlcnkvZXhlY3V0ZVwiLFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgKTtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBhc3luYyBleGVjdXRlRmlsdGVyZWRRdWVyeShcbiAgICByZXF1ZXN0OiBGaWx0ZXJlZFF1ZXJ5UmVxdWVzdCxcbiAgKTogUHJvbWlzZTxRdWVyeVJlc3VsdD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZTogQXhpb3NSZXNwb25zZTxRdWVyeVJlc3VsdD4gPSBhd2FpdCB0aGlzLmNsaWVudC5wb3N0KFxuICAgICAgICBcIi9hcGkvcXVlcnkvZmlsdGVyZWRcIixcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICk7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLy8gRXhwb3J0IG1ldGhvZHNcbiAgYXN5bmMgZXhwb3J0RGF0YShyZXF1ZXN0OiBFeHBvcnRSZXF1ZXN0LCB0aW1lb3V0OiBudW1iZXIgPSAwKTogUHJvbWlzZTxCbG9iPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlPEJsb2I+ID0gYXdhaXQgdGhpcy5jbGllbnQucG9zdChcbiAgICAgICAgXCIvYXBpL2V4cG9ydFwiLFxuICAgICAgICByZXF1ZXN0LFxuICAgICAgICB7XG4gICAgICAgICAgcmVzcG9uc2VUeXBlOiBcImJsb2JcIixcbiAgICAgICAgICB0aW1lb3V0OiB0aW1lb3V0LCAvLyAwIG1lYW5zIHVubGltaXRlZCB0aW1lb3V0IGZvciBleHBvcnRzXG4gICAgICAgIH0sXG4gICAgICApO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8vIFJlcG9ydHMgbWV0aG9kc1xuICBhc3luYyBnZXRSZXBvcnRzQnlNZW51KG1lbnVJdGVtSWQ6IG51bWJlcik6IFByb21pc2U8QVBJUmVzcG9uc2U8UXVlcnlbXT4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2U6IEF4aW9zUmVzcG9uc2U8QVBJUmVzcG9uc2U8UXVlcnlbXT4+ID1cbiAgICAgICAgYXdhaXQgdGhpcy5jbGllbnQuZ2V0KGAvYXBpL3JlcG9ydHMvbWVudS8ke21lbnVJdGVtSWR9YCk7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLy8gUXVlcnkgZGV0YWlsXG4gIGFzeW5jIGdldFF1ZXJ5RGV0YWlsKHF1ZXJ5SWQ6IG51bWJlcik6IFByb21pc2U8QVBJUmVzcG9uc2U8UXVlcnk+PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlPEFQSVJlc3BvbnNlPFF1ZXJ5Pj4gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQoXG4gICAgICAgIGAvYXBpL3F1ZXJ5LyR7cXVlcnlJZH1gLFxuICAgICAgKTtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvLyBHZW5lcmljIG1ldGhvZHMgZm9yIGN1c3RvbSByZXF1ZXN0c1xuICBhc3luYyBnZXQ8VCA9IHVua25vd24+KHVybDogc3RyaW5nLCBjb25maWc/OiBBeGlvc1JlcXVlc3RDb25maWcpOiBQcm9taXNlPFQ+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2U6IEF4aW9zUmVzcG9uc2U8VD4gPSBhd2FpdCB0aGlzLmNsaWVudC5nZXQodXJsLCBjb25maWcpO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHBvc3Q8VCA9IHVua25vd24+KFxuICAgIHVybDogc3RyaW5nLFxuICAgIGRhdGE/OiB1bmtub3duLFxuICAgIGNvbmZpZz86IEF4aW9zUmVxdWVzdENvbmZpZyxcbiAgKTogUHJvbWlzZTxUPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlPFQ+ID0gYXdhaXQgdGhpcy5jbGllbnQucG9zdChcbiAgICAgICAgdXJsLFxuICAgICAgICBkYXRhLFxuICAgICAgICBjb25maWcsXG4gICAgICApO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIHB1dDxUID0gdW5rbm93bj4oXG4gICAgdXJsOiBzdHJpbmcsXG4gICAgZGF0YT86IHVua25vd24sXG4gICAgY29uZmlnPzogQXhpb3NSZXF1ZXN0Q29uZmlnLFxuICApOiBQcm9taXNlPFQ+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2U6IEF4aW9zUmVzcG9uc2U8VD4gPSBhd2FpdCB0aGlzLmNsaWVudC5wdXQoXG4gICAgICAgIHVybCxcbiAgICAgICAgZGF0YSxcbiAgICAgICAgY29uZmlnLFxuICAgICAgKTtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICBhc3luYyBkZWxldGU8VCA9IHVua25vd24+KFxuICAgIHVybDogc3RyaW5nLFxuICAgIGNvbmZpZz86IEF4aW9zUmVxdWVzdENvbmZpZyxcbiAgKTogUHJvbWlzZTxUPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlOiBBeGlvc1Jlc3BvbnNlPFQ+ID0gYXdhaXQgdGhpcy5jbGllbnQuZGVsZXRlKHVybCwgY29uZmlnKTtcbiAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cblxuICAvLyBVdGlsaXR5IG1ldGhvZHNcbiAgaXNBdXRoZW50aWNhdGVkKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAhIXRoaXMuZ2V0VG9rZW4oKTtcbiAgfVxuXG4gIC8vIE1hbnVhbCBhY3Rpdml0eSB1cGRhdGUgbWV0aG9kIChzaW1wbGlmaWVkKVxuICB1cGRhdGVBY3Rpdml0eSgpOiB2b2lkIHtcbiAgICBsb2dnZXIuZGVidWcoXCJBY3Rpdml0eSB1cGRhdGVkIG1hbnVhbGx5XCIpO1xuICB9XG5cbiAgYXN5bmMgZG93bmxvYWRGaWxlKHVybDogc3RyaW5nLCBmaWxlbmFtZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0KHVybCwge1xuICAgICAgICByZXNwb25zZVR5cGU6IFwiYmxvYlwiLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IGJsb2IgPSBuZXcgQmxvYihbcmVzcG9uc2UuZGF0YV0pO1xuICAgICAgY29uc3QgZG93bmxvYWRVcmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICAgIGxpbmsuaHJlZiA9IGRvd25sb2FkVXJsO1xuICAgICAgbGluay5zZXRBdHRyaWJ1dGUoXCJkb3dubG9hZFwiLCBmaWxlbmFtZSk7XG4gICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGxpbmspO1xuICAgICAgbGluay5jbGljaygpO1xuICAgICAgbGluay5yZW1vdmUoKTtcbiAgICAgIHdpbmRvdy5VUkwucmV2b2tlT2JqZWN0VVJMKGRvd25sb2FkVXJsKTtcbiAgICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgLy8gQnVsayBpbXBvcnQgQVBJIChTY2VuYXJpby0yKVxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gIC8qKlxuICAgKiBVcGxvYWQgYSBDU1YvVFhUIG9yIHNpbmdsZS1zaGVldCBFeGNlbCBmaWxlIHRvIGltcG9ydCBkYXRhIGludG8gYSB0YWJsZS5cbiAgICogQHBhcmFtIHRhYmxlTmFtZSBUYXJnZXQgdGFibGUgbmFtZSBpbiB0aGUgZGF0YWJhc2VcbiAgICogQHBhcmFtIGZpbGUgICAgICBGaWxlIG9iamVjdCAoY3N2LCB0eHQsIHhsc3gsIHhscylcbiAgICogQHBhcmFtIG1vZGUgICAgICBCZWhhdmlvdXIgb24gdmFsaWRhdGlvbiBlcnJvcjogJ3NraXBfZmFpbGVkJyB8ICdhYm9ydF9vbl9lcnJvcidcbiAgICovXG4gIGFzeW5jIGltcG9ydFRhYmxlRGF0YShcbiAgICB0YWJsZU5hbWU6IHN0cmluZyxcbiAgICBmaWxlOiBGaWxlLFxuICAgIG1vZGU6IFwic2tpcF9mYWlsZWRcIiB8IFwiYWJvcnRfb25fZXJyb3JcIiA9IFwiYWJvcnRfb25fZXJyb3JcIixcbiAgKSB7XG4gICAgY29uc3QgZm9ybSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgIGZvcm0uYXBwZW5kKFwibW9kZVwiLCBtb2RlKTtcbiAgICBmb3JtLmFwcGVuZChcImZpbGVcIiwgZmlsZSk7XG5cbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNsaWVudC5wb3N0KFxuICAgICAgICBgL2FwaS9yZXBvcnQvJHt0YWJsZU5hbWV9L2ltcG9ydGAsXG4gICAgICAgIGZvcm0sXG4gICAgICAgIHtcbiAgICAgICAgICBoZWFkZXJzOiB7IFwiQ29udGVudC1UeXBlXCI6IFwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiIH0sXG4gICAgICAgIH0sXG4gICAgICApO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlIGFzIGFueTsgLy8gQ2FsbGVyIGhhbmRsZXMgc3RydWN0dXJlXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIC8vIFVzZXIgYWRtaW4gbWV0aG9kc1xuICBhc3luYyB1cGRhdGVVc2VyKHVzZXJJZDogbnVtYmVyLCBkYXRhOiBQYXJ0aWFsPFVzZXI+KTogUHJvbWlzZTxBUElSZXNwb25zZT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2xpZW50LnB1dChgL2FwaS9hZG1pbi91c2VyLyR7dXNlcklkfWAsIGRhdGEpO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3I6IHVua25vd24pIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGRlbGV0ZVVzZXIodXNlcklkOiBudW1iZXIpOiBQcm9taXNlPEFQSVJlc3BvbnNlPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jbGllbnQuZGVsZXRlKGAvYXBpL2FkbWluL3VzZXIvJHt1c2VySWR9YCk7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG5cbiAgYXN5bmMgZGVsZXRlUXVlcnkocXVlcnlJZDogbnVtYmVyKTogUHJvbWlzZTx7IHN1Y2Nlc3M6IGJvb2xlYW47IGRhdGE/OiBBUElSZXNwb25zZTsgZXJyb3I/OiBzdHJpbmcgfT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2xpZW50LmRlbGV0ZTxBUElSZXNwb25zZT4oYC9hcGkvYWRtaW4vcXVlcnkvJHtxdWVyeUlkfWApO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcmVzcG9uc2UuZGF0YSB9O1xuICAgIH0gY2F0Y2ggKGVycm9yOiB1bmtub3duKSB7XG4gICAgICBpZiAoYXhpb3MuaXNBeGlvc0Vycm9yKGVycm9yKSAmJiBlcnJvci5yZXNwb25zZSkge1xuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBlcnJvci5yZXNwb25zZS5kYXRhPy5kZXRhaWwgfHwgZXJyb3IucmVzcG9uc2UuZGF0YT8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGRlbGV0ZSBxdWVyeSc7XG4gICAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogZXJyb3JNZXNzYWdlIH07XG4gICAgICB9XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdBbiB1bmtub3duIGVycm9yIG9jY3VycmVkIHdoaWxlIGRlbGV0aW5nIHRoZSBxdWVyeS4nIH07XG4gICAgfVxuICB9XG5cblxuICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAvLyBSb2xlcyAoZHluYW1pYylcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBhc3luYyBsaXN0Um9sZXMoKTogUHJvbWlzZTxSb2xlW10+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2xpZW50LmdldDxpbXBvcnQoXCIuLi90eXBlc1wiKS5BUElSZXNwb25zZTxSb2xlW10+PihcIi9hcGkvcm9sZXNcIik7XG4gICAgcmV0dXJuIHRoaXMuZXh0cmFjdERhdGE8Um9sZVtdPihyZXNwb25zZSk7XG4gIH1cblxuICBhc3luYyBjcmVhdGVSb2xlKHJvbGVOYW1lOiBzdHJpbmcpOiBQcm9taXNlPFJvbGU+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHRoaXMuY2xpZW50LnBvc3Q8aW1wb3J0KFwiLi4vdHlwZXNcIikuQVBJUmVzcG9uc2U8Um9sZT4+KFwiL2FwaS9yb2xlc1wiLCB7XG4gICAgICByb2xlX25hbWU6IHJvbGVOYW1lLFxuICAgIH0pO1xuICAgIHJldHVybiB0aGlzLmV4dHJhY3REYXRhPFJvbGU+KHJlc3BvbnNlKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGUgYSByb2xlLiBJZiBgbmV3Um9sZWAgaXMgcHJvdmlkZWQgdXNlcnMgYXJlIHJlYXNzaWduZWQgYXV0b21hdGljYWxseS5cbiAgICogUmV0dXJucyB0aGUgZnVsbCBiYWNrZW5kIHJlc3BvbnNlIHNvIHRoZSBjYWxsZXIgY2FuIGNoZWNrIHN1Y2Nlc3MgLyBST0xFX0lOX1VTRVxuICAgKi9cbiAgYXN5bmMgZGVsZXRlUm9sZShyb2xlTmFtZTogc3RyaW5nLCBuZXdSb2xlPzogc3RyaW5nKSB7XG4gICAgY29uc3QgY29uZmlnOiBhbnkgPSB7fTtcbiAgICBpZiAobmV3Um9sZSkge1xuICAgICAgY29uZmlnLmRhdGEgPSB7IG5ld19yb2xlOiBuZXdSb2xlIH07XG4gICAgICAvLyBheGlvcyBkZWxldGUgd2l0aCBib2R5IG5lZWRzIGBkYXRhYCBwcm9wXG4gICAgfVxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jbGllbnQuZGVsZXRlKGAvYXBpL3JvbGVzLyR7cm9sZU5hbWV9YCwgY29uZmlnKTtcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgfVxuXG4gIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gIC8vIFByb2Nlc3NlcyAoU2NlbmFyaW8gMylcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICBhc3luYyBsaXN0UHJvY2Vzc2VzKCkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0PGltcG9ydChcIi4uL3R5cGVzXCIpLkFQSVJlc3BvbnNlPGFueVtdPj4oXCIvYXBpL3Byb2Nlc3Nlc1wiKTtcbiAgICByZXR1cm4gdGhpcy5leHRyYWN0RGF0YTxhbnlbXT4ocmVzcG9uc2UpO1xuICB9XG5cbiAgYXN5bmMgY3JlYXRlUHJvY2VzcyhkYXRhOiBpbXBvcnQoXCIuLi90eXBlc1wiKS5Qcm9jZXNzQ3JlYXRlKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNsaWVudC5wb3N0KFwiL2FwaS9wcm9jZXNzXCIsIGRhdGEpO1xuICAgIHJldHVybiByZXNwb25zZSBhcyBhbnk7XG4gIH1cblxuICBhc3luYyB1cGRhdGVQcm9jZXNzKHByb2Nlc3NJZDogbnVtYmVyLCBkYXRhOiBpbXBvcnQoXCIuLi90eXBlc1wiKS5Qcm9jZXNzQ3JlYXRlKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNsaWVudC5wdXQoYC9hcGkvcHJvY2Vzcy8ke3Byb2Nlc3NJZH1gLCBkYXRhKTtcbiAgICByZXR1cm4gcmVzcG9uc2UgYXMgYW55O1xuICB9XG5cbiAgYXN5bmMgZGVsZXRlUHJvY2Vzcyhwcm9jZXNzSWQ6IG51bWJlcikge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jbGllbnQuZGVsZXRlKGAvYXBpL3Byb2Nlc3MvJHtwcm9jZXNzSWR9YCk7XG4gICAgcmV0dXJuIHJlc3BvbnNlIGFzIGFueTtcbiAgfVxuXG4gIGFzeW5jIHJ1blByb2Nlc3MocHJvY2Vzc0lkOiBudW1iZXIsIHBhcmFtczogUmVjb3JkPHN0cmluZywgYW55PiA9IHt9KSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNsaWVudC5wb3N0KGAvYXBpL3Byb2Nlc3MvJHtwcm9jZXNzSWR9L3J1bmAsIHBhcmFtcyk7XG4gICAgcmV0dXJuIHJlc3BvbnNlIGFzIGFueTtcbiAgfVxuXG4gIGFzeW5jIGxpc3RBdmFpbGFibGVTY3JpcHRzKCkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0PGltcG9ydChcIi4uL3R5cGVzXCIpLkFQSVJlc3BvbnNlPGltcG9ydChcIi4uL3R5cGVzXCIpLlNjcmlwdEZpbGVbXT4+KFwiL2FwaS9zY3JpcHRzXCIpO1xuICAgIHJldHVybiB0aGlzLmV4dHJhY3REYXRhPGltcG9ydChcIi4uL3R5cGVzXCIpLlNjcmlwdEZpbGVbXT4ocmVzcG9uc2UpO1xuICB9XG59XG5cbi8vIENyZWF0ZSBhbmQgZXhwb3J0IGEgc2luZ2xldG9uIGluc3RhbmNlXG5jb25zdCBhcGlDbGllbnQgPSBuZXcgQXBpQ2xpZW50KCk7XG5leHBvcnQgZGVmYXVsdCBhcGlDbGllbnQ7XG5cbi8vIFByZWZlciB1c2luZyB0aGUgZGVmYXVsdCBleHBvcnQgYGFwaUNsaWVudGAgdG8gYXZvaWQgbG9zaW5nIGB0aGlzYCBjb250ZXh0XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjcmVhdGVRdWVyeShkYXRhOiBRdWVyeUZvcm1EYXRhICYgeyByb2xlPzogc3RyaW5nW10gfSkge1xuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaUNsaWVudC5wb3N0PEFQSVJlc3BvbnNlPFF1ZXJ5Pj4oXG4gICAgXCIvYXBpL2FkbWluL3F1ZXJ5XCIsXG4gICAgeyAuLi5kYXRhLCByb2xlOiBkYXRhLnJvbGUgfHwgW1widXNlclwiXSB9LFxuICApO1xuICBpZiAocmVzcG9uc2Uuc3VjY2VzcyAmJiByZXNwb25zZS5kYXRhKSB7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKHJlc3BvbnNlLm1lc3NhZ2UgfHwgXCJGYWlsZWQgdG8gY3JlYXRlIHF1ZXJ5XCIpO1xufVxuIl0sIm5hbWVzIjpbImF4aW9zIiwibG9nZ2VyIiwidG9hc3QiLCJyZXNvbHZlZEJhc2UiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX1VSTCIsImVudlVybCIsIlVSTCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsInBhZ2VVcmwiLCJzYW1lSG9zdCIsImhvc3RuYW1lIiwicG9ydCIsInNjaGVtZU1pc21hdGNoIiwicHJvdG9jb2wiLCJvcmlnaW4iLCJBUElfQkFTRV9VUkwiLCJBcGlDbGllbnQiLCJleHRyYWN0RGF0YSIsInJlc3BvbnNlIiwicGF5bG9hZCIsImRhdGEiLCJjb25zdHJ1Y3RvciIsInRhYklkIiwicmVmcmVzaFRpbWVyIiwiaXNSZWZyZXNoaW5nIiwiY2xpZW50IiwiY3JlYXRlIiwiYmFzZVVSTCIsInRpbWVvdXQiLCJoZWFkZXJzIiwic2V0dXBUb2tlblJlZnJlc2giLCJzZXR1cENyb3NzVGFiU2Vzc2lvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwia2V5IiwibmV3VmFsdWUiLCJpbnRlcmNlcHRvcnMiLCJyZXF1ZXN0IiwidXNlIiwiY29uZmlnIiwidG9rZW4iLCJnZXRUb2tlbiIsInJlcXVlc3RJZCIsIkRhdGUiLCJub3ciLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHIiLCJtZXRhZGF0YSIsInN0YXJ0VGltZSIsImFwaVJlcXVlc3QiLCJtZXRob2QiLCJ1cmwiLCJoYXNBdXRoIiwiQXV0aG9yaXphdGlvbiIsInRvSVNPU3RyaW5nIiwiZXJyb3IiLCJtZXNzYWdlIiwic3RhY2siLCJ1bmRlZmluZWQiLCJQcm9taXNlIiwicmVqZWN0IiwiZHVyYXRpb24iLCJhcGlSZXNwb25zZSIsInN0YXR1cyIsInJlc3BvbnNlU2l6ZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJsZW5ndGgiLCJjb250ZW50VHlwZSIsInRvVXBwZXJDYXNlIiwic3RhdHVzVGV4dCIsInJlc3BvbnNlRGF0YSIsImVycm9yTWVzc2FnZSIsImlzTmV0d29ya0Vycm9yIiwiaXNUaW1lb3V0RXJyb3IiLCJjb2RlIiwiY29uc29sZSIsImRlYnVnIiwid2FybiIsIm9yaWdpbmFsVXJsIiwiaW5jbHVkZXMiLCJyZW1vdmVUb2tlbiIsImRldGFpbCIsImVycm9yTXNnIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInNldFRva2VuIiwic2V0SXRlbSIsInNlc3Npb25TdG9yYWdlIiwicmVtb3ZlSXRlbSIsImNsZWFyUmVmcmVzaFRpbWVyIiwiZXhwaXJ5TXMiLCJnZXRUb2tlbkV4cGlyeU1zIiwibGVld2F5TXMiLCJkZWxheSIsIm1heCIsInNldFRpbWVvdXQiLCJyZWZyZXNoVG9rZW4iLCJzcGxpdCIsImRlY29kZWQiLCJwYXJzZSIsImF0b2IiLCJleHAiLCJjbGVhclRpbWVvdXQiLCJpbmZvIiwicG9zdCIsImFjY2Vzc190b2tlbiIsInVzZXIiLCJzZXRVc2VyIiwiZ2V0VXNlciIsInVzZXJTdHIiLCJPUEVOX1RBQlNfS0VZIiwiTEFTVF9DTE9TRV9LRVkiLCJnZXRUYWJzIiwicmF3IiwiYXJyIiwiQXJyYXkiLCJpc0FycmF5Iiwic2V0VGFicyIsInRhYnMiLCJsYXN0Q2xvc2VTdHIiLCJsYXN0Q2xvc2VBdCIsInBhcnNlSW50IiwiY3VycmVudCIsInJlbWFpbmluZyIsImZpbHRlciIsInQiLCJTdHJpbmciLCJsb2dpbiIsImNyZWRlbnRpYWxzIiwidXNlcm5hbWUiLCJyb2xlIiwibXVzdF9jaGFuZ2VfcGFzc3dvcmQiLCJFcnJvciIsImdldEN1cnJlbnRVc2VyIiwiZ2V0IiwiZ2V0QXV0aE1vZGUiLCJhdXRoX21vZGUiLCJsb2dvdXQiLCJjaGFuZ2VQYXNzd29yZCIsImN1cnJlbnRQYXNzd29yZCIsIm5ld1Bhc3N3b3JkIiwicGFzc3dvcmQiLCJuZXdfcGFzc3dvcmQiLCJoZWFsdGhDaGVjayIsImdldE1lbnVJdGVtcyIsImdldERhc2hib2FyZExheW91dCIsIm1lbnVJZCIsInBhcmFtcyIsIm1lbnVfaWQiLCJnZXRXaWRnZXREYXRhIiwid2lkZ2V0SWQiLCJnZXRLcGlzIiwidXBkYXRlV2lkZ2V0IiwicHV0IiwiZXhlY3V0ZVF1ZXJ5IiwiZXhlY3V0ZUZpbHRlcmVkUXVlcnkiLCJleHBvcnREYXRhIiwicmVzcG9uc2VUeXBlIiwiZ2V0UmVwb3J0c0J5TWVudSIsIm1lbnVJdGVtSWQiLCJnZXRRdWVyeURldGFpbCIsInF1ZXJ5SWQiLCJkZWxldGUiLCJpc0F1dGhlbnRpY2F0ZWQiLCJ1cGRhdGVBY3Rpdml0eSIsImRvd25sb2FkRmlsZSIsImZpbGVuYW1lIiwiYmxvYiIsIkJsb2IiLCJkb3dubG9hZFVybCIsImNyZWF0ZU9iamVjdFVSTCIsImxpbmsiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJjbGljayIsInJlbW92ZSIsInJldm9rZU9iamVjdFVSTCIsImltcG9ydFRhYmxlRGF0YSIsInRhYmxlTmFtZSIsImZpbGUiLCJtb2RlIiwiZm9ybSIsIkZvcm1EYXRhIiwiYXBwZW5kIiwidXBkYXRlVXNlciIsInVzZXJJZCIsImRlbGV0ZVVzZXIiLCJkZWxldGVRdWVyeSIsInN1Y2Nlc3MiLCJpc0F4aW9zRXJyb3IiLCJsaXN0Um9sZXMiLCJjcmVhdGVSb2xlIiwicm9sZU5hbWUiLCJyb2xlX25hbWUiLCJkZWxldGVSb2xlIiwibmV3Um9sZSIsIm5ld19yb2xlIiwibGlzdFByb2Nlc3NlcyIsImNyZWF0ZVByb2Nlc3MiLCJ1cGRhdGVQcm9jZXNzIiwicHJvY2Vzc0lkIiwiZGVsZXRlUHJvY2VzcyIsInJ1blByb2Nlc3MiLCJsaXN0QXZhaWxhYmxlU2NyaXB0cyIsImFwaUNsaWVudCIsImNyZWF0ZVF1ZXJ5Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./src/lib/api.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./src/lib/logger.ts":
/*!***************************!*\
  !*** ./src/lib/logger.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   logger: () => (/* binding */ logger)\n/* harmony export */ });\nconst levelPriority = {\n    debug: 10,\n    info: 20,\n    warn: 30,\n    error: 40\n};\nclass FrontendLogger {\n    constructor(){\n        this.logBuffer = [];\n        this.maxBufferSize = 100;\n        this.flushInterval = 30000 // 30 seconds\n        ;\n        this.lastFlush = Date.now();\n        this.sessionId = this.generateSessionId();\n        // Periodic flush of logs\n        if (false) {}\n    }\n    // Format a local timestamp as YYYY-MM-DD HH:MM:SS\n    localTimestamp() {\n        const d = new Date();\n        const pad = (n)=>String(n).padStart(2, '0');\n        const yyyy = d.getFullYear();\n        const mm = pad(d.getMonth() + 1);\n        const dd = pad(d.getDate());\n        const hh = pad(d.getHours());\n        const mi = pad(d.getMinutes());\n        const ss = pad(d.getSeconds());\n        return `${yyyy}-${mm}-${dd} ${hh}:${mi}:${ss}`;\n    }\n    generateSessionId() {\n        return `${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\n    }\n    getCurrentUser() {\n        if (true) return undefined;\n        try {\n            // Prefer localStorage (shared across tabs), fallback to sessionStorage for backward compatibility\n            const user = localStorage.getItem(\"user\") || sessionStorage.getItem(\"user\");\n            return user ? JSON.parse(user).id?.toString() : undefined;\n        } catch  {\n            return undefined;\n        }\n    }\n    createLogEntry(level, message, context) {\n        return {\n            // Use computer localtime instead of UTC\n            timestamp: this.localTimestamp(),\n            level,\n            message,\n            context,\n            userId: this.getCurrentUser(),\n            sessionId: this.sessionId,\n            url:  false ? 0 : undefined,\n            userAgent:  false ? 0 : undefined\n        };\n    }\n    addToBuffer(entry) {\n        this.logBuffer.push(entry);\n        // Keep buffer size manageable\n        if (this.logBuffer.length > this.maxBufferSize) {\n            this.logBuffer = this.logBuffer.slice(-this.maxBufferSize);\n        }\n        // Auto-flush on error or if buffer is getting full\n        if (entry.level === \"ERROR\" || this.logBuffer.length >= this.maxBufferSize * 0.8) {\n            this.flush();\n        }\n    }\n    async flush() {\n        if (this.logBuffer.length === 0 || Date.now() - this.lastFlush < 5000) {\n            return; // Don't flush too frequently\n        }\n        const logsToSend = [\n            ...this.logBuffer\n        ];\n        this.logBuffer = [];\n        this.lastFlush = Date.now();\n        // Send logs to file-based backend\n        try {\n            if (false) {}\n        } catch  {\n        // Silently fail - logging shouldn't break the app\n        }\n        // Also store in sessionStorage for debugging\n        try {\n            const existingLogs = JSON.parse(sessionStorage.getItem(\"app_logs\") || \"[]\");\n            const allLogs = [\n                ...existingLogs,\n                ...logsToSend\n            ].slice(-200); // Keep last 200 logs\n            sessionStorage.setItem(\"app_logs\", JSON.stringify(allLogs));\n        } catch  {\n        // Silently fail\n        }\n    }\n    debug(message, context) {\n        if (this.shouldLog(\"debug\")) {\n            this.addToBuffer(this.createLogEntry(\"DEBUG\", message, context));\n        }\n    }\n    info(message, context) {\n        if (this.shouldLog(\"info\")) {\n            this.addToBuffer(this.createLogEntry(\"INFO\", message, context));\n        }\n    }\n    warn(message, context) {\n        if (this.shouldLog(\"warn\")) {\n            this.addToBuffer(this.createLogEntry(\"WARN\", message, context));\n        }\n    }\n    error(message, context) {\n        if (this.shouldLog(\"error\")) {\n            this.addToBuffer(this.createLogEntry(\"ERROR\", message, context));\n        }\n    }\n    // Enhanced logging methods for specific use cases\n    navigation(from, to, context) {\n        this.info(`Navigation: ${from} → ${to}`, {\n            from,\n            to,\n            ...context\n        });\n    }\n    userAction(action, component, context) {\n        this.info(`User Action: ${action} in ${component}`, {\n            action,\n            component,\n            ...context\n        });\n    }\n    apiRequest(method, url, context) {\n        this.debug(`API Request: ${method.toUpperCase()} ${url}`, {\n            method,\n            url,\n            ...context\n        });\n    }\n    apiResponse(method, url, status, duration, context) {\n        const statusEmoji = status >= 400 ? '❌' : status >= 300 ? '⚠️' : '✅';\n        const durationText = duration ? ` (${duration}ms)` : '';\n        this.debug(`API Response: ${statusEmoji} ${method.toUpperCase()} ${url} ${status}${durationText}`, {\n            method,\n            url,\n            status,\n            duration,\n            ...context\n        });\n    }\n    performance(metric, value, context) {\n        this.debug(`Performance: ${metric} = ${value}ms`, {\n            metric,\n            value,\n            ...context\n        });\n    }\n    shouldLog(messageLevel) {\n        const currentLevel = this.getCurrentLevel();\n        return levelPriority[messageLevel] >= levelPriority[currentLevel];\n    }\n    getCurrentLevel() {\n        // Set debug level in development, info in production\n        if (false) {}\n        return  true ? \"debug\" : 0;\n    }\n    // Method to get logs for debugging\n    getLogs() {\n        try {\n            return JSON.parse(sessionStorage.getItem(\"app_logs\") || \"[]\");\n        } catch  {\n            return [];\n        }\n    }\n    // Method to clear logs\n    clearLogs() {\n        this.logBuffer = [];\n        if (false) {}\n    }\n    // Method to export logs as JSON for debugging\n    exportLogs() {\n        if (true) return;\n        const logs = this.getLogs();\n        const dataStr = JSON.stringify(logs, null, 2);\n        const dataBlob = new Blob([\n            dataStr\n        ], {\n            type: 'application/json'\n        });\n        const link = document.createElement('a');\n        link.href = URL.createObjectURL(dataBlob);\n        // Name exported file with local date\n        const d = new Date();\n        const pad = (n)=>String(n).padStart(2, '0');\n        const yyyy = d.getFullYear();\n        const mm = pad(d.getMonth() + 1);\n        const dd = pad(d.getDate());\n        link.download = `frontend_logs_${yyyy}-${mm}-${dd}.json`;\n        link.click();\n        URL.revokeObjectURL(link.href);\n    }\n    // Method to get recent error logs\n    getRecentErrors(minutes = 10) {\n        const logs = this.getLogs();\n        const cutoff = Date.now() - minutes * 60 * 1000;\n        return logs.filter((log)=>log.level === \"ERROR\" && new Date(log.timestamp).getTime() > cutoff);\n    }\n    // Method to print debug info to console\n    printDebugInfo() {\n        if (true) return;\n        const logs = this.getLogs();\n        const recentErrors = this.getRecentErrors();\n        const bufferSize = this.logBuffer.length;\n        console.group(\"🔍 Frontend Logger Debug Info\");\n        console.log(\"📊 Total stored logs:\", logs.length);\n        console.log(\"📦 Current buffer size:\", bufferSize);\n        console.log(\"🔴 Recent errors (last 10 min):\", recentErrors.length);\n        console.log(\"🆔 Session ID:\", this.sessionId);\n        if (recentErrors.length > 0) {\n            console.group(\"Recent Errors:\");\n            recentErrors.forEach((error)=>{\n                console.error(`[${error.timestamp}] ${error.message}`, error.context);\n            });\n            console.groupEnd();\n        }\n        console.log(\"💡 Commands available:\");\n        console.log(\"- logger.exportLogs() - Download logs as JSON\");\n        console.log(\"- logger.clearLogs() - Clear all logs\");\n        console.log(\"- logger.getLogs() - Get all logs array\");\n        console.log(\"- logger.getRecentErrors(minutes) - Get recent errors\");\n        console.groupEnd();\n    }\n}\nconst createLogger = ()=>{\n    if (true) {\n        // Server-side logging (during SSR)\n        return {\n            debug: (message, context)=>console.debug(\"[DEBUG]\", message, context),\n            info: (message, context)=>console.info(\"[INFO]\", message, context),\n            warn: (message, context)=>console.warn(\"[WARN]\", message, context),\n            error: (message, context)=>console.error(\"[ERROR]\", message, context),\n            navigation: (from, to, context)=>console.info(\"[NAVIGATION]\", `${from} → ${to}`, context),\n            userAction: (action, component, context)=>console.info(\"[USER_ACTION]\", `${action} in ${component}`, context),\n            apiRequest: (method, url, context)=>console.debug(\"[API_REQUEST]\", `${method} ${url}`, context),\n            apiResponse: (method, url, status, duration, context)=>console.debug(\"[API_RESPONSE]\", `${method} ${url} ${status}`, context),\n            performance: (metric, value, context)=>console.debug(\"[PERFORMANCE]\", `${metric} = ${value}ms`, context),\n            getLogs: ()=>[],\n            clearLogs: ()=>{},\n            exportLogs: ()=>{},\n            getRecentErrors: ()=>[],\n            printDebugInfo: ()=>{}\n        };\n    }\n    return new FrontendLogger();\n};\nconst logger = createLogger();\n// Make logger globally available for debugging in development\nif (false) {}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (logger);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RyxFQUFFQyxJQUFJLEVBQUUzQjtZQUN6RzRCLFlBQVksQ0FBQ0MsUUFBZ0JDLFdBQW1COUIsVUFBa0JxRSxRQUFRMUgsSUFBSSxDQUFDLGlCQUFpQixHQUFHa0YsT0FBTyxJQUFJLEVBQUVDLFdBQVcsRUFBRTlCO1lBQzdIK0IsWUFBWSxDQUFDaEIsUUFBZ0JaLEtBQWFILFVBQWtCcUUsUUFBUTNILEtBQUssQ0FBQyxpQkFBaUIsR0FBR3FFLE9BQU8sQ0FBQyxFQUFFWixLQUFLLEVBQUVIO1lBQy9HaUMsYUFBYSxDQUFDbEIsUUFBZ0JaLEtBQWErQixRQUFnQkMsVUFBbUJuQyxVQUFrQnFFLFFBQVEzSCxLQUFLLENBQUMsa0JBQWtCLEdBQUdxRSxPQUFPLENBQUMsRUFBRVosSUFBSSxDQUFDLEVBQUUrQixRQUFRLEVBQUVsQztZQUM5SnNDLGFBQWEsQ0FBQ0MsUUFBZ0JDLE9BQWV4QyxVQUFrQnFFLFFBQVEzSCxLQUFLLENBQUMsaUJBQWlCLEdBQUc2RixPQUFPLEdBQUcsRUFBRUMsTUFBTSxFQUFFLENBQUMsRUFBRXhDO1lBQ3hINkMsU0FBUyxJQUFNLEVBQUU7WUFDakJDLFdBQVcsS0FBTztZQUNsQkUsWUFBWSxLQUFPO1lBQ25CWSxpQkFBaUIsSUFBTSxFQUFFO1lBQ3pCTSxnQkFBZ0IsS0FBTztRQUN6QjtJQUNGO0lBRUEsT0FBTyxJQUFJcEg7QUFDYjtBQUVPLE1BQU00SCxTQUFTRCxlQUFlO0FBRXJDLDhEQUE4RDtBQUM5RCxJQUFJLEtBQXVFLEVBQUUsRUFjNUU7QUFFRCxpRUFBZUMsTUFBTUEsRUFBQyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxNYWxpayBBbWVlciBIYW16YVxcRG93bmxvYWRzXFxDb21wbGV0ZUNvZGUtRXJyb3JGaXhlZFxcY29tcGxldGVjb2RlXFxmcm9udGVuZFxcc3JjXFxsaWJcXGxvZ2dlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdHlwZSBMb2dMZXZlbCA9IFwiZGVidWdcIiB8IFwiaW5mb1wiIHwgXCJ3YXJuXCIgfCBcImVycm9yXCI7XG5cbmNvbnN0IGxldmVsUHJpb3JpdHk6IFJlY29yZDxMb2dMZXZlbCwgbnVtYmVyPiA9IHtcbiAgZGVidWc6IDEwLFxuICBpbmZvOiAyMCxcbiAgd2FybjogMzAsXG4gIGVycm9yOiA0MCxcbn07XG5cbmludGVyZmFjZSBMb2dFbnRyeSB7XG4gIHRpbWVzdGFtcDogc3RyaW5nO1xuICBsZXZlbDogXCJERUJVR1wiIHwgXCJJTkZPXCIgfCBcIldBUk5cIiB8IFwiRVJST1JcIjtcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBjb250ZXh0PzogYW55O1xuICB1c2VySWQ/OiBzdHJpbmc7XG4gIHNlc3Npb25JZD86IHN0cmluZztcbiAgdXJsPzogc3RyaW5nO1xuICB1c2VyQWdlbnQ/OiBzdHJpbmc7XG59XG5cbmNsYXNzIEZyb250ZW5kTG9nZ2VyIHtcbiAgcHJpdmF0ZSBzZXNzaW9uSWQ6IHN0cmluZztcbiAgcHJpdmF0ZSBsb2dCdWZmZXI6IExvZ0VudHJ5W10gPSBbXTtcbiAgcHJpdmF0ZSBtYXhCdWZmZXJTaXplID0gMTAwO1xuICBwcml2YXRlIGZsdXNoSW50ZXJ2YWwgPSAzMDAwMDsgLy8gMzAgc2Vjb25kc1xuICBwcml2YXRlIGxhc3RGbHVzaCA9IERhdGUubm93KCk7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5zZXNzaW9uSWQgPSB0aGlzLmdlbmVyYXRlU2Vzc2lvbklkKCk7XG4gICAgXG4gICAgLy8gUGVyaW9kaWMgZmx1c2ggb2YgbG9nc1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICBzZXRJbnRlcnZhbCgoKSA9PiB0aGlzLmZsdXNoKCksIHRoaXMuZmx1c2hJbnRlcnZhbCk7XG4gICAgICBcbiAgICAgIC8vIEZsdXNoIGxvZ3MgYmVmb3JlIHBhZ2UgdW5sb2FkXG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLCAoKSA9PiB0aGlzLmZsdXNoKCkpO1xuICAgICAgXG4gICAgICAvLyBGbHVzaCBsb2dzIHdoZW4gcGFnZSBiZWNvbWVzIGhpZGRlblxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgKCkgPT4ge1xuICAgICAgICBpZiAoZG9jdW1lbnQuaGlkZGVuKSB7XG4gICAgICAgICAgdGhpcy5mbHVzaCgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAvLyBGb3JtYXQgYSBsb2NhbCB0aW1lc3RhbXAgYXMgWVlZWS1NTS1ERCBISDpNTTpTU1xuICBwcml2YXRlIGxvY2FsVGltZXN0YW1wKCk6IHN0cmluZyB7XG4gICAgY29uc3QgZCA9IG5ldyBEYXRlKCk7XG4gICAgY29uc3QgcGFkID0gKG46IG51bWJlcikgPT4gU3RyaW5nKG4pLnBhZFN0YXJ0KDIsICcwJyk7XG4gICAgY29uc3QgeXl5eSA9IGQuZ2V0RnVsbFllYXIoKTtcbiAgICBjb25zdCBtbSA9IHBhZChkLmdldE1vbnRoKCkgKyAxKTtcbiAgICBjb25zdCBkZCA9IHBhZChkLmdldERhdGUoKSk7XG4gICAgY29uc3QgaGggPSBwYWQoZC5nZXRIb3VycygpKTtcbiAgICBjb25zdCBtaSA9IHBhZChkLmdldE1pbnV0ZXMoKSk7XG4gICAgY29uc3Qgc3MgPSBwYWQoZC5nZXRTZWNvbmRzKCkpO1xuICAgIHJldHVybiBgJHt5eXl5fS0ke21tfS0ke2RkfSAke2hofToke21pfToke3NzfWA7XG4gIH1cblxuICBwcml2YXRlIGdlbmVyYXRlU2Vzc2lvbklkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIGAke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyKDIsIDkpfWA7XG4gIH1cblxuICBwcml2YXRlIGdldEN1cnJlbnRVc2VyKCk6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgPT09IFwidW5kZWZpbmVkXCIpIHJldHVybiB1bmRlZmluZWQ7XG4gICAgdHJ5IHtcbiAgICAgIC8vIFByZWZlciBsb2NhbFN0b3JhZ2UgKHNoYXJlZCBhY3Jvc3MgdGFicyksIGZhbGxiYWNrIHRvIHNlc3Npb25TdG9yYWdlIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG4gICAgICBjb25zdCB1c2VyID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ1c2VyXCIpIHx8IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oXCJ1c2VyXCIpO1xuICAgICAgcmV0dXJuIHVzZXIgPyBKU09OLnBhcnNlKHVzZXIpLmlkPy50b1N0cmluZygpIDogdW5kZWZpbmVkO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGNyZWF0ZUxvZ0VudHJ5KGxldmVsOiBMb2dFbnRyeVtcImxldmVsXCJdLCBtZXNzYWdlOiBzdHJpbmcsIGNvbnRleHQ/OiBhbnkpOiBMb2dFbnRyeSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIFVzZSBjb21wdXRlciBsb2NhbHRpbWUgaW5zdGVhZCBvZiBVVENcbiAgICAgIHRpbWVzdGFtcDogdGhpcy5sb2NhbFRpbWVzdGFtcCgpLFxuICAgICAgbGV2ZWwsXG4gICAgICBtZXNzYWdlLFxuICAgICAgY29udGV4dCxcbiAgICAgIHVzZXJJZDogdGhpcy5nZXRDdXJyZW50VXNlcigpLFxuICAgICAgc2Vzc2lvbklkOiB0aGlzLnNlc3Npb25JZCxcbiAgICAgIHVybDogdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdy5sb2NhdGlvbi5ocmVmIDogdW5kZWZpbmVkLFxuICAgICAgdXNlckFnZW50OiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gbmF2aWdhdG9yLnVzZXJBZ2VudCA6IHVuZGVmaW5lZCxcbiAgICB9O1xuICB9XG5cbiAgcHJpdmF0ZSBhZGRUb0J1ZmZlcihlbnRyeTogTG9nRW50cnkpIHtcbiAgICB0aGlzLmxvZ0J1ZmZlci5wdXNoKGVudHJ5KTtcbiAgICBcbiAgICAvLyBLZWVwIGJ1ZmZlciBzaXplIG1hbmFnZWFibGVcbiAgICBpZiAodGhpcy5sb2dCdWZmZXIubGVuZ3RoID4gdGhpcy5tYXhCdWZmZXJTaXplKSB7XG4gICAgICB0aGlzLmxvZ0J1ZmZlciA9IHRoaXMubG9nQnVmZmVyLnNsaWNlKC10aGlzLm1heEJ1ZmZlclNpemUpO1xuICAgIH1cblxuICAgIC8vIEF1dG8tZmx1c2ggb24gZXJyb3Igb3IgaWYgYnVmZmVyIGlzIGdldHRpbmcgZnVsbFxuICAgIGlmIChlbnRyeS5sZXZlbCA9PT0gXCJFUlJPUlwiIHx8IHRoaXMubG9nQnVmZmVyLmxlbmd0aCA+PSB0aGlzLm1heEJ1ZmZlclNpemUgKiAwLjgpIHtcbiAgICAgIHRoaXMuZmx1c2goKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIGZsdXNoKCkge1xuICAgIGlmICh0aGlzLmxvZ0J1ZmZlci5sZW5ndGggPT09IDAgfHwgRGF0ZS5ub3coKSAtIHRoaXMubGFzdEZsdXNoIDwgNTAwMCkge1xuICAgICAgcmV0dXJuOyAvLyBEb24ndCBmbHVzaCB0b28gZnJlcXVlbnRseVxuICAgIH1cblxuICAgIGNvbnN0IGxvZ3NUb1NlbmQgPSBbLi4udGhpcy5sb2dCdWZmZXJdO1xuICAgIHRoaXMubG9nQnVmZmVyID0gW107XG4gICAgdGhpcy5sYXN0Rmx1c2ggPSBEYXRlLm5vdygpO1xuXG4gICAgLy8gU2VuZCBsb2dzIHRvIGZpbGUtYmFzZWQgYmFja2VuZFxuICAgIHRyeSB7XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBhd2FpdCBmZXRjaChcIi9hcGkvbG9ncy9mcm9udGVuZFwiLCB7XG4gICAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbG9nczogbG9nc1RvU2VuZCB9KSxcbiAgICAgICAgfSkuY2F0Y2goKCkgPT4ge30pOyAvLyBTaWxlbnRseSBmYWlsIGlmIGxvZ2dpbmcgZW5kcG9pbnQgZG9lc24ndCBleGlzdFxuICAgICAgfVxuICAgIH0gY2F0Y2gge1xuICAgICAgLy8gU2lsZW50bHkgZmFpbCAtIGxvZ2dpbmcgc2hvdWxkbid0IGJyZWFrIHRoZSBhcHBcbiAgICB9XG5cbiAgICAvLyBBbHNvIHN0b3JlIGluIHNlc3Npb25TdG9yYWdlIGZvciBkZWJ1Z2dpbmdcbiAgICB0cnkge1xuICAgICAgY29uc3QgZXhpc3RpbmdMb2dzID0gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiYXBwX2xvZ3NcIikgfHwgXCJbXVwiKTtcbiAgICAgIGNvbnN0IGFsbExvZ3MgPSBbLi4uZXhpc3RpbmdMb2dzLCAuLi5sb2dzVG9TZW5kXS5zbGljZSgtMjAwKTsgLy8gS2VlcCBsYXN0IDIwMCBsb2dzXG4gICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKFwiYXBwX2xvZ3NcIiwgSlNPTi5zdHJpbmdpZnkoYWxsTG9ncykpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgLy8gU2lsZW50bHkgZmFpbFxuICAgIH1cbiAgfVxuXG4gIGRlYnVnKG1lc3NhZ2U6IHN0cmluZywgY29udGV4dD86IGFueSkge1xuICAgIGlmICh0aGlzLnNob3VsZExvZyhcImRlYnVnXCIpKSB7XG4gICAgICB0aGlzLmFkZFRvQnVmZmVyKHRoaXMuY3JlYXRlTG9nRW50cnkoXCJERUJVR1wiLCBtZXNzYWdlLCBjb250ZXh0KSk7XG4gICAgfVxuICB9XG5cbiAgaW5mbyhtZXNzYWdlOiBzdHJpbmcsIGNvbnRleHQ/OiBhbnkpIHtcbiAgICBpZiAodGhpcy5zaG91bGRMb2coXCJpbmZvXCIpKSB7XG4gICAgICB0aGlzLmFkZFRvQnVmZmVyKHRoaXMuY3JlYXRlTG9nRW50cnkoXCJJTkZPXCIsIG1lc3NhZ2UsIGNvbnRleHQpKTtcbiAgICB9XG4gIH1cblxuICB3YXJuKG1lc3NhZ2U6IHN0cmluZywgY29udGV4dD86IGFueSkge1xuICAgIGlmICh0aGlzLnNob3VsZExvZyhcIndhcm5cIikpIHtcbiAgICAgIHRoaXMuYWRkVG9CdWZmZXIodGhpcy5jcmVhdGVMb2dFbnRyeShcIldBUk5cIiwgbWVzc2FnZSwgY29udGV4dCkpO1xuICAgIH1cbiAgfVxuXG4gIGVycm9yKG1lc3NhZ2U6IHN0cmluZywgY29udGV4dD86IGFueSkge1xuICAgIGlmICh0aGlzLnNob3VsZExvZyhcImVycm9yXCIpKSB7XG4gICAgICB0aGlzLmFkZFRvQnVmZmVyKHRoaXMuY3JlYXRlTG9nRW50cnkoXCJFUlJPUlwiLCBtZXNzYWdlLCBjb250ZXh0KSk7XG4gICAgfVxuICB9XG5cbiAgLy8gRW5oYW5jZWQgbG9nZ2luZyBtZXRob2RzIGZvciBzcGVjaWZpYyB1c2UgY2FzZXNcbiAgbmF2aWdhdGlvbihmcm9tOiBzdHJpbmcsIHRvOiBzdHJpbmcsIGNvbnRleHQ/OiBhbnkpIHtcbiAgICB0aGlzLmluZm8oYE5hdmlnYXRpb246ICR7ZnJvbX0g4oaSICR7dG99YCwgeyBmcm9tLCB0bywgLi4uY29udGV4dCB9KTtcbiAgfVxuXG4gIHVzZXJBY3Rpb24oYWN0aW9uOiBzdHJpbmcsIGNvbXBvbmVudDogc3RyaW5nLCBjb250ZXh0PzogYW55KSB7XG4gICAgdGhpcy5pbmZvKGBVc2VyIEFjdGlvbjogJHthY3Rpb259IGluICR7Y29tcG9uZW50fWAsIHsgYWN0aW9uLCBjb21wb25lbnQsIC4uLmNvbnRleHQgfSk7XG4gIH1cblxuICBhcGlSZXF1ZXN0KG1ldGhvZDogc3RyaW5nLCB1cmw6IHN0cmluZywgY29udGV4dD86IGFueSkge1xuICAgIHRoaXMuZGVidWcoYEFQSSBSZXF1ZXN0OiAke21ldGhvZC50b1VwcGVyQ2FzZSgpfSAke3VybH1gLCB7IG1ldGhvZCwgdXJsLCAuLi5jb250ZXh0IH0pO1xuICB9XG5cbiAgYXBpUmVzcG9uc2UobWV0aG9kOiBzdHJpbmcsIHVybDogc3RyaW5nLCBzdGF0dXM6IG51bWJlciwgZHVyYXRpb24/OiBudW1iZXIsIGNvbnRleHQ/OiBhbnkpIHtcbiAgICBjb25zdCBzdGF0dXNFbW9qaSA9IHN0YXR1cyA+PSA0MDAgPyAn4p2MJyA6IHN0YXR1cyA+PSAzMDAgPyAn4pqg77iPJyA6ICfinIUnO1xuICAgIGNvbnN0IGR1cmF0aW9uVGV4dCA9IGR1cmF0aW9uID8gYCAoJHtkdXJhdGlvbn1tcylgIDogJyc7XG4gICAgdGhpcy5kZWJ1ZyhgQVBJIFJlc3BvbnNlOiAke3N0YXR1c0Vtb2ppfSAke21ldGhvZC50b1VwcGVyQ2FzZSgpfSAke3VybH0gJHtzdGF0dXN9JHtkdXJhdGlvblRleHR9YCwgXG4gICAgICB7IG1ldGhvZCwgdXJsLCBzdGF0dXMsIGR1cmF0aW9uLCAuLi5jb250ZXh0IH0pO1xuICB9XG5cbiAgcGVyZm9ybWFuY2UobWV0cmljOiBzdHJpbmcsIHZhbHVlOiBudW1iZXIsIGNvbnRleHQ/OiBhbnkpIHtcbiAgICB0aGlzLmRlYnVnKGBQZXJmb3JtYW5jZTogJHttZXRyaWN9ID0gJHt2YWx1ZX1tc2AsIHsgbWV0cmljLCB2YWx1ZSwgLi4uY29udGV4dCB9KTtcbiAgfVxuXG4gIHByaXZhdGUgc2hvdWxkTG9nKG1lc3NhZ2VMZXZlbDogTG9nTGV2ZWwpOiBib29sZWFuIHtcbiAgICBjb25zdCBjdXJyZW50TGV2ZWwgPSB0aGlzLmdldEN1cnJlbnRMZXZlbCgpO1xuICAgIHJldHVybiBsZXZlbFByaW9yaXR5W21lc3NhZ2VMZXZlbF0gPj0gbGV2ZWxQcmlvcml0eVtjdXJyZW50TGV2ZWxdO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRDdXJyZW50TGV2ZWwoKTogTG9nTGV2ZWwge1xuICAgIC8vIFNldCBkZWJ1ZyBsZXZlbCBpbiBkZXZlbG9wbWVudCwgaW5mbyBpbiBwcm9kdWN0aW9uXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgIHJldHVybiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJkZXZlbG9wbWVudFwiID8gXCJkZWJ1Z1wiIDogXCJpbmZvXCI7XG4gICAgfVxuICAgIHJldHVybiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJkZXZlbG9wbWVudFwiID8gXCJkZWJ1Z1wiIDogXCJpbmZvXCI7XG4gIH1cblxuICAvLyBNZXRob2QgdG8gZ2V0IGxvZ3MgZm9yIGRlYnVnZ2luZ1xuICBnZXRMb2dzKCk6IExvZ0VudHJ5W10ge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gSlNPTi5wYXJzZShzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKFwiYXBwX2xvZ3NcIikgfHwgXCJbXVwiKTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH1cblxuICAvLyBNZXRob2QgdG8gY2xlYXIgbG9nc1xuICBjbGVhckxvZ3MoKSB7XG4gICAgdGhpcy5sb2dCdWZmZXIgPSBbXTtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgc2Vzc2lvblN0b3JhZ2UucmVtb3ZlSXRlbShcImFwcF9sb2dzXCIpO1xuICAgIH1cbiAgfVxuXG4gIC8vIE1ldGhvZCB0byBleHBvcnQgbG9ncyBhcyBKU09OIGZvciBkZWJ1Z2dpbmdcbiAgZXhwb3J0TG9ncygpOiB2b2lkIHtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuO1xuICAgIFxuICAgIGNvbnN0IGxvZ3MgPSB0aGlzLmdldExvZ3MoKTtcbiAgICBjb25zdCBkYXRhU3RyID0gSlNPTi5zdHJpbmdpZnkobG9ncywgbnVsbCwgMik7XG4gICAgY29uc3QgZGF0YUJsb2IgPSBuZXcgQmxvYihbZGF0YVN0cl0sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nIH0pO1xuICAgIFxuICAgIGNvbnN0IGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgbGluay5ocmVmID0gVVJMLmNyZWF0ZU9iamVjdFVSTChkYXRhQmxvYik7XG4gICAgLy8gTmFtZSBleHBvcnRlZCBmaWxlIHdpdGggbG9jYWwgZGF0ZVxuICAgIGNvbnN0IGQgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnN0IHBhZCA9IChuOiBudW1iZXIpID0+IFN0cmluZyhuKS5wYWRTdGFydCgyLCAnMCcpO1xuICAgIGNvbnN0IHl5eXkgPSBkLmdldEZ1bGxZZWFyKCk7XG4gICAgY29uc3QgbW0gPSBwYWQoZC5nZXRNb250aCgpICsgMSk7XG4gICAgY29uc3QgZGQgPSBwYWQoZC5nZXREYXRlKCkpO1xuICAgIGxpbmsuZG93bmxvYWQgPSBgZnJvbnRlbmRfbG9nc18ke3l5eXl9LSR7bW19LSR7ZGR9Lmpzb25gO1xuICAgIGxpbmsuY2xpY2soKTtcbiAgICBcbiAgICBVUkwucmV2b2tlT2JqZWN0VVJMKGxpbmsuaHJlZik7XG4gIH1cblxuICAvLyBNZXRob2QgdG8gZ2V0IHJlY2VudCBlcnJvciBsb2dzXG4gIGdldFJlY2VudEVycm9ycyhtaW51dGVzOiBudW1iZXIgPSAxMCk6IExvZ0VudHJ5W10ge1xuICAgIGNvbnN0IGxvZ3MgPSB0aGlzLmdldExvZ3MoKTtcbiAgICBjb25zdCBjdXRvZmYgPSBEYXRlLm5vdygpIC0gKG1pbnV0ZXMgKiA2MCAqIDEwMDApO1xuICAgIFxuICAgIHJldHVybiBsb2dzLmZpbHRlcihsb2cgPT4gXG4gICAgICBsb2cubGV2ZWwgPT09IFwiRVJST1JcIiAmJiBcbiAgICAgIG5ldyBEYXRlKGxvZy50aW1lc3RhbXApLmdldFRpbWUoKSA+IGN1dG9mZlxuICAgICk7XG4gIH1cblxuICAvLyBNZXRob2QgdG8gcHJpbnQgZGVidWcgaW5mbyB0byBjb25zb2xlXG4gIHByaW50RGVidWdJbmZvKCk6IHZvaWQge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSByZXR1cm47XG4gICAgXG4gICAgY29uc3QgbG9ncyA9IHRoaXMuZ2V0TG9ncygpO1xuICAgIGNvbnN0IHJlY2VudEVycm9ycyA9IHRoaXMuZ2V0UmVjZW50RXJyb3JzKCk7XG4gICAgY29uc3QgYnVmZmVyU2l6ZSA9IHRoaXMubG9nQnVmZmVyLmxlbmd0aDtcbiAgICBcbiAgICBjb25zb2xlLmdyb3VwKFwi8J+UjSBGcm9udGVuZCBMb2dnZXIgRGVidWcgSW5mb1wiKTtcbiAgICBjb25zb2xlLmxvZyhcIvCfk4ogVG90YWwgc3RvcmVkIGxvZ3M6XCIsIGxvZ3MubGVuZ3RoKTtcbiAgICBjb25zb2xlLmxvZyhcIvCfk6YgQ3VycmVudCBidWZmZXIgc2l6ZTpcIiwgYnVmZmVyU2l6ZSk7XG4gICAgY29uc29sZS5sb2coXCLwn5S0IFJlY2VudCBlcnJvcnMgKGxhc3QgMTAgbWluKTpcIiwgcmVjZW50RXJyb3JzLmxlbmd0aCk7XG4gICAgY29uc29sZS5sb2coXCLwn4aUIFNlc3Npb24gSUQ6XCIsIHRoaXMuc2Vzc2lvbklkKTtcbiAgICBcbiAgICBpZiAocmVjZW50RXJyb3JzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnNvbGUuZ3JvdXAoXCJSZWNlbnQgRXJyb3JzOlwiKTtcbiAgICAgIHJlY2VudEVycm9ycy5mb3JFYWNoKGVycm9yID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgWyR7ZXJyb3IudGltZXN0YW1wfV0gJHtlcnJvci5tZXNzYWdlfWAsIGVycm9yLmNvbnRleHQpO1xuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmdyb3VwRW5kKCk7XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKFwi8J+SoSBDb21tYW5kcyBhdmFpbGFibGU6XCIpO1xuICAgIGNvbnNvbGUubG9nKFwiLSBsb2dnZXIuZXhwb3J0TG9ncygpIC0gRG93bmxvYWQgbG9ncyBhcyBKU09OXCIpO1xuICAgIGNvbnNvbGUubG9nKFwiLSBsb2dnZXIuY2xlYXJMb2dzKCkgLSBDbGVhciBhbGwgbG9nc1wiKTtcbiAgICBjb25zb2xlLmxvZyhcIi0gbG9nZ2VyLmdldExvZ3MoKSAtIEdldCBhbGwgbG9ncyBhcnJheVwiKTtcbiAgICBjb25zb2xlLmxvZyhcIi0gbG9nZ2VyLmdldFJlY2VudEVycm9ycyhtaW51dGVzKSAtIEdldCByZWNlbnQgZXJyb3JzXCIpO1xuICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgfVxufVxuXG5jb25zdCBjcmVhdGVMb2dnZXIgPSAoKSA9PiB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgLy8gU2VydmVyLXNpZGUgbG9nZ2luZyAoZHVyaW5nIFNTUilcbiAgICByZXR1cm4ge1xuICAgICAgZGVidWc6IChtZXNzYWdlOiBzdHJpbmcsIGNvbnRleHQ/OiBhbnkpID0+IGNvbnNvbGUuZGVidWcoXCJbREVCVUddXCIsIG1lc3NhZ2UsIGNvbnRleHQpLFxuICAgICAgaW5mbzogKG1lc3NhZ2U6IHN0cmluZywgY29udGV4dD86IGFueSkgPT4gY29uc29sZS5pbmZvKFwiW0lORk9dXCIsIG1lc3NhZ2UsIGNvbnRleHQpLFxuICAgICAgd2FybjogKG1lc3NhZ2U6IHN0cmluZywgY29udGV4dD86IGFueSkgPT4gY29uc29sZS53YXJuKFwiW1dBUk5dXCIsIG1lc3NhZ2UsIGNvbnRleHQpLFxuICAgICAgZXJyb3I6IChtZXNzYWdlOiBzdHJpbmcsIGNvbnRleHQ/OiBhbnkpID0+IGNvbnNvbGUuZXJyb3IoXCJbRVJST1JdXCIsIG1lc3NhZ2UsIGNvbnRleHQpLFxuICAgICAgbmF2aWdhdGlvbjogKGZyb206IHN0cmluZywgdG86IHN0cmluZywgY29udGV4dD86IGFueSkgPT4gY29uc29sZS5pbmZvKFwiW05BVklHQVRJT05dXCIsIGAke2Zyb219IOKGkiAke3RvfWAsIGNvbnRleHQpLFxuICAgICAgdXNlckFjdGlvbjogKGFjdGlvbjogc3RyaW5nLCBjb21wb25lbnQ6IHN0cmluZywgY29udGV4dD86IGFueSkgPT4gY29uc29sZS5pbmZvKFwiW1VTRVJfQUNUSU9OXVwiLCBgJHthY3Rpb259IGluICR7Y29tcG9uZW50fWAsIGNvbnRleHQpLFxuICAgICAgYXBpUmVxdWVzdDogKG1ldGhvZDogc3RyaW5nLCB1cmw6IHN0cmluZywgY29udGV4dD86IGFueSkgPT4gY29uc29sZS5kZWJ1ZyhcIltBUElfUkVRVUVTVF1cIiwgYCR7bWV0aG9kfSAke3VybH1gLCBjb250ZXh0KSxcbiAgICAgIGFwaVJlc3BvbnNlOiAobWV0aG9kOiBzdHJpbmcsIHVybDogc3RyaW5nLCBzdGF0dXM6IG51bWJlciwgZHVyYXRpb24/OiBudW1iZXIsIGNvbnRleHQ/OiBhbnkpID0+IGNvbnNvbGUuZGVidWcoXCJbQVBJX1JFU1BPTlNFXVwiLCBgJHttZXRob2R9ICR7dXJsfSAke3N0YXR1c31gLCBjb250ZXh0KSxcbiAgICAgIHBlcmZvcm1hbmNlOiAobWV0cmljOiBzdHJpbmcsIHZhbHVlOiBudW1iZXIsIGNvbnRleHQ/OiBhbnkpID0+IGNvbnNvbGUuZGVidWcoXCJbUEVSRk9STUFOQ0VdXCIsIGAke21ldHJpY30gPSAke3ZhbHVlfW1zYCwgY29udGV4dCksXG4gICAgICBnZXRMb2dzOiAoKSA9PiBbXSxcbiAgICAgIGNsZWFyTG9nczogKCkgPT4ge30sXG4gICAgICBleHBvcnRMb2dzOiAoKSA9PiB7fSxcbiAgICAgIGdldFJlY2VudEVycm9yczogKCkgPT4gW10sXG4gICAgICBwcmludERlYnVnSW5mbzogKCkgPT4ge30sXG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBuZXcgRnJvbnRlbmRMb2dnZXIoKTtcbn07XG5cbmV4cG9ydCBjb25zdCBsb2dnZXIgPSBjcmVhdGVMb2dnZXIoKTtcblxuLy8gTWFrZSBsb2dnZXIgZ2xvYmFsbHkgYXZhaWxhYmxlIGZvciBkZWJ1Z2dpbmcgaW4gZGV2ZWxvcG1lbnRcbmlmICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSBcImRldmVsb3BtZW50XCIpIHtcbiAgKHdpbmRvdyBhcyBhbnkpLmxvZ2dlciA9IGxvZ2dlcjtcbiAgXG4gIC8vIExvZyBwZXJmb3JtYW5jZSBtZXRyaWNzIHBlcmlvZGljYWxseSBpbiBkZXZlbG9wbWVudFxuICBpZiAoJ3BlcmZvcm1hbmNlJyBpbiB3aW5kb3cpIHtcbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBjb25zdCBuYXZpZ2F0aW9uID0gcGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5VHlwZSgnbmF2aWdhdGlvbicpWzBdIGFzIFBlcmZvcm1hbmNlTmF2aWdhdGlvblRpbWluZztcbiAgICAgIGlmIChuYXZpZ2F0aW9uKSB7XG4gICAgICAgIGxvZ2dlci5wZXJmb3JtYW5jZSgnUGFnZSBMb2FkIFRpbWUnLCBuYXZpZ2F0aW9uLmxvYWRFdmVudEVuZCAtIG5hdmlnYXRpb24uZmV0Y2hTdGFydCk7XG4gICAgICAgIGxvZ2dlci5wZXJmb3JtYW5jZSgnRE9NIENvbnRlbnQgTG9hZGVkJywgbmF2aWdhdGlvbi5kb21Db250ZW50TG9hZGVkRXZlbnRFbmQgLSBuYXZpZ2F0aW9uLmZldGNoU3RhcnQpO1xuICAgICAgICBsb2dnZXIucGVyZm9ybWFuY2UoJ0ZpcnN0IENvbnRlbnRmdWwgUGFpbnQnLCBuYXZpZ2F0aW9uLmxvYWRFdmVudEVuZCAtIG5hdmlnYXRpb24uZmV0Y2hTdGFydCk7XG4gICAgICB9XG4gICAgfSwgNjAwMDApOyAvLyBFdmVyeSBtaW51dGVcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBsb2dnZXI7XG4iXSwibmFtZXMiOlsibGV2ZWxQcmlvcml0eSIsImRlYnVnIiwiaW5mbyIsIndhcm4iLCJlcnJvciIsIkZyb250ZW5kTG9nZ2VyIiwiY29uc3RydWN0b3IiLCJsb2dCdWZmZXIiLCJtYXhCdWZmZXJTaXplIiwiZmx1c2hJbnRlcnZhbCIsImxhc3RGbHVzaCIsIkRhdGUiLCJub3ciLCJzZXNzaW9uSWQiLCJnZW5lcmF0ZVNlc3Npb25JZCIsInNldEludGVydmFsIiwiZmx1c2giLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiZG9jdW1lbnQiLCJoaWRkZW4iLCJsb2NhbFRpbWVzdGFtcCIsImQiLCJwYWQiLCJuIiwiU3RyaW5nIiwicGFkU3RhcnQiLCJ5eXl5IiwiZ2V0RnVsbFllYXIiLCJtbSIsImdldE1vbnRoIiwiZGQiLCJnZXREYXRlIiwiaGgiLCJnZXRIb3VycyIsIm1pIiwiZ2V0TWludXRlcyIsInNzIiwiZ2V0U2Vjb25kcyIsIk1hdGgiLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0ciIsImdldEN1cnJlbnRVc2VyIiwidW5kZWZpbmVkIiwidXNlciIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzZXNzaW9uU3RvcmFnZSIsIkpTT04iLCJwYXJzZSIsImlkIiwiY3JlYXRlTG9nRW50cnkiLCJsZXZlbCIsIm1lc3NhZ2UiLCJjb250ZXh0IiwidGltZXN0YW1wIiwidXNlcklkIiwidXJsIiwibG9jYXRpb24iLCJocmVmIiwidXNlckFnZW50IiwibmF2aWdhdG9yIiwiYWRkVG9CdWZmZXIiLCJlbnRyeSIsInB1c2giLCJsZW5ndGgiLCJzbGljZSIsImxvZ3NUb1NlbmQiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5Iiwic3RyaW5naWZ5IiwibG9ncyIsImNhdGNoIiwiZXhpc3RpbmdMb2dzIiwiYWxsTG9ncyIsInNldEl0ZW0iLCJzaG91bGRMb2ciLCJuYXZpZ2F0aW9uIiwiZnJvbSIsInRvIiwidXNlckFjdGlvbiIsImFjdGlvbiIsImNvbXBvbmVudCIsImFwaVJlcXVlc3QiLCJ0b1VwcGVyQ2FzZSIsImFwaVJlc3BvbnNlIiwic3RhdHVzIiwiZHVyYXRpb24iLCJzdGF0dXNFbW9qaSIsImR1cmF0aW9uVGV4dCIsInBlcmZvcm1hbmNlIiwibWV0cmljIiwidmFsdWUiLCJtZXNzYWdlTGV2ZWwiLCJjdXJyZW50TGV2ZWwiLCJnZXRDdXJyZW50TGV2ZWwiLCJwcm9jZXNzIiwiZ2V0TG9ncyIsImNsZWFyTG9ncyIsInJlbW92ZUl0ZW0iLCJleHBvcnRMb2dzIiwiZGF0YVN0ciIsImRhdGFCbG9iIiwiQmxvYiIsInR5cGUiLCJsaW5rIiwiY3JlYXRlRWxlbWVudCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsImRvd25sb2FkIiwiY2xpY2siLCJyZXZva2VPYmplY3RVUkwiLCJnZXRSZWNlbnRFcnJvcnMiLCJtaW51dGVzIiwiY3V0b2ZmIiwiZmlsdGVyIiwibG9nIiwiZ2V0VGltZSIsInByaW50RGVidWdJbmZvIiwicmVjZW50RXJyb3JzIiwiYnVmZmVyU2l6ZSIsImNvbnNvbGUiLCJncm91cCIsImZvckVhY2giLCJncm91cEVuZCIsImNyZWF0ZUxvZ2dlciIsImxvZ2dlciIsImdldEVudHJpZXNCeVR5cGUiLCJsb2FkRXZlbnRFbmQiLCJmZXRjaFN0YXJ0IiwiZG9tQ29udGVudExvYWRlZEV2ZW50RW5kIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./src/lib/logger.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./src/lib/roles.ts":
/*!**************************!*\
  !*** ./src/lib/roles.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SYSTEM_ROLE_CODES: () => (/* binding */ SYSTEM_ROLE_CODES),\n/* harmony export */   describeRole: () => (/* binding */ describeRole),\n/* harmony export */   formatRoleLabel: () => (/* binding */ formatRoleLabel),\n/* harmony export */   isAdmin: () => (/* binding */ isAdmin),\n/* harmony export */   normalizeRoleCode: () => (/* binding */ normalizeRoleCode)\n/* harmony export */ });\nfunction normalizeRoleCode(code) {\n    return (code ?? '').toString().trim().toUpperCase();\n}\nfunction isAdmin(code) {\n    return normalizeRoleCode(code) === 'ADMIN';\n}\n// Canonical set of built-in/system roles used across the app\nconst SYSTEM_ROLE_CODES = [\n    'ADMIN',\n    'USER',\n    'IT_USER',\n    'TECH_USER',\n    'CEO',\n    'FINANCE_USER'\n];\nfunction formatRoleLabel(code) {\n    const c = normalizeRoleCode(code);\n    if (!c) return 'User';\n    const system = {\n        ADMIN: 'Admin',\n        USER: 'User',\n        IT_USER: 'IT User',\n        TECH_USER: 'Tech',\n        CEO: 'CEO',\n        FINANCE_USER: 'Finance'\n    };\n    if (system[c]) return system[c];\n    // Title case fallback for custom roles\n    return c.replace(/_/g, ' ').toLowerCase().replace(/\\b\\w/g, (l)=>l.toUpperCase());\n}\nfunction describeRole(code) {\n    const c = normalizeRoleCode(code);\n    const descriptions = {\n        ADMIN: 'Full system access and user management',\n        IT_USER: 'IT infrastructure and system administration',\n        CEO: 'Executive dashboards and reports',\n        FINANCE_USER: 'Financial data and analytics',\n        TECH_USER: 'Technical metrics and system data',\n        USER: 'Basic access to assigned dashboards'\n    };\n    return descriptions[c] || (c === 'ADMIN' ? descriptions.ADMIN : descriptions.USER);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3NyYy9saWIvcm9sZXMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBTyxTQUFTQSxrQkFBa0JDLElBQStCO0lBQy9ELE9BQU8sQ0FBQ0EsUUFBUSxFQUFDLEVBQUdDLFFBQVEsR0FBR0MsSUFBSSxHQUFHQyxXQUFXO0FBQ25EO0FBRU8sU0FBU0MsUUFBUUosSUFBK0I7SUFDckQsT0FBT0Qsa0JBQWtCQyxVQUFVO0FBQ3JDO0FBRUEsNkRBQTZEO0FBQ3RELE1BQU1LLG9CQUE4QjtJQUN6QztJQUNBO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7Q0FDRCxDQUFDO0FBRUssU0FBU0MsZ0JBQWdCTixJQUErQjtJQUM3RCxNQUFNTyxJQUFJUixrQkFBa0JDO0lBQzVCLElBQUksQ0FBQ08sR0FBRyxPQUFPO0lBQ2YsTUFBTUMsU0FBaUM7UUFDckNDLE9BQU87UUFDUEMsTUFBTTtRQUNOQyxTQUFTO1FBQ1RDLFdBQVc7UUFDWEMsS0FBSztRQUNMQyxjQUFjO0lBQ2hCO0lBQ0EsSUFBSU4sTUFBTSxDQUFDRCxFQUFFLEVBQUUsT0FBT0MsTUFBTSxDQUFDRCxFQUFFO0lBQy9CLHVDQUF1QztJQUN2QyxPQUFPQSxFQUFFUSxPQUFPLENBQUMsTUFBTSxLQUFLQyxXQUFXLEdBQUdELE9BQU8sQ0FBQyxTQUFTLENBQUNFLElBQU1BLEVBQUVkLFdBQVc7QUFDakY7QUFFTyxTQUFTZSxhQUFhbEIsSUFBK0I7SUFDMUQsTUFBTU8sSUFBSVIsa0JBQWtCQztJQUM1QixNQUFNbUIsZUFBdUM7UUFDM0NWLE9BQU87UUFDUEUsU0FBUztRQUNURSxLQUFLO1FBQ0xDLGNBQWM7UUFDZEYsV0FBVztRQUNYRixNQUFNO0lBQ1I7SUFDQSxPQUFPUyxZQUFZLENBQUNaLEVBQUUsSUFBS0EsQ0FBQUEsTUFBTSxVQUFVWSxhQUFhVixLQUFLLEdBQUdVLGFBQWFULElBQUk7QUFDbkYiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTWFsaWsgQW1lZXIgSGFtemFcXERvd25sb2Fkc1xcQ29tcGxldGVDb2RlLUVycm9yRml4ZWRcXGNvbXBsZXRlY29kZVxcZnJvbnRlbmRcXHNyY1xcbGliXFxyb2xlcy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplUm9sZUNvZGUoY29kZTogc3RyaW5nIHwgdW5kZWZpbmVkIHwgbnVsbCk6IHN0cmluZyB7XG4gIHJldHVybiAoY29kZSA/PyAnJykudG9TdHJpbmcoKS50cmltKCkudG9VcHBlckNhc2UoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzQWRtaW4oY29kZTogc3RyaW5nIHwgdW5kZWZpbmVkIHwgbnVsbCk6IGJvb2xlYW4ge1xuICByZXR1cm4gbm9ybWFsaXplUm9sZUNvZGUoY29kZSkgPT09ICdBRE1JTic7XG59XG5cbi8vIENhbm9uaWNhbCBzZXQgb2YgYnVpbHQtaW4vc3lzdGVtIHJvbGVzIHVzZWQgYWNyb3NzIHRoZSBhcHBcbmV4cG9ydCBjb25zdCBTWVNURU1fUk9MRV9DT0RFUzogc3RyaW5nW10gPSBbXG4gICdBRE1JTicsXG4gICdVU0VSJyxcbiAgJ0lUX1VTRVInLFxuICAnVEVDSF9VU0VSJyxcbiAgJ0NFTycsXG4gICdGSU5BTkNFX1VTRVInLFxuXTtcblxuZXhwb3J0IGZ1bmN0aW9uIGZvcm1hdFJvbGVMYWJlbChjb2RlOiBzdHJpbmcgfCB1bmRlZmluZWQgfCBudWxsKTogc3RyaW5nIHtcbiAgY29uc3QgYyA9IG5vcm1hbGl6ZVJvbGVDb2RlKGNvZGUpO1xuICBpZiAoIWMpIHJldHVybiAnVXNlcic7XG4gIGNvbnN0IHN5c3RlbTogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgICBBRE1JTjogJ0FkbWluJyxcbiAgICBVU0VSOiAnVXNlcicsXG4gICAgSVRfVVNFUjogJ0lUIFVzZXInLFxuICAgIFRFQ0hfVVNFUjogJ1RlY2gnLFxuICAgIENFTzogJ0NFTycsXG4gICAgRklOQU5DRV9VU0VSOiAnRmluYW5jZScsXG4gIH07XG4gIGlmIChzeXN0ZW1bY10pIHJldHVybiBzeXN0ZW1bY107XG4gIC8vIFRpdGxlIGNhc2UgZmFsbGJhY2sgZm9yIGN1c3RvbSByb2xlc1xuICByZXR1cm4gYy5yZXBsYWNlKC9fL2csICcgJykudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXGJcXHcvZywgKGwpID0+IGwudG9VcHBlckNhc2UoKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZXNjcmliZVJvbGUoY29kZTogc3RyaW5nIHwgdW5kZWZpbmVkIHwgbnVsbCk6IHN0cmluZyB7XG4gIGNvbnN0IGMgPSBub3JtYWxpemVSb2xlQ29kZShjb2RlKTtcbiAgY29uc3QgZGVzY3JpcHRpb25zOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICAgIEFETUlOOiAnRnVsbCBzeXN0ZW0gYWNjZXNzIGFuZCB1c2VyIG1hbmFnZW1lbnQnLFxuICAgIElUX1VTRVI6ICdJVCBpbmZyYXN0cnVjdHVyZSBhbmQgc3lzdGVtIGFkbWluaXN0cmF0aW9uJyxcbiAgICBDRU86ICdFeGVjdXRpdmUgZGFzaGJvYXJkcyBhbmQgcmVwb3J0cycsXG4gICAgRklOQU5DRV9VU0VSOiAnRmluYW5jaWFsIGRhdGEgYW5kIGFuYWx5dGljcycsXG4gICAgVEVDSF9VU0VSOiAnVGVjaG5pY2FsIG1ldHJpY3MgYW5kIHN5c3RlbSBkYXRhJyxcbiAgICBVU0VSOiAnQmFzaWMgYWNjZXNzIHRvIGFzc2lnbmVkIGRhc2hib2FyZHMnLFxuICB9O1xuICByZXR1cm4gZGVzY3JpcHRpb25zW2NdIHx8IChjID09PSAnQURNSU4nID8gZGVzY3JpcHRpb25zLkFETUlOIDogZGVzY3JpcHRpb25zLlVTRVIpO1xufVxuIl0sIm5hbWVzIjpbIm5vcm1hbGl6ZVJvbGVDb2RlIiwiY29kZSIsInRvU3RyaW5nIiwidHJpbSIsInRvVXBwZXJDYXNlIiwiaXNBZG1pbiIsIlNZU1RFTV9ST0xFX0NPREVTIiwiZm9ybWF0Um9sZUxhYmVsIiwiYyIsInN5c3RlbSIsIkFETUlOIiwiVVNFUiIsIklUX1VTRVIiLCJURUNIX1VTRVIiLCJDRU8iLCJGSU5BTkNFX1VTRVIiLCJyZXBsYWNlIiwidG9Mb3dlckNhc2UiLCJsIiwiZGVzY3JpYmVSb2xlIiwiZGVzY3JpcHRpb25zIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./src/lib/roles.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./src/lib/security.ts":
/*!*****************************!*\
  !*** ./src/lib/security.ts ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SecurityManager: () => (/* binding */ SecurityManager),\n/* harmony export */   requireAdmin: () => (/* binding */ requireAdmin),\n/* harmony export */   requireAuth: () => (/* binding */ requireAuth),\n/* harmony export */   requireRole: () => (/* binding */ requireRole),\n/* harmony export */   securityManager: () => (/* binding */ securityManager)\n/* harmony export */ });\n/* harmony import */ var _api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./api */ \"(pages-dir-node)/./src/lib/api.ts\");\n/* harmony import */ var _roles__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./roles */ \"(pages-dir-node)/./src/lib/roles.ts\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./logger */ \"(pages-dir-node)/./src/lib/logger.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_api__WEBPACK_IMPORTED_MODULE_0__]);\n_api__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\nclass SecurityManager {\n    constructor(){\n        this.user = null;\n    }\n    static getInstance() {\n        if (!SecurityManager.instance) {\n            SecurityManager.instance = new SecurityManager();\n        }\n        return SecurityManager.instance;\n    }\n    setUser(user) {\n        this.user = user;\n    }\n    getUser() {\n        return this.user || _api__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getUser();\n    }\n    /**\n   * Check if user is authenticated\n   */ isAuthenticated() {\n        return _api__WEBPACK_IMPORTED_MODULE_0__[\"default\"].isAuthenticated() && this.getUser() !== null;\n    }\n    /**\n   * Check if user has admin role\n   */ isAdmin() {\n        const user = this.getUser();\n        return (0,_roles__WEBPACK_IMPORTED_MODULE_1__.isAdmin)(user?.role);\n    }\n    /**\n   * Check if user has specific role\n   */ hasRole(role) {\n        const user = this.getUser();\n        if (!user) return false;\n        const target = (0,_roles__WEBPACK_IMPORTED_MODULE_1__.normalizeRoleCode)(role);\n        const current = (0,_roles__WEBPACK_IMPORTED_MODULE_1__.normalizeRoleCode)(user.role);\n        return current === target || this.isAdmin();\n    }\n    /**\n   * Check if user has any of the specified roles\n   */ hasAnyRole(roles) {\n        const user = this.getUser();\n        if (!user) return false;\n        if (this.isAdmin()) return true;\n        const current = (0,_roles__WEBPACK_IMPORTED_MODULE_1__.normalizeRoleCode)(user.role);\n        const set = new Set(roles.map((r)=>(0,_roles__WEBPACK_IMPORTED_MODULE_1__.normalizeRoleCode)(r)));\n        return set.has(current);\n    }\n    /**\n   * Check resource-level permissions\n   */ async canAccessResource(resourceType, resourceId, action = \"read\") {\n        try {\n            if (!this.isAuthenticated()) {\n                _logger__WEBPACK_IMPORTED_MODULE_2__.logger.warn(\"Unauthenticated access attempt\", {\n                    resourceType,\n                    resourceId,\n                    action\n                });\n                return false;\n            }\n            if (this.isAdmin()) {\n                return true; // Admins can access everything\n            }\n            // Resource-specific permission checks\n            switch(resourceType){\n                case \"report\":\n                case \"query\":\n                    return await this.canAccessQuery(resourceId);\n                case \"dashboard\":\n                    return await this.canAccessDashboard(resourceId);\n                case \"process\":\n                    return await this.canAccessProcess(resourceId);\n                default:\n                    _logger__WEBPACK_IMPORTED_MODULE_2__.logger.warn(\"Unknown resource type\", {\n                        resourceType,\n                        resourceId,\n                        action\n                    });\n                    return false;\n            }\n        } catch (error) {\n            _logger__WEBPACK_IMPORTED_MODULE_2__.logger.error(\"Error checking resource permission\", {\n                error,\n                resourceType,\n                resourceId,\n                action\n            });\n            return false;\n        }\n    }\n    /**\n   * Check if user can access a specific query/report\n   */ async canAccessQuery(queryId) {\n        try {\n            const response = await _api__WEBPACK_IMPORTED_MODULE_0__[\"default\"].getQueryDetail(Number(queryId));\n            return response.success; // If API call succeeds, user has access\n        } catch (error) {\n            if (error?.response?.status === 403) {\n                _logger__WEBPACK_IMPORTED_MODULE_2__.logger.warn(\"Access denied to query\", {\n                    queryId,\n                    userRole: this.getUser()?.role\n                });\n                return false;\n            }\n            _logger__WEBPACK_IMPORTED_MODULE_2__.logger.error(\"Error checking query access\", {\n                error,\n                queryId\n            });\n            return false;\n        }\n    }\n    /**\n   * Check if user can access a specific dashboard\n   */ async canAccessDashboard(dashboardId) {\n        try {\n            // Dashboard access is typically role-based\n            const user = this.getUser();\n            if (!user) return false;\n            // This can be extended with specific dashboard permissions\n            return true;\n        } catch (error) {\n            _logger__WEBPACK_IMPORTED_MODULE_2__.logger.error(\"Error checking dashboard access\", {\n                error,\n                dashboardId\n            });\n            return false;\n        }\n    }\n    /**\n   * Check if user can access a specific process\n   */ async canAccessProcess(processId) {\n        try {\n            // Process access is typically role-based\n            // This would need to be implemented based on process permissions\n            const user = this.getUser();\n            if (!user) return false;\n            return true;\n        } catch (error) {\n            _logger__WEBPACK_IMPORTED_MODULE_2__.logger.error(\"Error checking process access\", {\n                error,\n                processId\n            });\n            return false;\n        }\n    }\n    /**\n   * Enhanced route guard with resource-level checks\n   */ async canAccessRoute(pathname, query = {}) {\n        if (!this.isAuthenticated()) {\n            _logger__WEBPACK_IMPORTED_MODULE_2__.logger.warn(\"Unauthenticated route access attempt\", {\n                pathname,\n                query\n            });\n            return false;\n        }\n        // Extract resource information from route\n        const routeInfo = this.parseRoute(pathname, query);\n        if (routeInfo.requiresResourceCheck) {\n            return await this.canAccessResource(routeInfo.resourceType, routeInfo.resourceId, routeInfo.action);\n        }\n        return true;\n    }\n    /**\n   * Parse route to extract resource information\n   */ parseRoute(pathname, query = {}) {\n        // Report detail pages\n        if (pathname.startsWith(\"/report/\") && query.id) {\n            return {\n                requiresResourceCheck: true,\n                resourceType: \"report\",\n                resourceId: query.id,\n                action: \"read\"\n            };\n        }\n        // Dashboard pages with specific dashboard ID\n        if (pathname.startsWith(\"/dashboard\") && query.dashboardId) {\n            return {\n                requiresResourceCheck: true,\n                resourceType: \"dashboard\",\n                resourceId: query.dashboardId,\n                action: \"read\"\n            };\n        }\n        // Process pages with specific process ID\n        if (pathname.startsWith(\"/process/\") && query.id) {\n            return {\n                requiresResourceCheck: true,\n                resourceType: \"process\",\n                resourceId: query.id,\n                action: \"read\"\n            };\n        }\n        // Admin routes\n        if (pathname.startsWith(\"/admin\")) {\n            return {\n                requiresResourceCheck: false,\n                action: \"admin\"\n            };\n        }\n        return {\n            requiresResourceCheck: false,\n            action: \"read\"\n        };\n    }\n    /**\n   * Redirect to appropriate page based on authorization failure\n   */ handleUnauthorizedAccess(router, pathname) {\n        if (!this.isAuthenticated()) {\n            _logger__WEBPACK_IMPORTED_MODULE_2__.logger.warn(\"Redirecting to login due to unauthenticated access\", {\n                pathname\n            });\n            router.replace(\"/login\");\n        } else {\n            _logger__WEBPACK_IMPORTED_MODULE_2__.logger.warn(\"Access denied - insufficient permissions\", {\n                pathname,\n                userRole: this.getUser()?.role\n            });\n            router.replace(\"/dashboard?error=access_denied\");\n        }\n    }\n    /**\n   * Sanitize and validate input to prevent XSS\n   */ sanitizeInput(input) {\n        return input.replace(/[<>]/g, \"\") // Remove potential script tags\n        .replace(/javascript:/gi, \"\") // Remove javascript: protocols\n        .replace(/on\\w+=/gi, \"\") // Remove event handlers\n        .trim();\n    }\n    /**\n   * Generate secure headers for requests\n   */ getSecurityHeaders() {\n        return {\n            \"X-Requested-With\": \"XMLHttpRequest\",\n            \"X-Frame-Options\": \"DENY\",\n            \"X-Content-Type-Options\": \"nosniff\",\n            \"Referrer-Policy\": \"strict-origin-when-cross-origin\"\n        };\n    }\n}\n// Export singleton instance\nconst securityManager = SecurityManager.getInstance();\n// Utility functions for components\nconst requireAuth = (router)=>{\n    if (!securityManager.isAuthenticated()) {\n        router.replace(\"/login\");\n        return false;\n    }\n    return true;\n};\nconst requireRole = (router, role)=>{\n    if (!requireAuth(router)) return false;\n    if (!securityManager.hasRole(role)) {\n        securityManager.handleUnauthorizedAccess(router, router.pathname);\n        return false;\n    }\n    return true;\n};\nconst requireAdmin = (router)=>{\n    return requireRole(router, \"admin\");\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0EsT0FBTztBQUNULEVBQUU7QUFFSyxNQUFNaUIsZUFBZSxDQUFDVDtJQUMzQixPQUFPUSxZQUFZUixRQUFRO0FBQzdCLEVBQUUiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTWFsaWsgQW1lZXIgSGFtemFcXERvd25sb2Fkc1xcQ29tcGxldGVDb2RlLUVycm9yRml4ZWRcXGNvbXBsZXRlY29kZVxcZnJvbnRlbmRcXHNyY1xcbGliXFxzZWN1cml0eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0Um91dGVyIH0gZnJvbSBcIm5leHQvcm91dGVyXCI7XG5pbXBvcnQgYXBpQ2xpZW50IGZyb20gXCIuL2FwaVwiO1xuaW1wb3J0IHsgaXNBZG1pbiBhcyBpc0FkbWluUm9sZSwgbm9ybWFsaXplUm9sZUNvZGUgfSBmcm9tIFwiLi9yb2xlc1wiO1xuaW1wb3J0IHsgVXNlciB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSBcIi4vbG9nZ2VyXCI7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUmVzb3VyY2VQZXJtaXNzaW9uIHtcbiAgcmVzb3VyY2U6IHN0cmluZztcbiAgYWN0aW9uOiBzdHJpbmc7XG4gIHJlc291cmNlSWQ/OiBzdHJpbmcgfCBudW1iZXI7XG59XG5cbmV4cG9ydCBjbGFzcyBTZWN1cml0eU1hbmFnZXIge1xuICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogU2VjdXJpdHlNYW5hZ2VyO1xuICBwcml2YXRlIHVzZXI6IFVzZXIgfCBudWxsID0gbnVsbDtcblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge31cblxuICBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogU2VjdXJpdHlNYW5hZ2VyIHtcbiAgICBpZiAoIVNlY3VyaXR5TWFuYWdlci5pbnN0YW5jZSkge1xuICAgICAgU2VjdXJpdHlNYW5hZ2VyLmluc3RhbmNlID0gbmV3IFNlY3VyaXR5TWFuYWdlcigpO1xuICAgIH1cbiAgICByZXR1cm4gU2VjdXJpdHlNYW5hZ2VyLmluc3RhbmNlO1xuICB9XG5cbiAgc2V0VXNlcih1c2VyOiBVc2VyKTogdm9pZCB7XG4gICAgdGhpcy51c2VyID0gdXNlcjtcbiAgfVxuXG4gIGdldFVzZXIoKTogVXNlciB8IG51bGwge1xuICAgIHJldHVybiB0aGlzLnVzZXIgfHwgYXBpQ2xpZW50LmdldFVzZXIoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiB1c2VyIGlzIGF1dGhlbnRpY2F0ZWRcbiAgICovXG4gIGlzQXV0aGVudGljYXRlZCgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gYXBpQ2xpZW50LmlzQXV0aGVudGljYXRlZCgpICYmIHRoaXMuZ2V0VXNlcigpICE9PSBudWxsO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHVzZXIgaGFzIGFkbWluIHJvbGVcbiAgICovXG4gIGlzQWRtaW4oKTogYm9vbGVhbiB7XG4gICAgY29uc3QgdXNlciA9IHRoaXMuZ2V0VXNlcigpO1xuICAgIHJldHVybiBpc0FkbWluUm9sZSh1c2VyPy5yb2xlIGFzIGFueSk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgdXNlciBoYXMgc3BlY2lmaWMgcm9sZVxuICAgKi9cbiAgaGFzUm9sZShyb2xlOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBjb25zdCB1c2VyID0gdGhpcy5nZXRVc2VyKCk7XG4gICAgaWYgKCF1c2VyKSByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgdGFyZ2V0ID0gbm9ybWFsaXplUm9sZUNvZGUocm9sZSk7XG4gICAgY29uc3QgY3VycmVudCA9IG5vcm1hbGl6ZVJvbGVDb2RlKHVzZXIucm9sZSBhcyBhbnkpO1xuICAgIHJldHVybiBjdXJyZW50ID09PSB0YXJnZXQgfHwgdGhpcy5pc0FkbWluKCk7XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgdXNlciBoYXMgYW55IG9mIHRoZSBzcGVjaWZpZWQgcm9sZXNcbiAgICovXG4gIGhhc0FueVJvbGUocm9sZXM6IHN0cmluZ1tdKTogYm9vbGVhbiB7XG4gICAgY29uc3QgdXNlciA9IHRoaXMuZ2V0VXNlcigpO1xuICAgIGlmICghdXNlcikgcmV0dXJuIGZhbHNlO1xuICAgIGlmICh0aGlzLmlzQWRtaW4oKSkgcmV0dXJuIHRydWU7XG4gICAgY29uc3QgY3VycmVudCA9IG5vcm1hbGl6ZVJvbGVDb2RlKHVzZXIucm9sZSBhcyBhbnkpO1xuICAgIGNvbnN0IHNldCA9IG5ldyBTZXQocm9sZXMubWFwKChyKSA9PiBub3JtYWxpemVSb2xlQ29kZShyKSkpO1xuICAgIHJldHVybiBzZXQuaGFzKGN1cnJlbnQpO1xuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIHJlc291cmNlLWxldmVsIHBlcm1pc3Npb25zXG4gICAqL1xuICBhc3luYyBjYW5BY2Nlc3NSZXNvdXJjZShcbiAgICByZXNvdXJjZVR5cGU6IHN0cmluZyxcbiAgICByZXNvdXJjZUlkOiBzdHJpbmcgfCBudW1iZXIsXG4gICAgYWN0aW9uOiBzdHJpbmcgPSBcInJlYWRcIlxuICApOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCF0aGlzLmlzQXV0aGVudGljYXRlZCgpKSB7XG4gICAgICAgIGxvZ2dlci53YXJuKFwiVW5hdXRoZW50aWNhdGVkIGFjY2VzcyBhdHRlbXB0XCIsIHsgcmVzb3VyY2VUeXBlLCByZXNvdXJjZUlkLCBhY3Rpb24gfSk7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuaXNBZG1pbigpKSB7XG4gICAgICAgIHJldHVybiB0cnVlOyAvLyBBZG1pbnMgY2FuIGFjY2VzcyBldmVyeXRoaW5nXG4gICAgICB9XG5cbiAgICAgIC8vIFJlc291cmNlLXNwZWNpZmljIHBlcm1pc3Npb24gY2hlY2tzXG4gICAgICBzd2l0Y2ggKHJlc291cmNlVHlwZSkge1xuICAgICAgICBjYXNlIFwicmVwb3J0XCI6XG4gICAgICAgIGNhc2UgXCJxdWVyeVwiOlxuICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmNhbkFjY2Vzc1F1ZXJ5KHJlc291cmNlSWQpO1xuICAgICAgICBcbiAgICAgICAgY2FzZSBcImRhc2hib2FyZFwiOlxuICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmNhbkFjY2Vzc0Rhc2hib2FyZChyZXNvdXJjZUlkKTtcbiAgICAgICAgXG4gICAgICAgIGNhc2UgXCJwcm9jZXNzXCI6XG4gICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuY2FuQWNjZXNzUHJvY2VzcyhyZXNvdXJjZUlkKTtcbiAgICAgICAgXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgbG9nZ2VyLndhcm4oXCJVbmtub3duIHJlc291cmNlIHR5cGVcIiwgeyByZXNvdXJjZVR5cGUsIHJlc291cmNlSWQsIGFjdGlvbiB9KTtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcihcIkVycm9yIGNoZWNraW5nIHJlc291cmNlIHBlcm1pc3Npb25cIiwgeyBlcnJvciwgcmVzb3VyY2VUeXBlLCByZXNvdXJjZUlkLCBhY3Rpb24gfSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHVzZXIgY2FuIGFjY2VzcyBhIHNwZWNpZmljIHF1ZXJ5L3JlcG9ydFxuICAgKi9cbiAgcHJpdmF0ZSBhc3luYyBjYW5BY2Nlc3NRdWVyeShxdWVyeUlkOiBzdHJpbmcgfCBudW1iZXIpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlDbGllbnQuZ2V0UXVlcnlEZXRhaWwoTnVtYmVyKHF1ZXJ5SWQpKTtcbiAgICAgIHJldHVybiByZXNwb25zZS5zdWNjZXNzOyAvLyBJZiBBUEkgY2FsbCBzdWNjZWVkcywgdXNlciBoYXMgYWNjZXNzXG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgaWYgKGVycm9yPy5yZXNwb25zZT8uc3RhdHVzID09PSA0MDMpIHtcbiAgICAgICAgbG9nZ2VyLndhcm4oXCJBY2Nlc3MgZGVuaWVkIHRvIHF1ZXJ5XCIsIHsgcXVlcnlJZCwgdXNlclJvbGU6IHRoaXMuZ2V0VXNlcigpPy5yb2xlIH0pO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBsb2dnZXIuZXJyb3IoXCJFcnJvciBjaGVja2luZyBxdWVyeSBhY2Nlc3NcIiwgeyBlcnJvciwgcXVlcnlJZCB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2sgaWYgdXNlciBjYW4gYWNjZXNzIGEgc3BlY2lmaWMgZGFzaGJvYXJkXG4gICAqL1xuICBwcml2YXRlIGFzeW5jIGNhbkFjY2Vzc0Rhc2hib2FyZChkYXNoYm9hcmRJZDogc3RyaW5nIHwgbnVtYmVyKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIERhc2hib2FyZCBhY2Nlc3MgaXMgdHlwaWNhbGx5IHJvbGUtYmFzZWRcbiAgICAgIGNvbnN0IHVzZXIgPSB0aGlzLmdldFVzZXIoKTtcbiAgICAgIGlmICghdXNlcikgcmV0dXJuIGZhbHNlO1xuICAgICAgXG4gICAgICAvLyBUaGlzIGNhbiBiZSBleHRlbmRlZCB3aXRoIHNwZWNpZmljIGRhc2hib2FyZCBwZXJtaXNzaW9uc1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGxvZ2dlci5lcnJvcihcIkVycm9yIGNoZWNraW5nIGRhc2hib2FyZCBhY2Nlc3NcIiwgeyBlcnJvciwgZGFzaGJvYXJkSWQgfSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHVzZXIgY2FuIGFjY2VzcyBhIHNwZWNpZmljIHByb2Nlc3NcbiAgICovXG4gIHByaXZhdGUgYXN5bmMgY2FuQWNjZXNzUHJvY2Vzcyhwcm9jZXNzSWQ6IHN0cmluZyB8IG51bWJlcik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHRyeSB7XG4gICAgICAvLyBQcm9jZXNzIGFjY2VzcyBpcyB0eXBpY2FsbHkgcm9sZS1iYXNlZFxuICAgICAgLy8gVGhpcyB3b3VsZCBuZWVkIHRvIGJlIGltcGxlbWVudGVkIGJhc2VkIG9uIHByb2Nlc3MgcGVybWlzc2lvbnNcbiAgICAgIGNvbnN0IHVzZXIgPSB0aGlzLmdldFVzZXIoKTtcbiAgICAgIGlmICghdXNlcikgcmV0dXJuIGZhbHNlO1xuICAgICAgXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgbG9nZ2VyLmVycm9yKFwiRXJyb3IgY2hlY2tpbmcgcHJvY2VzcyBhY2Nlc3NcIiwgeyBlcnJvciwgcHJvY2Vzc0lkIH0pO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBFbmhhbmNlZCByb3V0ZSBndWFyZCB3aXRoIHJlc291cmNlLWxldmVsIGNoZWNrc1xuICAgKi9cbiAgYXN5bmMgY2FuQWNjZXNzUm91dGUocGF0aG5hbWU6IHN0cmluZywgcXVlcnk6IGFueSA9IHt9KTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgaWYgKCF0aGlzLmlzQXV0aGVudGljYXRlZCgpKSB7XG4gICAgICBsb2dnZXIud2FybihcIlVuYXV0aGVudGljYXRlZCByb3V0ZSBhY2Nlc3MgYXR0ZW1wdFwiLCB7IHBhdGhuYW1lLCBxdWVyeSB9KTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBFeHRyYWN0IHJlc291cmNlIGluZm9ybWF0aW9uIGZyb20gcm91dGVcbiAgICBjb25zdCByb3V0ZUluZm8gPSB0aGlzLnBhcnNlUm91dGUocGF0aG5hbWUsIHF1ZXJ5KTtcbiAgICBcbiAgICBpZiAocm91dGVJbmZvLnJlcXVpcmVzUmVzb3VyY2VDaGVjaykge1xuICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuY2FuQWNjZXNzUmVzb3VyY2UoXG4gICAgICAgIHJvdXRlSW5mby5yZXNvdXJjZVR5cGUhLFxuICAgICAgICByb3V0ZUluZm8ucmVzb3VyY2VJZCEsXG4gICAgICAgIHJvdXRlSW5mby5hY3Rpb25cbiAgICAgICk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvKipcbiAgICogUGFyc2Ugcm91dGUgdG8gZXh0cmFjdCByZXNvdXJjZSBpbmZvcm1hdGlvblxuICAgKi9cbiAgcHJpdmF0ZSBwYXJzZVJvdXRlKHBhdGhuYW1lOiBzdHJpbmcsIHF1ZXJ5OiBhbnkgPSB7fSk6IHtcbiAgICByZXF1aXJlc1Jlc291cmNlQ2hlY2s6IGJvb2xlYW47XG4gICAgcmVzb3VyY2VUeXBlPzogc3RyaW5nO1xuICAgIHJlc291cmNlSWQ/OiBzdHJpbmcgfCBudW1iZXI7XG4gICAgYWN0aW9uOiBzdHJpbmc7XG4gIH0ge1xuICAgIC8vIFJlcG9ydCBkZXRhaWwgcGFnZXNcbiAgICBpZiAocGF0aG5hbWUuc3RhcnRzV2l0aChcIi9yZXBvcnQvXCIpICYmIHF1ZXJ5LmlkKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXF1aXJlc1Jlc291cmNlQ2hlY2s6IHRydWUsXG4gICAgICAgIHJlc291cmNlVHlwZTogXCJyZXBvcnRcIixcbiAgICAgICAgcmVzb3VyY2VJZDogcXVlcnkuaWQsXG4gICAgICAgIGFjdGlvbjogXCJyZWFkXCJcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gRGFzaGJvYXJkIHBhZ2VzIHdpdGggc3BlY2lmaWMgZGFzaGJvYXJkIElEXG4gICAgaWYgKHBhdGhuYW1lLnN0YXJ0c1dpdGgoXCIvZGFzaGJvYXJkXCIpICYmIHF1ZXJ5LmRhc2hib2FyZElkKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXF1aXJlc1Jlc291cmNlQ2hlY2s6IHRydWUsXG4gICAgICAgIHJlc291cmNlVHlwZTogXCJkYXNoYm9hcmRcIixcbiAgICAgICAgcmVzb3VyY2VJZDogcXVlcnkuZGFzaGJvYXJkSWQsXG4gICAgICAgIGFjdGlvbjogXCJyZWFkXCJcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gUHJvY2VzcyBwYWdlcyB3aXRoIHNwZWNpZmljIHByb2Nlc3MgSURcbiAgICBpZiAocGF0aG5hbWUuc3RhcnRzV2l0aChcIi9wcm9jZXNzL1wiKSAmJiBxdWVyeS5pZCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVxdWlyZXNSZXNvdXJjZUNoZWNrOiB0cnVlLFxuICAgICAgICByZXNvdXJjZVR5cGU6IFwicHJvY2Vzc1wiLFxuICAgICAgICByZXNvdXJjZUlkOiBxdWVyeS5pZCxcbiAgICAgICAgYWN0aW9uOiBcInJlYWRcIlxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBBZG1pbiByb3V0ZXNcbiAgICBpZiAocGF0aG5hbWUuc3RhcnRzV2l0aChcIi9hZG1pblwiKSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVxdWlyZXNSZXNvdXJjZUNoZWNrOiBmYWxzZSxcbiAgICAgICAgYWN0aW9uOiBcImFkbWluXCJcbiAgICAgIH07XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlcXVpcmVzUmVzb3VyY2VDaGVjazogZmFsc2UsXG4gICAgICBhY3Rpb246IFwicmVhZFwiXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZWRpcmVjdCB0byBhcHByb3ByaWF0ZSBwYWdlIGJhc2VkIG9uIGF1dGhvcml6YXRpb24gZmFpbHVyZVxuICAgKi9cbiAgaGFuZGxlVW5hdXRob3JpemVkQWNjZXNzKHJvdXRlcjogTmV4dFJvdXRlciwgcGF0aG5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIGlmICghdGhpcy5pc0F1dGhlbnRpY2F0ZWQoKSkge1xuICAgICAgbG9nZ2VyLndhcm4oXCJSZWRpcmVjdGluZyB0byBsb2dpbiBkdWUgdG8gdW5hdXRoZW50aWNhdGVkIGFjY2Vzc1wiLCB7IHBhdGhuYW1lIH0pO1xuICAgICAgcm91dGVyLnJlcGxhY2UoXCIvbG9naW5cIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvZ2dlci53YXJuKFwiQWNjZXNzIGRlbmllZCAtIGluc3VmZmljaWVudCBwZXJtaXNzaW9uc1wiLCB7IFxuICAgICAgICBwYXRobmFtZSwgXG4gICAgICAgIHVzZXJSb2xlOiB0aGlzLmdldFVzZXIoKT8ucm9sZSBcbiAgICAgIH0pO1xuICAgICAgcm91dGVyLnJlcGxhY2UoXCIvZGFzaGJvYXJkP2Vycm9yPWFjY2Vzc19kZW5pZWRcIik7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNhbml0aXplIGFuZCB2YWxpZGF0ZSBpbnB1dCB0byBwcmV2ZW50IFhTU1xuICAgKi9cbiAgc2FuaXRpemVJbnB1dChpbnB1dDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgIC5yZXBsYWNlKC9bPD5dL2csIFwiXCIpIC8vIFJlbW92ZSBwb3RlbnRpYWwgc2NyaXB0IHRhZ3NcbiAgICAgIC5yZXBsYWNlKC9qYXZhc2NyaXB0Oi9naSwgXCJcIikgLy8gUmVtb3ZlIGphdmFzY3JpcHQ6IHByb3RvY29sc1xuICAgICAgLnJlcGxhY2UoL29uXFx3Kz0vZ2ksIFwiXCIpIC8vIFJlbW92ZSBldmVudCBoYW5kbGVyc1xuICAgICAgLnRyaW0oKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBzZWN1cmUgaGVhZGVycyBmb3IgcmVxdWVzdHNcbiAgICovXG4gIGdldFNlY3VyaXR5SGVhZGVycygpOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+IHtcbiAgICByZXR1cm4ge1xuICAgICAgXCJYLVJlcXVlc3RlZC1XaXRoXCI6IFwiWE1MSHR0cFJlcXVlc3RcIixcbiAgICAgIFwiWC1GcmFtZS1PcHRpb25zXCI6IFwiREVOWVwiLFxuICAgICAgXCJYLUNvbnRlbnQtVHlwZS1PcHRpb25zXCI6IFwibm9zbmlmZlwiLFxuICAgICAgXCJSZWZlcnJlci1Qb2xpY3lcIjogXCJzdHJpY3Qtb3JpZ2luLXdoZW4tY3Jvc3Mtb3JpZ2luXCJcbiAgICB9O1xuICB9XG59XG5cbi8vIEV4cG9ydCBzaW5nbGV0b24gaW5zdGFuY2VcbmV4cG9ydCBjb25zdCBzZWN1cml0eU1hbmFnZXIgPSBTZWN1cml0eU1hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblxuLy8gVXRpbGl0eSBmdW5jdGlvbnMgZm9yIGNvbXBvbmVudHNcbmV4cG9ydCBjb25zdCByZXF1aXJlQXV0aCA9IChyb3V0ZXI6IE5leHRSb3V0ZXIpOiBib29sZWFuID0+IHtcbiAgaWYgKCFzZWN1cml0eU1hbmFnZXIuaXNBdXRoZW50aWNhdGVkKCkpIHtcbiAgICByb3V0ZXIucmVwbGFjZShcIi9sb2dpblwiKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5leHBvcnQgY29uc3QgcmVxdWlyZVJvbGUgPSAocm91dGVyOiBOZXh0Um91dGVyLCByb2xlOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgaWYgKCFyZXF1aXJlQXV0aChyb3V0ZXIpKSByZXR1cm4gZmFsc2U7XG4gIFxuICBpZiAoIXNlY3VyaXR5TWFuYWdlci5oYXNSb2xlKHJvbGUpKSB7XG4gICAgc2VjdXJpdHlNYW5hZ2VyLmhhbmRsZVVuYXV0aG9yaXplZEFjY2Vzcyhyb3V0ZXIsIHJvdXRlci5wYXRobmFtZSk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufTtcblxuZXhwb3J0IGNvbnN0IHJlcXVpcmVBZG1pbiA9IChyb3V0ZXI6IE5leHRSb3V0ZXIpOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIHJlcXVpcmVSb2xlKHJvdXRlciwgXCJhZG1pblwiKTtcbn07XG4iXSwibmFtZXMiOlsiYXBpQ2xpZW50IiwiaXNBZG1pbiIsImlzQWRtaW5Sb2xlIiwibm9ybWFsaXplUm9sZUNvZGUiLCJsb2dnZXIiLCJTZWN1cml0eU1hbmFnZXIiLCJ1c2VyIiwiZ2V0SW5zdGFuY2UiLCJpbnN0YW5jZSIsInNldFVzZXIiLCJnZXRVc2VyIiwiaXNBdXRoZW50aWNhdGVkIiwicm9sZSIsImhhc1JvbGUiLCJ0YXJnZXQiLCJjdXJyZW50IiwiaGFzQW55Um9sZSIsInJvbGVzIiwic2V0IiwiU2V0IiwibWFwIiwiciIsImhhcyIsImNhbkFjY2Vzc1Jlc291cmNlIiwicmVzb3VyY2VUeXBlIiwicmVzb3VyY2VJZCIsImFjdGlvbiIsIndhcm4iLCJjYW5BY2Nlc3NRdWVyeSIsImNhbkFjY2Vzc0Rhc2hib2FyZCIsImNhbkFjY2Vzc1Byb2Nlc3MiLCJlcnJvciIsInF1ZXJ5SWQiLCJyZXNwb25zZSIsImdldFF1ZXJ5RGV0YWlsIiwiTnVtYmVyIiwic3VjY2VzcyIsInN0YXR1cyIsInVzZXJSb2xlIiwiZGFzaGJvYXJkSWQiLCJwcm9jZXNzSWQiLCJjYW5BY2Nlc3NSb3V0ZSIsInBhdGhuYW1lIiwicXVlcnkiLCJyb3V0ZUluZm8iLCJwYXJzZVJvdXRlIiwicmVxdWlyZXNSZXNvdXJjZUNoZWNrIiwic3RhcnRzV2l0aCIsImlkIiwiaGFuZGxlVW5hdXRob3JpemVkQWNjZXNzIiwicm91dGVyIiwicmVwbGFjZSIsInNhbml0aXplSW5wdXQiLCJpbnB1dCIsInRyaW0iLCJnZXRTZWN1cml0eUhlYWRlcnMiLCJzZWN1cml0eU1hbmFnZXIiLCJyZXF1aXJlQXV0aCIsInJlcXVpcmVSb2xlIiwicmVxdWlyZUFkbWluIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./src/lib/security.ts\n");

/***/ }),

/***/ "(pages-dir-node)/./src/pages/_app.tsx":
/*!****************************!*\
  !*** ./src/pages/_app.tsx ***!
  \****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ App)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../styles/globals.css */ \"(pages-dir-node)/./src/styles/globals.css\");\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_styles_globals_css__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_hot_toast__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-hot-toast */ \"react-hot-toast\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/router */ \"(pages-dir-node)/./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/api */ \"(pages-dir-node)/./src/lib/api.ts\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _lib_security__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/security */ \"(pages-dir-node)/./src/lib/security.ts\");\n/* harmony import */ var _lib_logger__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../lib/logger */ \"(pages-dir-node)/./src/lib/logger.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([react_hot_toast__WEBPACK_IMPORTED_MODULE_2__, _lib_api__WEBPACK_IMPORTED_MODULE_4__, _lib_security__WEBPACK_IMPORTED_MODULE_6__]);\n([react_hot_toast__WEBPACK_IMPORTED_MODULE_2__, _lib_api__WEBPACK_IMPORTED_MODULE_4__, _lib_security__WEBPACK_IMPORTED_MODULE_6__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\n\n\nfunction App({ Component, pageProps }) {\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_3__.useRouter)();\n    const [isAuthorizing, setIsAuthorizing] = (0,react__WEBPACK_IMPORTED_MODULE_5__.useState)(true);\n    const [lastToastMessage, setLastToastMessage] = (0,react__WEBPACK_IMPORTED_MODULE_5__.useState)(\"\");\n    const [lastToastTime, setLastToastTime] = (0,react__WEBPACK_IMPORTED_MODULE_5__.useState)(0);\n    // Function to show toast only if it hasn't been shown recently (within 3 seconds)\n    const showDedupedToast = (0,react__WEBPACK_IMPORTED_MODULE_5__.useCallback)({\n        \"App.useCallback[showDedupedToast]\": (message)=>{\n            const now = Date.now();\n            const timeSinceLastToast = now - lastToastTime;\n            const isDuplicateMessage = lastToastMessage === message;\n            // Only show toast if it's a different message OR it's been more than 3 seconds\n            if (!isDuplicateMessage || timeSinceLastToast > 3000) {\n                react_hot_toast__WEBPACK_IMPORTED_MODULE_2__.toast.error(message);\n                setLastToastMessage(message);\n                setLastToastTime(now);\n            }\n        }\n    }[\"App.useCallback[showDedupedToast]\"], [\n        lastToastMessage,\n        lastToastTime\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_5__.useEffect)({\n        \"App.useEffect\": ()=>{\n            const enhancedSecurityGuard = {\n                \"App.useEffect.enhancedSecurityGuard\": async (url)=>{\n                    try {\n                        setIsAuthorizing(true);\n                        // Parse URL to get pathname and query\n                        const [pathname, queryString] = url.split(\"?\");\n                        const urlParams = new URLSearchParams(queryString || \"\");\n                        const query = Object.fromEntries(urlParams.entries());\n                        const publicRoutes = [\n                            \"/login\",\n                            \"/change-password\"\n                        ];\n                        if (publicRoutes.includes(pathname)) {\n                            setIsAuthorizing(false);\n                            return;\n                        }\n                        // Handle token-only sessions (e.g., SAML success page) by fetching user\n                        const hasToken = _lib_api__WEBPACK_IMPORTED_MODULE_4__[\"default\"].isAuthenticated();\n                        let user = _lib_api__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getUser();\n                        if (hasToken && !user) {\n                            try {\n                                user = await _lib_api__WEBPACK_IMPORTED_MODULE_4__[\"default\"].getCurrentUser();\n                                _lib_security__WEBPACK_IMPORTED_MODULE_6__.securityManager.setUser(user);\n                            } catch (e) {\n                                _lib_logger__WEBPACK_IMPORTED_MODULE_7__.logger.warn(\"Token present but failed to load user; redirecting to login\", {\n                                    error: e\n                                });\n                                router.replace(\"/login\");\n                                return;\n                            }\n                        }\n                        if (!hasToken || !user) {\n                            _lib_logger__WEBPACK_IMPORTED_MODULE_7__.logger.warn(\"Unauthenticated access attempt\", {\n                                pathname,\n                                query,\n                                userAgent: navigator.userAgent\n                            });\n                            router.replace(\"/login\");\n                            return;\n                        }\n                        // Update in-memory user + activity\n                        _lib_security__WEBPACK_IMPORTED_MODULE_6__.securityManager.setUser(user);\n                        _lib_api__WEBPACK_IMPORTED_MODULE_4__[\"default\"].updateActivity();\n                        // Force password change if required\n                        if (user?.must_change_password && pathname !== \"/change-password\") {\n                            _lib_logger__WEBPACK_IMPORTED_MODULE_7__.logger.info(\"Redirecting user to change password\", {\n                                username: user.username\n                            });\n                            router.push(\"/change-password\");\n                            return;\n                        }\n                        const canAccess = await _lib_security__WEBPACK_IMPORTED_MODULE_6__.securityManager.canAccessRoute(pathname, query);\n                        if (!canAccess) {\n                            _lib_logger__WEBPACK_IMPORTED_MODULE_7__.logger.warn(\"Access denied to route\", {\n                                pathname,\n                                query,\n                                username: user?.username,\n                                role: user?.role\n                            });\n                            // Show appropriate error message (with deduplication)\n                            if (pathname.startsWith(\"/report/\")) {\n                                showDedupedToast(\"Access denied: You don't have permission to view this report\");\n                            } else if (pathname.startsWith(\"/admin\")) {\n                                showDedupedToast(\"Access denied: Admin privileges required\");\n                            } else {\n                                showDedupedToast(\"Access denied: Insufficient permissions\");\n                            }\n                            _lib_security__WEBPACK_IMPORTED_MODULE_6__.securityManager.handleUnauthorizedAccess(router, pathname);\n                            return;\n                        }\n                        setIsAuthorizing(false);\n                    } catch (error) {\n                        _lib_logger__WEBPACK_IMPORTED_MODULE_7__.logger.error(\"Security guard error\", {\n                            error,\n                            url\n                        });\n                        setIsAuthorizing(false);\n                        // On error, redirect to login for safety\n                        router.replace(\"/login\");\n                    }\n                }\n            }[\"App.useEffect.enhancedSecurityGuard\"];\n            enhancedSecurityGuard(router.asPath);\n            const handleRouteChangeStart = {\n                \"App.useEffect.handleRouteChangeStart\": (url)=>{\n                    // Log navigation to file\n                    _lib_logger__WEBPACK_IMPORTED_MODULE_7__.logger.navigation(router.asPath || 'unknown', url, {\n                        userAgent:  false ? 0 : undefined\n                    });\n                    enhancedSecurityGuard(url);\n                }\n            }[\"App.useEffect.handleRouteChangeStart\"];\n            router.events.on(\"routeChangeStart\", handleRouteChangeStart);\n            return ({\n                \"App.useEffect\": ()=>{\n                    router.events.off(\"routeChangeStart\", handleRouteChangeStart);\n                }\n            })[\"App.useEffect\"];\n        }\n    }[\"App.useEffect\"], [\n        router,\n        showDedupedToast\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_5__.useEffect)({\n        \"App.useEffect\": ()=>{\n            const rejectionHandler = {\n                \"App.useEffect.rejectionHandler\": (event)=>{\n                    const reason = event.reason;\n                    if (reason?.isAxiosError && reason?.response?.status >= 400 && reason?.response?.status < 500) {\n                        event.preventDefault(); // Suppress Next.js overlay for handled Axios errors\n                    }\n                }\n            }[\"App.useEffect.rejectionHandler\"];\n            const errorHandler = {\n                \"App.useEffect.errorHandler\": (event)=>{\n                    // Some browsers may surface Axios errors via the generic `error` event instead\n                    const err = event.error;\n                    if (err?.isAxiosError && err?.response?.status >= 400 && err?.response?.status < 500) {\n                        event.preventDefault(); // Suppress Next.js overlay for handled Axios errors\n                    }\n                }\n            }[\"App.useEffect.errorHandler\"];\n            window.addEventListener(\"unhandledrejection\", rejectionHandler);\n            window.addEventListener(\"error\", errorHandler);\n            return ({\n                \"App.useEffect\": ()=>{\n                    window.removeEventListener(\"unhandledrejection\", rejectionHandler);\n                    window.removeEventListener(\"error\", errorHandler);\n                }\n            })[\"App.useEffect\"];\n        }\n    }[\"App.useEffect\"], []);\n    if (isAuthorizing) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"text-center\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-6\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\_app.tsx\",\n                        lineNumber: 165,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-lg text-gray-700 font-medium\",\n                        children: \"Verifying access permissions...\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\_app.tsx\",\n                        lineNumber: 166,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-sm text-gray-500 mt-2\",\n                        children: \"Please wait while we check your authorization\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\_app.tsx\",\n                        lineNumber: 167,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\_app.tsx\",\n                lineNumber: 164,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\_app.tsx\",\n            lineNumber: 163,\n            columnNumber: 7\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n                ...pageProps\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\_app.tsx\",\n                lineNumber: 175,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_hot_toast__WEBPACK_IMPORTED_MODULE_2__.Toaster, {\n                position: \"top-right\",\n                reverseOrder: false,\n                toastOptions: {\n                    duration: 5000,\n                    success: {\n                        duration: 5000\n                    },\n                    error: {\n                        duration: 5000\n                    }\n                }\n            }, void 0, false, {\n                fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\_app.tsx\",\n                lineNumber: 177,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QW9EO29CQUM5RTtnQkFDRjs7WUFFQSxNQUFNQzs4Q0FBZSxDQUFDTjtvQkFDcEIsK0VBQStFO29CQUMvRSxNQUFNTyxNQUFXUCxNQUFNM0MsS0FBSztvQkFDNUIsSUFDRWtELEtBQUtMLGdCQUNMSyxLQUFLSixVQUFVQyxVQUFVLE9BQ3pCRyxLQUFLSixVQUFVQyxTQUFTLEtBQ3hCO3dCQUNBSixNQUFNSyxjQUFjLElBQUksb0RBQW9EO29CQUM5RTtnQkFDRjs7WUFFQUcsT0FBT0MsZ0JBQWdCLENBQUMsc0JBQXNCVjtZQUM5Q1MsT0FBT0MsZ0JBQWdCLENBQUMsU0FBU0g7WUFDakM7aUNBQU87b0JBQ0xFLE9BQU9FLG1CQUFtQixDQUFDLHNCQUFzQlg7b0JBQ2pEUyxPQUFPRSxtQkFBbUIsQ0FBQyxTQUFTSjtnQkFDdEM7O1FBQ0Y7d0JBQUcsRUFBRTtJQUVMLElBQUk3RCxlQUFlO1FBQ2pCLHFCQUNFLDhEQUFDa0U7WUFBSUMsV0FBVTtzQkFDYiw0RUFBQ0Q7Z0JBQUlDLFdBQVU7O2tDQUNiLDhEQUFDRDt3QkFBSUMsV0FBVTs7Ozs7O2tDQUNmLDhEQUFDQzt3QkFBRUQsV0FBVTtrQ0FBb0M7Ozs7OztrQ0FDakQsOERBQUNDO3dCQUFFRCxXQUFVO2tDQUE2Qjs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFJbEQ7SUFFQSxxQkFDRTs7MEJBQ0UsOERBQUN0RTtnQkFBVyxHQUFHQyxTQUFTOzs7Ozs7MEJBRXhCLDhEQUFDWCxvREFBT0E7Z0JBQ05rRixVQUFTO2dCQUNUQyxjQUFjO2dCQUNkQyxjQUFjO29CQUNaQyxVQUFVO29CQUNWQyxTQUFTO3dCQUFFRCxVQUFVO29CQUFLO29CQUMxQjVELE9BQU87d0JBQUU0RCxVQUFVO29CQUFLO2dCQUMxQjs7Ozs7Ozs7QUFJUiIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxNYWxpayBBbWVlciBIYW16YVxcRG93bmxvYWRzXFxDb21wbGV0ZUNvZGUtRXJyb3JGaXhlZFxcY29tcGxldGVjb2RlXFxmcm9udGVuZFxcc3JjXFxwYWdlc1xcX2FwcC50c3giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHR5cGUgeyBBcHBQcm9wcyB9IGZyb20gXCJuZXh0L2FwcFwiO1xuaW1wb3J0IFwiLi4vc3R5bGVzL2dsb2JhbHMuY3NzXCI7XG5pbXBvcnQgeyBUb2FzdGVyIH0gZnJvbSBcInJlYWN0LWhvdC10b2FzdFwiO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSBcIm5leHQvcm91dGVyXCI7XG5pbXBvcnQgYXBpQ2xpZW50IGZyb20gXCIuLi9saWIvYXBpXCI7XG5pbXBvcnQgeyB1c2VFZmZlY3QsIHVzZVN0YXRlLCB1c2VDYWxsYmFjayB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgc2VjdXJpdHlNYW5hZ2VyIH0gZnJvbSBcIi4uL2xpYi9zZWN1cml0eVwiO1xuaW1wb3J0IHsgbG9nZ2VyIH0gZnJvbSBcIi4uL2xpYi9sb2dnZXJcIjtcbmltcG9ydCB7IHRvYXN0IH0gZnJvbSBcInJlYWN0LWhvdC10b2FzdFwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBcHAoeyBDb21wb25lbnQsIHBhZ2VQcm9wcyB9OiBBcHBQcm9wcykge1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgW2lzQXV0aG9yaXppbmcsIHNldElzQXV0aG9yaXppbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtsYXN0VG9hc3RNZXNzYWdlLCBzZXRMYXN0VG9hc3RNZXNzYWdlXSA9IHVzZVN0YXRlPHN0cmluZz4oXCJcIik7XG4gIGNvbnN0IFtsYXN0VG9hc3RUaW1lLCBzZXRMYXN0VG9hc3RUaW1lXSA9IHVzZVN0YXRlPG51bWJlcj4oMCk7XG5cbiAgLy8gRnVuY3Rpb24gdG8gc2hvdyB0b2FzdCBvbmx5IGlmIGl0IGhhc24ndCBiZWVuIHNob3duIHJlY2VudGx5ICh3aXRoaW4gMyBzZWNvbmRzKVxuICBjb25zdCBzaG93RGVkdXBlZFRvYXN0ID0gdXNlQ2FsbGJhY2soKG1lc3NhZ2U6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG4gICAgY29uc3QgdGltZVNpbmNlTGFzdFRvYXN0ID0gbm93IC0gbGFzdFRvYXN0VGltZTtcbiAgICBjb25zdCBpc0R1cGxpY2F0ZU1lc3NhZ2UgPSBsYXN0VG9hc3RNZXNzYWdlID09PSBtZXNzYWdlO1xuICAgIFxuICAgIC8vIE9ubHkgc2hvdyB0b2FzdCBpZiBpdCdzIGEgZGlmZmVyZW50IG1lc3NhZ2UgT1IgaXQncyBiZWVuIG1vcmUgdGhhbiAzIHNlY29uZHNcbiAgICBpZiAoIWlzRHVwbGljYXRlTWVzc2FnZSB8fCB0aW1lU2luY2VMYXN0VG9hc3QgPiAzMDAwKSB7XG4gICAgICB0b2FzdC5lcnJvcihtZXNzYWdlKTtcbiAgICAgIHNldExhc3RUb2FzdE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICBzZXRMYXN0VG9hc3RUaW1lKG5vdyk7XG4gICAgfVxuICB9LCBbbGFzdFRvYXN0TWVzc2FnZSwgbGFzdFRvYXN0VGltZV0pO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZW5oYW5jZWRTZWN1cml0eUd1YXJkID0gYXN5bmMgKHVybDogc3RyaW5nKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBzZXRJc0F1dGhvcml6aW5nKHRydWUpO1xuICAgICAgICBcbiAgICAgICAgLy8gUGFyc2UgVVJMIHRvIGdldCBwYXRobmFtZSBhbmQgcXVlcnlcbiAgICAgICAgY29uc3QgW3BhdGhuYW1lLCBxdWVyeVN0cmluZ10gPSB1cmwuc3BsaXQoXCI/XCIpO1xuICAgICAgICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHF1ZXJ5U3RyaW5nIHx8IFwiXCIpO1xuICAgICAgICBjb25zdCBxdWVyeSA9IE9iamVjdC5mcm9tRW50cmllcyh1cmxQYXJhbXMuZW50cmllcygpKTtcblxuICAgICAgICBjb25zdCBwdWJsaWNSb3V0ZXMgPSBbXCIvbG9naW5cIiwgXCIvY2hhbmdlLXBhc3N3b3JkXCJdO1xuICAgICAgICBpZiAocHVibGljUm91dGVzLmluY2x1ZGVzKHBhdGhuYW1lKSkge1xuICAgICAgICAgIHNldElzQXV0aG9yaXppbmcoZmFsc2UpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEhhbmRsZSB0b2tlbi1vbmx5IHNlc3Npb25zIChlLmcuLCBTQU1MIHN1Y2Nlc3MgcGFnZSkgYnkgZmV0Y2hpbmcgdXNlclxuICAgICAgICBjb25zdCBoYXNUb2tlbiA9IGFwaUNsaWVudC5pc0F1dGhlbnRpY2F0ZWQoKTtcbiAgICAgICAgbGV0IHVzZXIgPSBhcGlDbGllbnQuZ2V0VXNlcigpO1xuICAgICAgICBpZiAoaGFzVG9rZW4gJiYgIXVzZXIpIHtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgdXNlciA9IGF3YWl0IGFwaUNsaWVudC5nZXRDdXJyZW50VXNlcigpO1xuICAgICAgICAgICAgc2VjdXJpdHlNYW5hZ2VyLnNldFVzZXIodXNlcik7XG4gICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgbG9nZ2VyLndhcm4oXCJUb2tlbiBwcmVzZW50IGJ1dCBmYWlsZWQgdG8gbG9hZCB1c2VyOyByZWRpcmVjdGluZyB0byBsb2dpblwiLCB7IGVycm9yOiBlIH0pO1xuICAgICAgICAgICAgcm91dGVyLnJlcGxhY2UoXCIvbG9naW5cIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoIWhhc1Rva2VuIHx8ICF1c2VyKSB7XG4gICAgICAgICAgbG9nZ2VyLndhcm4oXCJVbmF1dGhlbnRpY2F0ZWQgYWNjZXNzIGF0dGVtcHRcIiwgeyBcbiAgICAgICAgICAgIHBhdGhuYW1lLCBcbiAgICAgICAgICAgIHF1ZXJ5LCBcbiAgICAgICAgICAgIHVzZXJBZ2VudDogbmF2aWdhdG9yLnVzZXJBZ2VudCBcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByb3V0ZXIucmVwbGFjZShcIi9sb2dpblwiKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcGRhdGUgaW4tbWVtb3J5IHVzZXIgKyBhY3Rpdml0eVxuICAgICAgICBzZWN1cml0eU1hbmFnZXIuc2V0VXNlcih1c2VyKTtcbiAgICAgICAgYXBpQ2xpZW50LnVwZGF0ZUFjdGl2aXR5KCk7XG5cbiAgICAgICAgLy8gRm9yY2UgcGFzc3dvcmQgY2hhbmdlIGlmIHJlcXVpcmVkXG4gICAgICAgIGlmICh1c2VyPy5tdXN0X2NoYW5nZV9wYXNzd29yZCAmJiBwYXRobmFtZSAhPT0gXCIvY2hhbmdlLXBhc3N3b3JkXCIpIHtcbiAgICAgICAgICBsb2dnZXIuaW5mbyhcIlJlZGlyZWN0aW5nIHVzZXIgdG8gY2hhbmdlIHBhc3N3b3JkXCIsIHsgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWUgfSk7XG4gICAgICAgICAgcm91dGVyLnB1c2goXCIvY2hhbmdlLXBhc3N3b3JkXCIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGNhbkFjY2VzcyA9IGF3YWl0IHNlY3VyaXR5TWFuYWdlci5jYW5BY2Nlc3NSb3V0ZShwYXRobmFtZSwgcXVlcnkpO1xuICAgICAgICBpZiAoIWNhbkFjY2Vzcykge1xuICAgICAgICAgIGxvZ2dlci53YXJuKFwiQWNjZXNzIGRlbmllZCB0byByb3V0ZVwiLCB7IFxuICAgICAgICAgICAgcGF0aG5hbWUsIFxuICAgICAgICAgICAgcXVlcnksIFxuICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXI/LnVzZXJuYW1lLCBcbiAgICAgICAgICAgIHJvbGU6IHVzZXI/LnJvbGUgXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU2hvdyBhcHByb3ByaWF0ZSBlcnJvciBtZXNzYWdlICh3aXRoIGRlZHVwbGljYXRpb24pXG4gICAgICAgICAgaWYgKHBhdGhuYW1lLnN0YXJ0c1dpdGgoXCIvcmVwb3J0L1wiKSkge1xuICAgICAgICAgICAgc2hvd0RlZHVwZWRUb2FzdChcIkFjY2VzcyBkZW5pZWQ6IFlvdSBkb24ndCBoYXZlIHBlcm1pc3Npb24gdG8gdmlldyB0aGlzIHJlcG9ydFwiKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHBhdGhuYW1lLnN0YXJ0c1dpdGgoXCIvYWRtaW5cIikpIHtcbiAgICAgICAgICAgIHNob3dEZWR1cGVkVG9hc3QoXCJBY2Nlc3MgZGVuaWVkOiBBZG1pbiBwcml2aWxlZ2VzIHJlcXVpcmVkXCIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzaG93RGVkdXBlZFRvYXN0KFwiQWNjZXNzIGRlbmllZDogSW5zdWZmaWNpZW50IHBlcm1pc3Npb25zXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBzZWN1cml0eU1hbmFnZXIuaGFuZGxlVW5hdXRob3JpemVkQWNjZXNzKHJvdXRlciwgcGF0aG5hbWUpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHNldElzQXV0aG9yaXppbmcoZmFsc2UpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgbG9nZ2VyLmVycm9yKFwiU2VjdXJpdHkgZ3VhcmQgZXJyb3JcIiwgeyBlcnJvciwgdXJsIH0pO1xuICAgICAgICBzZXRJc0F1dGhvcml6aW5nKGZhbHNlKTtcbiAgICAgICAgLy8gT24gZXJyb3IsIHJlZGlyZWN0IHRvIGxvZ2luIGZvciBzYWZldHlcbiAgICAgICAgcm91dGVyLnJlcGxhY2UoXCIvbG9naW5cIik7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGVuaGFuY2VkU2VjdXJpdHlHdWFyZChyb3V0ZXIuYXNQYXRoKTtcblxuICAgIGNvbnN0IGhhbmRsZVJvdXRlQ2hhbmdlU3RhcnQgPSAodXJsOiBzdHJpbmcpID0+IHtcbiAgICAgIC8vIExvZyBuYXZpZ2F0aW9uIHRvIGZpbGVcbiAgICAgIGxvZ2dlci5uYXZpZ2F0aW9uKHJvdXRlci5hc1BhdGggfHwgJ3Vua25vd24nLCB1cmwsIHtcbiAgICAgICAgdXNlckFnZW50OiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IG5hdmlnYXRvci51c2VyQWdlbnQgOiB1bmRlZmluZWQsXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgZW5oYW5jZWRTZWN1cml0eUd1YXJkKHVybCk7XG4gICAgfTtcblxuICAgIHJvdXRlci5ldmVudHMub24oXCJyb3V0ZUNoYW5nZVN0YXJ0XCIsIGhhbmRsZVJvdXRlQ2hhbmdlU3RhcnQpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICByb3V0ZXIuZXZlbnRzLm9mZihcInJvdXRlQ2hhbmdlU3RhcnRcIiwgaGFuZGxlUm91dGVDaGFuZ2VTdGFydCk7XG4gICAgfTtcbiAgfSwgW3JvdXRlciwgc2hvd0RlZHVwZWRUb2FzdF0pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IHJlamVjdGlvbkhhbmRsZXIgPSAoZXZlbnQ6IFByb21pc2VSZWplY3Rpb25FdmVudCkgPT4ge1xuICAgICAgY29uc3QgcmVhc29uOiBhbnkgPSBldmVudC5yZWFzb247XG4gICAgICBpZiAoXG4gICAgICAgIHJlYXNvbj8uaXNBeGlvc0Vycm9yICYmXG4gICAgICAgIHJlYXNvbj8ucmVzcG9uc2U/LnN0YXR1cyA+PSA0MDAgJiZcbiAgICAgICAgcmVhc29uPy5yZXNwb25zZT8uc3RhdHVzIDwgNTAwXG4gICAgICApIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gU3VwcHJlc3MgTmV4dC5qcyBvdmVybGF5IGZvciBoYW5kbGVkIEF4aW9zIGVycm9yc1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBlcnJvckhhbmRsZXIgPSAoZXZlbnQ6IEVycm9yRXZlbnQpID0+IHtcbiAgICAgIC8vIFNvbWUgYnJvd3NlcnMgbWF5IHN1cmZhY2UgQXhpb3MgZXJyb3JzIHZpYSB0aGUgZ2VuZXJpYyBgZXJyb3JgIGV2ZW50IGluc3RlYWRcbiAgICAgIGNvbnN0IGVycjogYW55ID0gZXZlbnQuZXJyb3I7XG4gICAgICBpZiAoXG4gICAgICAgIGVycj8uaXNBeGlvc0Vycm9yICYmXG4gICAgICAgIGVycj8ucmVzcG9uc2U/LnN0YXR1cyA+PSA0MDAgJiZcbiAgICAgICAgZXJyPy5yZXNwb25zZT8uc3RhdHVzIDwgNTAwXG4gICAgICApIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gU3VwcHJlc3MgTmV4dC5qcyBvdmVybGF5IGZvciBoYW5kbGVkIEF4aW9zIGVycm9yc1xuICAgICAgfVxuICAgIH07XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInVuaGFuZGxlZHJlamVjdGlvblwiLCByZWplY3Rpb25IYW5kbGVyKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIGVycm9ySGFuZGxlcik7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwidW5oYW5kbGVkcmVqZWN0aW9uXCIsIHJlamVjdGlvbkhhbmRsZXIpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCBlcnJvckhhbmRsZXIpO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICBpZiAoaXNBdXRob3JpemluZykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1pbi1oLXNjcmVlbiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ncmFkaWVudC10by1iciBmcm9tLWJsdWUtNTAgdG8taW5kaWdvLTEwMFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtMTYgdy0xNiBib3JkZXItYi00IGJvcmRlci1ibHVlLTYwMCBteC1hdXRvIG1iLTZcIj48L2Rpdj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWxnIHRleHQtZ3JheS03MDAgZm9udC1tZWRpdW1cIj5WZXJpZnlpbmcgYWNjZXNzIHBlcm1pc3Npb25zLi4uPC9wPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMCBtdC0yXCI+UGxlYXNlIHdhaXQgd2hpbGUgd2UgY2hlY2sgeW91ciBhdXRob3JpemF0aW9uPC9wPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICk7XG4gIH1cblxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8Q29tcG9uZW50IHsuLi5wYWdlUHJvcHN9IC8+XG4gICAgICB7LyogR2xvYmFsIHRvYXN0ZXIgZm9yIGRpc3BsYXlpbmcgbm90aWZpY2F0aW9ucyAqL31cbiAgICAgIDxUb2FzdGVyXG4gICAgICAgIHBvc2l0aW9uPVwidG9wLXJpZ2h0XCJcbiAgICAgICAgcmV2ZXJzZU9yZGVyPXtmYWxzZX1cbiAgICAgICAgdG9hc3RPcHRpb25zPXt7XG4gICAgICAgICAgZHVyYXRpb246IDUwMDAsXG4gICAgICAgICAgc3VjY2VzczogeyBkdXJhdGlvbjogNTAwMCB9LFxuICAgICAgICAgIGVycm9yOiB7IGR1cmF0aW9uOiA1MDAwIH0sXG4gICAgICAgIH19XG4gICAgICAvPlxuICAgIDwvPlxuICApO1xufVxuIl0sIm5hbWVzIjpbIlRvYXN0ZXIiLCJ1c2VSb3V0ZXIiLCJhcGlDbGllbnQiLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwic2VjdXJpdHlNYW5hZ2VyIiwibG9nZ2VyIiwidG9hc3QiLCJBcHAiLCJDb21wb25lbnQiLCJwYWdlUHJvcHMiLCJyb3V0ZXIiLCJpc0F1dGhvcml6aW5nIiwic2V0SXNBdXRob3JpemluZyIsImxhc3RUb2FzdE1lc3NhZ2UiLCJzZXRMYXN0VG9hc3RNZXNzYWdlIiwibGFzdFRvYXN0VGltZSIsInNldExhc3RUb2FzdFRpbWUiLCJzaG93RGVkdXBlZFRvYXN0IiwibWVzc2FnZSIsIm5vdyIsIkRhdGUiLCJ0aW1lU2luY2VMYXN0VG9hc3QiLCJpc0R1cGxpY2F0ZU1lc3NhZ2UiLCJlcnJvciIsImVuaGFuY2VkU2VjdXJpdHlHdWFyZCIsInVybCIsInBhdGhuYW1lIiwicXVlcnlTdHJpbmciLCJzcGxpdCIsInVybFBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInF1ZXJ5IiwiT2JqZWN0IiwiZnJvbUVudHJpZXMiLCJlbnRyaWVzIiwicHVibGljUm91dGVzIiwiaW5jbHVkZXMiLCJoYXNUb2tlbiIsImlzQXV0aGVudGljYXRlZCIsInVzZXIiLCJnZXRVc2VyIiwiZ2V0Q3VycmVudFVzZXIiLCJzZXRVc2VyIiwiZSIsIndhcm4iLCJyZXBsYWNlIiwidXNlckFnZW50IiwibmF2aWdhdG9yIiwidXBkYXRlQWN0aXZpdHkiLCJtdXN0X2NoYW5nZV9wYXNzd29yZCIsImluZm8iLCJ1c2VybmFtZSIsInB1c2giLCJjYW5BY2Nlc3MiLCJjYW5BY2Nlc3NSb3V0ZSIsInJvbGUiLCJzdGFydHNXaXRoIiwiaGFuZGxlVW5hdXRob3JpemVkQWNjZXNzIiwiYXNQYXRoIiwiaGFuZGxlUm91dGVDaGFuZ2VTdGFydCIsIm5hdmlnYXRpb24iLCJ1bmRlZmluZWQiLCJldmVudHMiLCJvbiIsIm9mZiIsInJlamVjdGlvbkhhbmRsZXIiLCJldmVudCIsInJlYXNvbiIsImlzQXhpb3NFcnJvciIsInJlc3BvbnNlIiwic3RhdHVzIiwicHJldmVudERlZmF1bHQiLCJlcnJvckhhbmRsZXIiLCJlcnIiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRpdiIsImNsYXNzTmFtZSIsInAiLCJwb3NpdGlvbiIsInJldmVyc2VPcmRlciIsInRvYXN0T3B0aW9ucyIsImR1cmF0aW9uIiwic3VjY2VzcyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(pages-dir-node)/./src/pages/_app.tsx\n");

/***/ }),

/***/ "(pages-dir-node)/./src/pages/login.tsx":
/*!*****************************!*\
  !*** ./src/pages/login.tsx ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"(pages-dir-node)/./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react_hook_form__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-hook-form */ \"react-hook-form\");\n/* harmony import */ var react_hot_toast__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-hot-toast */ \"react-hot-toast\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../lib/api */ \"(pages-dir-node)/./src/lib/api.ts\");\n/* harmony import */ var _lib_logger__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../lib/logger */ \"(pages-dir-node)/./src/lib/logger.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([react_hook_form__WEBPACK_IMPORTED_MODULE_3__, react_hot_toast__WEBPACK_IMPORTED_MODULE_4__, _lib_api__WEBPACK_IMPORTED_MODULE_5__]);\n([react_hook_form__WEBPACK_IMPORTED_MODULE_3__, react_hot_toast__WEBPACK_IMPORTED_MODULE_4__, _lib_api__WEBPACK_IMPORTED_MODULE_5__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\n\nconst LoginPage = ()=>{\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [authMode, setAuthMode] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"form\");\n    const { register, handleSubmit, formState: { errors } } = (0,react_hook_form__WEBPACK_IMPORTED_MODULE_3__.useForm)();\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)({\n        \"LoginPage.useEffect\": ()=>{\n            if (_lib_api__WEBPACK_IMPORTED_MODULE_5__[\"default\"].isAuthenticated()) {\n                router.push(\"/dashboard\");\n                return;\n            }\n            const getAuthMode = {\n                \"LoginPage.useEffect.getAuthMode\": async ()=>{\n                    try {\n                        const mode = await _lib_api__WEBPACK_IMPORTED_MODULE_5__[\"default\"].getAuthMode();\n                        setAuthMode(mode);\n                    } catch (error) {\n                        _lib_logger__WEBPACK_IMPORTED_MODULE_6__.logger.error(\"Error getting auth mode\", {\n                            error\n                        });\n                    }\n                }\n            }[\"LoginPage.useEffect.getAuthMode\"];\n            getAuthMode();\n        }\n    }[\"LoginPage.useEffect\"], [\n        router\n    ]);\n    const onSubmit = async (data)=>{\n        setLoading(true);\n        // Optimized timeout for better UX - 5 seconds max  \n        const loadingTimeout = setTimeout(()=>{\n            setLoading(false);\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__.toast.error(\"Login is taking too long. Please try again.\");\n            _lib_logger__WEBPACK_IMPORTED_MODULE_6__.logger.warn(\"Login timeout - request took too long\");\n        }, 5000);\n        try {\n            await _lib_api__WEBPACK_IMPORTED_MODULE_5__[\"default\"].login(data);\n            clearTimeout(loadingTimeout);\n            // Login successful - user will see dashboard page as confirmation\n            router.push(\"/dashboard\");\n        } catch (error) {\n            clearTimeout(loadingTimeout);\n            setLoading(false); // Immediately stop loading on error\n            _lib_logger__WEBPACK_IMPORTED_MODULE_6__.logger.error(\"Login error\", {\n                error,\n                username: data?.username\n            });\n            let errMessage = \"Invalid username or password\";\n            if (error && typeof error === \"object\" && \"response\" in error) {\n                const responseError = error;\n                // Handle different error response formats\n                errMessage = responseError.response?.data?.detail || responseError.response?.data?.message || errMessage;\n                if (responseError.response?.status === 429) {\n                    errMessage = errMessage || \"Too many attempts. Please wait and try again.\";\n                }\n            } else if (error instanceof Error) {\n                if (error.message.includes(\"timeout\")) {\n                    errMessage = \"Connection timed out. Please check your internet connection.\";\n                } else if (error.message.includes(\"Network Error\")) {\n                    errMessage = \"Cannot connect to server. Please check if the server is running.\";\n                } else if (error.message.includes(\"429\")) {\n                    errMessage = \"Too many login attempts. Please wait a few minutes and try again.\";\n                }\n            }\n            // Show error immediately\n            react_hot_toast__WEBPACK_IMPORTED_MODULE_4__.toast.error(errMessage, {\n                duration: 4000\n            });\n            return; // Exit early, don't execute finally block\n        }\n        // Only clear loading if we got here successfully\n        clearTimeout(loadingTimeout);\n        setLoading(false);\n    };\n    const handleSamlLogin = ()=>{\n        // Redirect to SAML login endpoint\n        window.location.href = `${\"http://localhost:8005\"}/auth/saml/login`;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"max-w-md w-full space-y-8\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-primary-500\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                className: \"h-6 w-6 text-white\",\n                                fill: \"none\",\n                                stroke: \"currentColor\",\n                                viewBox: \"0 0 24 24\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                    strokeLinecap: \"round\",\n                                    strokeLinejoin: \"round\",\n                                    strokeWidth: 2,\n                                    d: \"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"\n                                }, void 0, false, {\n                                    fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\login.tsx\",\n                                    lineNumber: 106,\n                                    columnNumber: 15\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\login.tsx\",\n                                lineNumber: 100,\n                                columnNumber: 13\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\login.tsx\",\n                            lineNumber: 99,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"mt-6 text-center text-3xl font-extrabold text-gray-900\",\n                            children: \"Data Analytics Platform\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\login.tsx\",\n                            lineNumber: 114,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"mt-2 text-center text-sm text-gray-600\",\n                            children: \"Sign in to access your dashboard\"\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\login.tsx\",\n                            lineNumber: 117,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\login.tsx\",\n                    lineNumber: 98,\n                    columnNumber: 9\n                }, undefined),\n                authMode === \"form\" ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"form\", {\n                    className: \"mt-8 space-y-6\",\n                    onSubmit: handleSubmit(onSubmit),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"rounded-md shadow-sm -space-y-px\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            htmlFor: \"username\",\n                                            className: \"sr-only\",\n                                            children: \"Username\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\login.tsx\",\n                                            lineNumber: 126,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            ...register(\"username\", {\n                                                required: \"Username is required\"\n                                            }),\n                                            type: \"text\",\n                                            autoComplete: \"username\",\n                                            className: \"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\",\n                                            placeholder: \"Username\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\login.tsx\",\n                                            lineNumber: 129,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        errors.username && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"mt-1 text-sm text-red-600\",\n                                            children: errors.username.message\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\login.tsx\",\n                                            lineNumber: 139,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\login.tsx\",\n                                    lineNumber: 125,\n                                    columnNumber: 15\n                                }, undefined),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            htmlFor: \"password\",\n                                            className: \"sr-only\",\n                                            children: \"Password\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\login.tsx\",\n                                            lineNumber: 145,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            ...register(\"password\", {\n                                                required: \"Password is required\"\n                                            }),\n                                            type: \"password\",\n                                            autoComplete: \"current-password\",\n                                            className: \"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm\",\n                                            placeholder: \"Password\"\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\login.tsx\",\n                                            lineNumber: 148,\n                                            columnNumber: 17\n                                        }, undefined),\n                                        errors.password && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                            className: \"mt-1 text-sm text-red-600\",\n                                            children: errors.password.message\n                                        }, void 0, false, {\n                                            fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\login.tsx\",\n                                            lineNumber: 158,\n                                            columnNumber: 19\n                                        }, undefined)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\login.tsx\",\n                                    lineNumber: 144,\n                                    columnNumber: 15\n                                }, undefined)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\login.tsx\",\n                            lineNumber: 124,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                type: \"submit\",\n                                disabled: loading,\n                                className: \"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed\",\n                                children: [\n                                    loading ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"svg\", {\n                                        className: \"animate-spin -ml-1 mr-3 h-5 w-5 text-white\",\n                                        fill: \"none\",\n                                        viewBox: \"0 0 24 24\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"circle\", {\n                                                className: \"opacity-25\",\n                                                cx: \"12\",\n                                                cy: \"12\",\n                                                r: \"10\",\n                                                stroke: \"currentColor\",\n                                                strokeWidth: \"4\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\login.tsx\",\n                                                lineNumber: 177,\n                                                columnNumber: 21\n                                            }, undefined),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"path\", {\n                                                className: \"opacity-75\",\n                                                fill: \"currentColor\",\n                                                d: \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n                                            }, void 0, false, {\n                                                fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\login.tsx\",\n                                                lineNumber: 185,\n                                                columnNumber: 21\n                                            }, undefined)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\login.tsx\",\n                                        lineNumber: 172,\n                                        columnNumber: 19\n                                    }, undefined) : null,\n                                    loading ? \"Signing in...\" : \"Sign in\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\login.tsx\",\n                                lineNumber: 166,\n                                columnNumber: 15\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\login.tsx\",\n                            lineNumber: 165,\n                            columnNumber: 13\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-center\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-sm text-gray-600\",\n                                children: \"Default credentials: admin / admin123\"\n                            }, void 0, false, {\n                                fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\login.tsx\",\n                                lineNumber: 197,\n                                columnNumber: 15\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\login.tsx\",\n                            lineNumber: 196,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\login.tsx\",\n                    lineNumber: 123,\n                    columnNumber: 11\n                }, undefined) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mt-8\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                        onClick: handleSamlLogin,\n                        className: \"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",\n                        children: \"Sign in with SAML\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\login.tsx\",\n                        lineNumber: 204,\n                        columnNumber: 13\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\login.tsx\",\n                    lineNumber: 203,\n                    columnNumber: 11\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"mt-6 text-center\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                        className: \"text-xs text-gray-500\",\n                        children: \"Powered by Oracle Database & FastAPI\"\n                    }, void 0, false, {\n                        fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\login.tsx\",\n                        lineNumber: 214,\n                        columnNumber: 11\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\login.tsx\",\n                    lineNumber: 213,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true, {\n            fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\login.tsx\",\n            lineNumber: 97,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"C:\\\\Users\\\\Malik Ameer Hamza\\\\Downloads\\\\CompleteCode-ErrorFixed\\\\completecode\\\\frontend\\\\src\\\\pages\\\\login.tsx\",\n        lineNumber: 96,\n        columnNumber: 5\n    }, undefined);\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (LoginPage);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHBhZ2VzLWRpci1ub2RlKS8uL3NyYy9wYWdlcy9sb2dpbi50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW1EO0FBQ1g7QUFDRTtBQUNGO0FBQ0w7QUFFSTtBQUV2QyxNQUFNUSxZQUFzQjtJQUMxQixNQUFNQyxTQUFTTixzREFBU0E7SUFDeEIsTUFBTSxDQUFDTyxTQUFTQyxXQUFXLEdBQUdWLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQ1csVUFBVUMsWUFBWSxHQUFHWiwrQ0FBUUEsQ0FBa0I7SUFFMUQsTUFBTSxFQUNKYSxRQUFRLEVBQ1JDLFlBQVksRUFDWkMsV0FBVyxFQUFFQyxNQUFNLEVBQUUsRUFDdEIsR0FBR2Isd0RBQU9BO0lBRVhGLGdEQUFTQTsrQkFBQztZQUNSLElBQUlJLGdFQUF5QixJQUFJO2dCQUMvQkcsT0FBT1UsSUFBSSxDQUFDO2dCQUNaO1lBQ0Y7WUFFQSxNQUFNQzttREFBYztvQkFDbEIsSUFBSTt3QkFDRixNQUFNQyxPQUFPLE1BQU1mLDREQUFxQjt3QkFDeENPLFlBQVlRO29CQUNkLEVBQUUsT0FBT0MsT0FBTzt3QkFDZGYsK0NBQU1BLENBQUNlLEtBQUssQ0FBQywyQkFBMkI7NEJBQUVBO3dCQUFNO29CQUNsRDtnQkFDRjs7WUFFQUY7UUFDRjs4QkFBRztRQUFDWDtLQUFPO0lBRVgsTUFBTWMsV0FBVyxPQUFPQztRQUN0QmIsV0FBVztRQUVYLG9EQUFvRDtRQUNwRCxNQUFNYyxpQkFBaUJDLFdBQVc7WUFDaENmLFdBQVc7WUFDWE4sa0RBQUtBLENBQUNpQixLQUFLLENBQUM7WUFDWmYsK0NBQU1BLENBQUNvQixJQUFJLENBQUM7UUFDZCxHQUFHO1FBRUgsSUFBSTtZQUNGLE1BQU1yQixzREFBZSxDQUFDa0I7WUFDdEJLLGFBQWFKO1lBQ2Isa0VBQWtFO1lBQ2xFaEIsT0FBT1UsSUFBSSxDQUFDO1FBQ2QsRUFBRSxPQUFPRyxPQUFnQjtZQUN2Qk8sYUFBYUo7WUFDYmQsV0FBVyxRQUFRLG9DQUFvQztZQUV2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QUNWRSxNQUFLO3dDQUNMRSxTQUFROzswREFFUiw4REFBQ21CO2dEQUNDdkIsV0FBVTtnREFDVndCLElBQUc7Z0RBQ0hDLElBQUc7Z0RBQ0hDLEdBQUU7Z0RBQ0Z2QixRQUFPO2dEQUNQSyxhQUFZOzs7Ozs7MERBRWQsOERBQUNIO2dEQUNDTCxXQUFVO2dEQUNWRSxNQUFLO2dEQUNMTyxHQUFFOzs7Ozs7Ozs7OztvREFHSjtvQ0FDSC9DLFVBQVUsa0JBQWtCOzs7Ozs7Ozs7Ozs7c0NBSWpDLDhEQUFDcUM7NEJBQUlDLFdBQVU7c0NBQ2IsNEVBQUNXO2dDQUFFWCxXQUFVOzBDQUF3Qjs7Ozs7Ozs7Ozs7Ozs7Ozs4Q0FNekMsOERBQUNEO29CQUFJQyxXQUFVOzhCQUNiLDRFQUFDcUI7d0JBQ0NNLFNBQVNuQzt3QkFDVFEsV0FBVTtrQ0FDWDs7Ozs7Ozs7Ozs7OEJBTUwsOERBQUNEO29CQUFJQyxXQUFVOzhCQUNiLDRFQUFDVzt3QkFBRVgsV0FBVTtrQ0FBd0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFPL0M7QUFFQSxpRUFBZXhDLFNBQVNBLEVBQUMiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTWFsaWsgQW1lZXIgSGFtemFcXERvd25sb2Fkc1xcQ29tcGxldGVDb2RlLUVycm9yRml4ZWRcXGNvbXBsZXRlY29kZVxcZnJvbnRlbmRcXHNyY1xccGFnZXNcXGxvZ2luLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSBcIm5leHQvcm91dGVyXCI7XG5pbXBvcnQgeyB1c2VGb3JtIH0gZnJvbSBcInJlYWN0LWhvb2stZm9ybVwiO1xuaW1wb3J0IHsgdG9hc3QgfSBmcm9tIFwicmVhY3QtaG90LXRvYXN0XCI7XG5pbXBvcnQgYXBpQ2xpZW50IGZyb20gXCIuLi9saWIvYXBpXCI7XG5pbXBvcnQgeyBMb2dpbkZvcm1EYXRhIH0gZnJvbSBcIi4uL3R5cGVzXCI7XG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tIFwiLi4vbGliL2xvZ2dlclwiO1xuXG5jb25zdCBMb2dpblBhZ2U6IFJlYWN0LkZDID0gKCkgPT4ge1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbYXV0aE1vZGUsIHNldEF1dGhNb2RlXSA9IHVzZVN0YXRlPFwiZm9ybVwiIHwgXCJzYW1sXCI+KFwiZm9ybVwiKTtcblxuICBjb25zdCB7XG4gICAgcmVnaXN0ZXIsXG4gICAgaGFuZGxlU3VibWl0LFxuICAgIGZvcm1TdGF0ZTogeyBlcnJvcnMgfSxcbiAgfSA9IHVzZUZvcm08TG9naW5Gb3JtRGF0YT4oKTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChhcGlDbGllbnQuaXNBdXRoZW50aWNhdGVkKCkpIHtcbiAgICAgIHJvdXRlci5wdXNoKFwiL2Rhc2hib2FyZFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBnZXRBdXRoTW9kZSA9IGFzeW5jICgpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IG1vZGUgPSBhd2FpdCBhcGlDbGllbnQuZ2V0QXV0aE1vZGUoKTtcbiAgICAgICAgc2V0QXV0aE1vZGUobW9kZSBhcyBcImZvcm1cIiB8IFwic2FtbFwiKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGxvZ2dlci5lcnJvcihcIkVycm9yIGdldHRpbmcgYXV0aCBtb2RlXCIsIHsgZXJyb3IgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGdldEF1dGhNb2RlKCk7XG4gIH0sIFtyb3V0ZXJdKTtcblxuICBjb25zdCBvblN1Ym1pdCA9IGFzeW5jIChkYXRhOiBMb2dpbkZvcm1EYXRhKSA9PiB7XG4gICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICBcbiAgICAvLyBPcHRpbWl6ZWQgdGltZW91dCBmb3IgYmV0dGVyIFVYIC0gNSBzZWNvbmRzIG1heCAgXG4gICAgY29uc3QgbG9hZGluZ1RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgdG9hc3QuZXJyb3IoXCJMb2dpbiBpcyB0YWtpbmcgdG9vIGxvbmcuIFBsZWFzZSB0cnkgYWdhaW4uXCIpO1xuICAgICAgbG9nZ2VyLndhcm4oXCJMb2dpbiB0aW1lb3V0IC0gcmVxdWVzdCB0b29rIHRvbyBsb25nXCIpO1xuICAgIH0sIDUwMDApO1xuXG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGFwaUNsaWVudC5sb2dpbihkYXRhKTtcbiAgICAgIGNsZWFyVGltZW91dChsb2FkaW5nVGltZW91dCk7XG4gICAgICAvLyBMb2dpbiBzdWNjZXNzZnVsIC0gdXNlciB3aWxsIHNlZSBkYXNoYm9hcmQgcGFnZSBhcyBjb25maXJtYXRpb25cbiAgICAgIHJvdXRlci5wdXNoKFwiL2Rhc2hib2FyZFwiKTtcbiAgICB9IGNhdGNoIChlcnJvcjogdW5rbm93bikge1xuICAgICAgY2xlYXJUaW1lb3V0KGxvYWRpbmdUaW1lb3V0KTtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpOyAvLyBJbW1lZGlhdGVseSBzdG9wIGxvYWRpbmcgb24gZXJyb3JcbiAgICAgIFxuICAgICAgbG9nZ2VyLmVycm9yKFwiTG9naW4gZXJyb3JcIiwgeyBlcnJvciwgdXNlcm5hbWU6IGRhdGE/LnVzZXJuYW1lIH0pO1xuICAgICAgXG4gICAgICBsZXQgZXJyTWVzc2FnZSA9IFwiSW52YWxpZCB1c2VybmFtZSBvciBwYXNzd29yZFwiO1xuICAgICAgXG4gICAgICBpZiAoZXJyb3IgJiYgdHlwZW9mIGVycm9yID09PSBcIm9iamVjdFwiICYmIFwicmVzcG9uc2VcIiBpbiBlcnJvcikge1xuICAgICAgICBjb25zdCByZXNwb25zZUVycm9yID0gZXJyb3IgYXMgeyByZXNwb25zZT86IHsgc3RhdHVzPzogbnVtYmVyLCBkYXRhPzogeyBkZXRhaWw/OiBzdHJpbmcsIG1lc3NhZ2U/OiBzdHJpbmcgfSB9IH07XG4gICAgICAgIC8vIEhhbmRsZSBkaWZmZXJlbnQgZXJyb3IgcmVzcG9uc2UgZm9ybWF0c1xuICAgICAgICBlcnJNZXNzYWdlID0gcmVzcG9uc2VFcnJvci5yZXNwb25zZT8uZGF0YT8uZGV0YWlsIHx8IFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZUVycm9yLnJlc3BvbnNlPy5kYXRhPy5tZXNzYWdlIHx8IFxuICAgICAgICAgICAgICAgICAgICBlcnJNZXNzYWdlO1xuICAgICAgICBpZiAocmVzcG9uc2VFcnJvci5yZXNwb25zZT8uc3RhdHVzID09PSA0MjkpIHtcbiAgICAgICAgICBlcnJNZXNzYWdlID0gZXJyTWVzc2FnZSB8fCBcIlRvbyBtYW55IGF0dGVtcHRzLiBQbGVhc2Ugd2FpdCBhbmQgdHJ5IGFnYWluLlwiO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoXCJ0aW1lb3V0XCIpKSB7XG4gICAgICAgICAgZXJyTWVzc2FnZSA9IFwiQ29ubmVjdGlvbiB0aW1lZCBvdXQuIFBsZWFzZSBjaGVjayB5b3VyIGludGVybmV0IGNvbm5lY3Rpb24uXCI7XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcyhcIk5ldHdvcmsgRXJyb3JcIikpIHtcbiAgICAgICAgICBlcnJNZXNzYWdlID0gXCJDYW5ub3QgY29ubmVjdCB0byBzZXJ2ZXIuIFBsZWFzZSBjaGVjayBpZiB0aGUgc2VydmVyIGlzIHJ1bm5pbmcuXCI7XG4gICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcyhcIjQyOVwiKSkge1xuICAgICAgICAgIGVyck1lc3NhZ2UgPSBcIlRvbyBtYW55IGxvZ2luIGF0dGVtcHRzLiBQbGVhc2Ugd2FpdCBhIGZldyBtaW51dGVzIGFuZCB0cnkgYWdhaW4uXCI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU2hvdyBlcnJvciBpbW1lZGlhdGVseVxuICAgICAgdG9hc3QuZXJyb3IoZXJyTWVzc2FnZSwgeyBkdXJhdGlvbjogNDAwMCB9KTtcbiAgICAgIHJldHVybjsgLy8gRXhpdCBlYXJseSwgZG9uJ3QgZXhlY3V0ZSBmaW5hbGx5IGJsb2NrXG4gICAgfVxuICAgIFxuICAgIC8vIE9ubHkgY2xlYXIgbG9hZGluZyBpZiB3ZSBnb3QgaGVyZSBzdWNjZXNzZnVsbHlcbiAgICBjbGVhclRpbWVvdXQobG9hZGluZ1RpbWVvdXQpO1xuICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVNhbWxMb2dpbiA9ICgpID0+IHtcbiAgICAvLyBSZWRpcmVjdCB0byBTQU1MIGxvZ2luIGVuZHBvaW50XG4gICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgJHtwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMfS9hdXRoL3NhbWwvbG9naW5gO1xuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJtaW4taC1zY3JlZW4gZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgYmctZ3JheS01MCBweS0xMiBweC00IHNtOnB4LTYgbGc6cHgtOFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJtYXgtdy1tZCB3LWZ1bGwgc3BhY2UteS04XCI+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJteC1hdXRvIGgtMTIgdy0xMiBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWZ1bGwgYmctcHJpbWFyeS01MDBcIj5cbiAgICAgICAgICAgIDxzdmdcbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiaC02IHctNiB0ZXh0LXdoaXRlXCJcbiAgICAgICAgICAgICAgZmlsbD1cIm5vbmVcIlxuICAgICAgICAgICAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgICAgICB2aWV3Qm94PVwiMCAwIDI0IDI0XCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPHBhdGhcbiAgICAgICAgICAgICAgICBzdHJva2VMaW5lY2FwPVwicm91bmRcIlxuICAgICAgICAgICAgICAgIHN0cm9rZUxpbmVqb2luPVwicm91bmRcIlxuICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoPXsyfVxuICAgICAgICAgICAgICAgIGQ9XCJNOSAxOXYtNmEyIDIgMCAwMC0yLTJINWEyIDIgMCAwMC0yIDJ2NmEyIDIgMCAwMDIgMmgyYTIgMiAwIDAwMi0yem0wIDBWOWEyIDIgMCAwMTItMmgyYTIgMiAwIDAxMiAydjEwbS02IDBhMiAyIDAgMDAyIDJoMmEyIDIgMCAwMDItMm0wIDBWNWEyIDIgMCAwMTItMmgyYTIgMiAwIDAxMiAydjE0YTIgMiAwIDAxLTIgMmgtMmEyIDIgMCAwMS0yLTJ6XCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxoMiBjbGFzc05hbWU9XCJtdC02IHRleHQtY2VudGVyIHRleHQtM3hsIGZvbnQtZXh0cmFib2xkIHRleHQtZ3JheS05MDBcIj5cbiAgICAgICAgICAgIERhdGEgQW5hbHl0aWNzIFBsYXRmb3JtXG4gICAgICAgICAgPC9oMj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtdC0yIHRleHQtY2VudGVyIHRleHQtc20gdGV4dC1ncmF5LTYwMFwiPlxuICAgICAgICAgICAgU2lnbiBpbiB0byBhY2Nlc3MgeW91ciBkYXNoYm9hcmRcbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHthdXRoTW9kZSA9PT0gXCJmb3JtXCIgPyAoXG4gICAgICAgICAgPGZvcm0gY2xhc3NOYW1lPVwibXQtOCBzcGFjZS15LTZcIiBvblN1Ym1pdD17aGFuZGxlU3VibWl0KG9uU3VibWl0KX0+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdW5kZWQtbWQgc2hhZG93LXNtIC1zcGFjZS15LXB4XCI+XG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJ1c2VybmFtZVwiIGNsYXNzTmFtZT1cInNyLW9ubHlcIj5cbiAgICAgICAgICAgICAgICAgIFVzZXJuYW1lXG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHsuLi5yZWdpc3RlcihcInVzZXJuYW1lXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IFwiVXNlcm5hbWUgaXMgcmVxdWlyZWRcIixcbiAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgYXV0b0NvbXBsZXRlPVwidXNlcm5hbWVcIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYXBwZWFyYW5jZS1ub25lIHJvdW5kZWQtbm9uZSByZWxhdGl2ZSBibG9jayB3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcGxhY2Vob2xkZXItZ3JheS01MDAgdGV4dC1ncmF5LTkwMCByb3VuZGVkLXQtbWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctcHJpbWFyeS01MDAgZm9jdXM6Ym9yZGVyLXByaW1hcnktNTAwIGZvY3VzOnotMTAgc206dGV4dC1zbVwiXG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlVzZXJuYW1lXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIHtlcnJvcnMudXNlcm5hbWUgJiYgKFxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMSB0ZXh0LXNtIHRleHQtcmVkLTYwMFwiPlxuICAgICAgICAgICAgICAgICAgICB7ZXJyb3JzLnVzZXJuYW1lLm1lc3NhZ2V9XG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJwYXNzd29yZFwiIGNsYXNzTmFtZT1cInNyLW9ubHlcIj5cbiAgICAgICAgICAgICAgICAgIFBhc3N3b3JkXG4gICAgICAgICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHsuLi5yZWdpc3RlcihcInBhc3N3b3JkXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IFwiUGFzc3dvcmQgaXMgcmVxdWlyZWRcIixcbiAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgdHlwZT1cInBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICAgIGF1dG9Db21wbGV0ZT1cImN1cnJlbnQtcGFzc3dvcmRcIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYXBwZWFyYW5jZS1ub25lIHJvdW5kZWQtbm9uZSByZWxhdGl2ZSBibG9jayB3LWZ1bGwgcHgtMyBweS0yIGJvcmRlciBib3JkZXItZ3JheS0zMDAgcGxhY2Vob2xkZXItZ3JheS01MDAgdGV4dC1ncmF5LTkwMCByb3VuZGVkLWItbWQgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctcHJpbWFyeS01MDAgZm9jdXM6Ym9yZGVyLXByaW1hcnktNTAwIGZvY3VzOnotMTAgc206dGV4dC1zbVwiXG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIHtlcnJvcnMucGFzc3dvcmQgJiYgKFxuICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwibXQtMSB0ZXh0LXNtIHRleHQtcmVkLTYwMFwiPlxuICAgICAgICAgICAgICAgICAgICB7ZXJyb3JzLnBhc3N3b3JkLm1lc3NhZ2V9XG4gICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgICAgICAgIGRpc2FibGVkPXtsb2FkaW5nfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImdyb3VwIHJlbGF0aXZlIHctZnVsbCBmbGV4IGp1c3RpZnktY2VudGVyIHB5LTIgcHgtNCBib3JkZXIgYm9yZGVyLXRyYW5zcGFyZW50IHRleHQtc20gZm9udC1tZWRpdW0gcm91bmRlZC1tZCB0ZXh0LXdoaXRlIGJnLXByaW1hcnktNjAwIGhvdmVyOmJnLXByaW1hcnktNzAwIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1vZmZzZXQtMiBmb2N1czpyaW5nLXByaW1hcnktNTAwIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtsb2FkaW5nID8gKFxuICAgICAgICAgICAgICAgICAgPHN2Z1xuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhbmltYXRlLXNwaW4gLW1sLTEgbXItMyBoLTUgdy01IHRleHQtd2hpdGVcIlxuICAgICAgICAgICAgICAgICAgICBmaWxsPVwibm9uZVwiXG4gICAgICAgICAgICAgICAgICAgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8Y2lyY2xlXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwib3BhY2l0eS0yNVwiXG4gICAgICAgICAgICAgICAgICAgICAgY3g9XCIxMlwiXG4gICAgICAgICAgICAgICAgICAgICAgY3k9XCIxMlwiXG4gICAgICAgICAgICAgICAgICAgICAgcj1cIjEwXCJcbiAgICAgICAgICAgICAgICAgICAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoPVwiNFwiXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDxwYXRoXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwib3BhY2l0eS03NVwiXG4gICAgICAgICAgICAgICAgICAgICAgZmlsbD1cImN1cnJlbnRDb2xvclwiXG4gICAgICAgICAgICAgICAgICAgICAgZD1cIk00IDEyYTggOCAwIDAxOC04VjBDNS4zNzMgMCAwIDUuMzczIDAgMTJoNHptMiA1LjI5MUE3Ljk2MiA3Ljk2MiAwIDAxNCAxMkgwYzAgMy4wNDIgMS4xMzUgNS44MjQgMyA3LjkzOGwzLTIuNjQ3elwiXG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICApIDogbnVsbH1cbiAgICAgICAgICAgICAgICB7bG9hZGluZyA/IFwiU2lnbmluZyBpbi4uLlwiIDogXCJTaWduIGluXCJ9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwXCI+XG4gICAgICAgICAgICAgICAgRGVmYXVsdCBjcmVkZW50aWFsczogYWRtaW4gLyBhZG1pbjEyM1xuICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Zvcm0+XG4gICAgICAgICkgOiAoXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC04XCI+XG4gICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZVNhbWxMb2dpbn1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZ3JvdXAgcmVsYXRpdmUgdy1mdWxsIGZsZXgganVzdGlmeS1jZW50ZXIgcHktMiBweC00IGJvcmRlciBib3JkZXItdHJhbnNwYXJlbnQgdGV4dC1zbSBmb250LW1lZGl1bSByb3VuZGVkLW1kIHRleHQtd2hpdGUgYmctcHJpbWFyeS02MDAgaG92ZXI6YmctcHJpbWFyeS03MDAgZm9jdXM6b3V0bGluZS1ub25lIGZvY3VzOnJpbmctMiBmb2N1czpyaW5nLW9mZnNldC0yIGZvY3VzOnJpbmctcHJpbWFyeS01MDBcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBTaWduIGluIHdpdGggU0FNTFxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC02IHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14cyB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICBQb3dlcmVkIGJ5IE9yYWNsZSBEYXRhYmFzZSAmIEZhc3RBUElcbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBMb2dpblBhZ2U7XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZVJvdXRlciIsInVzZUZvcm0iLCJ0b2FzdCIsImFwaUNsaWVudCIsImxvZ2dlciIsIkxvZ2luUGFnZSIsInJvdXRlciIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiYXV0aE1vZGUiLCJzZXRBdXRoTW9kZSIsInJlZ2lzdGVyIiwiaGFuZGxlU3VibWl0IiwiZm9ybVN0YXRlIiwiZXJyb3JzIiwiaXNBdXRoZW50aWNhdGVkIiwicHVzaCIsImdldEF1dGhNb2RlIiwibW9kZSIsImVycm9yIiwib25TdWJtaXQiLCJkYXRhIiwibG9hZGluZ1RpbWVvdXQiLCJzZXRUaW1lb3V0Iiwid2FybiIsImxvZ2luIiwiY2xlYXJUaW1lb3V0IiwidXNlcm5hbWUiLCJlcnJNZXNzYWdlIiwicmVzcG9uc2VFcnJvciIsInJlc3BvbnNlIiwiZGV0YWlsIiwibWVzc2FnZSIsInN0YXR1cyIsIkVycm9yIiwiaW5jbHVkZXMiLCJkdXJhdGlvbiIsImhhbmRsZVNhbWxMb2dpbiIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUElfVVJMIiwiZGl2IiwiY2xhc3NOYW1lIiwic3ZnIiwiZmlsbCIsInN0cm9rZSIsInZpZXdCb3giLCJwYXRoIiwic3Ryb2tlTGluZWNhcCIsInN0cm9rZUxpbmVqb2luIiwic3Ryb2tlV2lkdGgiLCJkIiwiaDIiLCJwIiwiZm9ybSIsImxhYmVsIiwiaHRtbEZvciIsImlucHV0IiwicmVxdWlyZWQiLCJ0eXBlIiwiYXV0b0NvbXBsZXRlIiwicGxhY2Vob2xkZXIiLCJwYXNzd29yZCIsImJ1dHRvbiIsImRpc2FibGVkIiwiY2lyY2xlIiwiY3giLCJjeSIsInIiLCJvbkNsaWNrIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(pages-dir-node)/./src/pages/login.tsx\n");

/***/ }),

/***/ "(pages-dir-node)/./src/styles/globals.css":
/*!********************************!*\
  !*** ./src/styles/globals.css ***!
  \********************************/
/***/ (() => {



/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = import("axios");;

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "next/dist/compiled/next-server/pages.runtime.dev.js":
/*!**********************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages.runtime.dev.js" ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/pages.runtime.dev.js");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react-dom":
/*!****************************!*\
  !*** external "react-dom" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("react-dom");

/***/ }),

/***/ "react-hook-form":
/*!**********************************!*\
  !*** external "react-hook-form" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = import("react-hook-form");;

/***/ }),

/***/ "react-hot-toast":
/*!**********************************!*\
  !*** external "react-hot-toast" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = import("react-hot-toast");;

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "react/jsx-runtime":
/*!************************************!*\
  !*** external "react/jsx-runtime" ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-runtime");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc"], () => (__webpack_exec__("(pages-dir-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2Flogin&preferredRegion=&absolutePagePath=.%2Fsrc%5Cpages%5Clogin.tsx&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();